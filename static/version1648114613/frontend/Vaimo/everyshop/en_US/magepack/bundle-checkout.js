/*!
* jQuery UI Datepicker - v1.10.4
* http://jqueryui.com
*
* Copyright 2014 jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
* http://api.jqueryui.com/datepicker/
*/define('jquery-ui-modules/datepicker',['jquery','jquery-ui-modules/core',],function($,undefined){$.extend($.ui,{datepicker:{version:"1.10.4"}});var PROP_NAME="datepicker",instActive;function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+
"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}catch(err){throw "Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+
"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+
"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,PROP_NAME))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw "Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw "Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw "Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw "Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case "d":day=getNumber("d");break;case "D":getName("D",dayNamesShort,dayNames);break;case "o":doy=getNumber("o");break;case "m":month=getNumber("m");break;case "M":month=getName("M",monthNamesShort,monthNames);break;case "y":year=getNumber("y");break;case "@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case "!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case "'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw "Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw "Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return "";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case "d":output+=formatNumber("d",date.getDate(),2);break;case "D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case "o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case "m":output+=formatNumber("m",date.getMonth()+1,2);break;case "M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case "y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case "@":output+=date.getTime();break;case "!":output+=date.getTime()*10000+this._ticksTo1970;break;case "'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case "d":case "m":case "y":case "@":chars+="0123456789";break;case "D":case "M":return null;case "'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case "d":case "D":day+=parseInt(matches[1],10);break;case "w":case "W":day+=parseInt(matches[1],10)*7;break;case "m":case "M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case "y":case "Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+
" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+
" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+
">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+
"</div><table class='ui-datepicker-calendar'><thead>"+
"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+
"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+
"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+
">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+
">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.10.4";});define('Magento_Ui/js/block-loader',['ko','jquery','Magento_Ui/js/lib/knockout/template/loader','mage/template'],function(ko,$,templateLoader,template){'use strict';var blockLoaderTemplatePath='ui/block-loader',blockContentLoadingClass='_block-content-loading',blockLoader,blockLoaderClass,loaderImageHref;templateLoader.loadTemplate(blockLoaderTemplatePath).done(function(blockLoaderTemplate){blockLoader=template($.trim(blockLoaderTemplate),{loaderImageHref:loaderImageHref});blockLoader=$(blockLoader);blockLoaderClass='.'+blockLoader.attr('class');});function isLoadingClassRequired(element){var position=element.css('position');if(position==='absolute'||position==='fixed'){return false;}
return true;}
function addBlockLoader(element){element.find(':focus').blur();element.find('input:disabled, select:disabled').addClass('_disabled');element.find('input, select').prop('disabled',true);if(isLoadingClassRequired(element)){element.addClass(blockContentLoadingClass);}
element.append(blockLoader.clone());}
function removeBlockLoader(element){if(!element.has(blockLoaderClass).length){return;}
element.find(blockLoaderClass).remove();element.find('input:not("._disabled"), select:not("._disabled")').prop('disabled',false);element.find('input:disabled, select:disabled').removeClass('_disabled');element.removeClass(blockContentLoadingClass);}
return function(loaderHref){loaderImageHref=loaderHref;ko.bindingHandlers.blockLoader={update:function(element,displayBlockLoader){element=$(element);if(ko.unwrap(displayBlockLoader())){addBlockLoader(element);}else{removeBlockLoader(element);}}};};});define('text!ui/template/block-loader.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div data-role="loader" class="loading-mask" style="position: absolute;">\n    <div class="loader">\n        <div class="preloader-wrapper big active">\n            <div class="spinner-layer">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n';});define('google-tag-manager/product-click',['jquery','domReady!'],function($){'use strict';return function(gtmConfig){if(typeof dataLayer==='undefined'){return;}
var clickItems=[],defaultDataAttribute='data-gtm-data',directDataAttribute='data-gtm-product';if(gtmConfig.gtmRelatedClicks){var relatedItem=gtmConfig.gtmRelatedClicksConfig['item'],relatedIdentifier=gtmConfig.gtmRelatedClicksConfig['identifier'],relatedLinks=gtmConfig.gtmRelatedClicksConfig['links'];$.each(relatedLinks,function(key,value){clickItems.push(relatedItem+' '+value);});if(relatedIdentifier&&Array.isArray(gtmConfig.gtmRelatedClicks)){$.each(gtmConfig.gtmRelatedClicks,function(key,value){var valueString=JSON.stringify(value),filterSelector='['+relatedIdentifier+'="'+value.id+'"]';$(relatedItem).filter(filterSelector).attr(defaultDataAttribute,valueString);});}}
if(gtmConfig.gtmUpsellClicks){var upsellItem=gtmConfig.gtmUpsellClicksConfig['item'],upsellIdentifier=gtmConfig.gtmUpsellClicksConfig['identifier'],upsellLinks=gtmConfig.gtmUpsellClicksConfig['links'];$.each(upsellLinks,function(key,value){clickItems.push(upsellItem+' '+value);});if(upsellIdentifier&&Array.isArray(gtmConfig.gtmUpsellClicks)){$.each(gtmConfig.gtmUpsellClicks,function(key,value){var valueString=JSON.stringify(value),filterSelector='['+upsellIdentifier+'="'+value.id+'"]';$(upsellItem).filter(filterSelector).attr(defaultDataAttribute,valueString);});}}
if(gtmConfig.gtmCrosssellClicks){var crosssellItem=gtmConfig.gtmCrosssellClicksConfig['item'],crosssellIdentifier=gtmConfig.gtmCrosssellClicksConfig['identifier'],crosssellLinks=gtmConfig.gtmCrosssellClicksConfig['links'];$.each(crosssellLinks,function(key,value){clickItems.push(crosssellItem+' '+value);});if(crosssellIdentifier&&Array.isArray(gtmConfig.gtmCrosssellClicks)){$.each(gtmConfig.gtmCrosssellClicks,function(key,value){var valueString=JSON.stringify(value),filterSelector='['+crosssellIdentifier+'="'+value.id+'"]';$(crosssellItem).filter(filterSelector).attr(defaultDataAttribute,valueString);});}}
if(clickItems.length){$(document).on('click',clickItems.join(','),function(){var productData=getProductData($(this)),gtmData=productData?JSON.parse(productData):null,list=gtmData.list;delete gtmData.list;if(gtmData){dataLayer.push({'event':'productClick','ecommerce':{'click':{'actionField':{'list':list},'products':[gtmData]}}});}});var getProductData=function(element){var productData='';if(element.closest('['+directDataAttribute+']').length){productData=element.closest('['+directDataAttribute+']').attr(directDataAttribute);}else{productData=element.closest('['+defaultDataAttribute+']').attr(defaultDataAttribute);}
return productData;};}};});define('Magento_Checkout/js/discount-codes',['jquery','jquery-ui-modules/widget'],function($){'use strict';$.widget('mage.discountCode',{options:{},_create:function(){this.couponCode=$(this.options.couponCodeSelector);this.removeCoupon=$(this.options.removeCouponSelector);$(this.options.applyButton).on('click',$.proxy(function(){this.couponCode.attr('data-validate','{required:true}');this.couponCode.val(this.couponCode.val().toUpperCase());this.removeCoupon.attr('value','0');$(this.element).validation().submit();},this));$(this.options.cancelButton).on('click',$.proxy(function(){this.couponCode.removeAttr('data-validate');this.removeCoupon.attr('value','1');this.element.submit();},this));}});return $.mage.discountCode;});define('Magento_GiftCardAccount/js/gift-card',['jquery','uiRegistry','ko','MSP_ReCaptcha/js/registry','jquery-ui-modules/widget','mage/validation'],function($,uiRegistry,ko,reCaptchaRegistry){'use strict';$.widget('mage.giftCard',{options:{defaultScratchCode:'12345',completeGiftCard:''},_getCodeValue:function(){var code=$(this.options.giftCardCodeSelector).val(),scratch=$(this.options.giftCardScratchCodeSelector).val();if(scratch===""){this.options.completeGiftCard=this._giftCardWithoutScratch(code);}else{this.options.completeGiftCard=this._giftCardWithScratch(code,scratch);}
return this.options.completeGiftCard;},_giftCardWithoutScratch:function(code){if(code.length>12){this.options.completeGiftCard=code;}else if(code.length===12){this.options.completeGiftCard=code+'|'+this.options.defaultScratchCode;}
return this.options.completeGiftCard;},_giftCardWithScratch:function(code,scratch){this.options.completeGiftCard=code+'|'+scratch;return this.options.completeGiftCard;},_updateInput:function(){$(this.options.giftCardHiddenSelector).val(this._getCodeValue());},_listen:function(){$(this.options.giftCardCodeSelector).on('keyup',this._updateInput.bind(this));$(this.options.giftCardScratchCodeSelector).on('keyup',this._updateInput.bind(this));},_create:function(){if(document.body.classList.contains('magento_giftcardaccount-customer-index')){$(document).on('submit','.form-giftcard-redeem',function(e){e.preventDefault();});}else{$(document).on('submit','.form.giftcard.add',function(e){if(e.delegateTarget&&e.delegateTarget.activeElement.classList.contains('check')){e.preventDefault();}});}
$(this.options.checkStatus).on('click',$.proxy(function(){var giftCardStatusId,giftCardSpinnerId,messages,formElement,formData={},captchaReload,reCaptchaIndex,reCaptchaToken;if(this.element.validation().valid()){giftCardStatusId=this.options.giftCardStatusId;giftCardSpinnerId=$(this.options.giftCardSpinnerId);messages=this.options.messages;if(this.options.giftCardFormSelector){formElement=document.querySelector(this.options.giftCardFormSelector);}else{formElement=$(this.options.giftCardCodeSelector).closest('form');}
if(formElement){$(formElement).find('input').each(function(){formData[$(this).attr('name')]=$(this).val();});}else{formData['giftcard_code']=this._getCodeValue();}
reCaptchaIndex=reCaptchaRegistry.captchaList()[reCaptchaRegistry.ids().indexOf('msp-recaptcha-d84b65fc916e7398083ea5f17089d8f1')];reCaptchaToken=reCaptchaRegistry.tokenFields()[reCaptchaIndex];if(!reCaptchaToken.value){window.grecaptcha.reset(reCaptchaIndex);window.grecaptcha.execute(reCaptchaIndex);}
$.ajax({url:this.options.giftCardStatusUrl,type:'post',cache:false,data:formData,beforeSend:function(){giftCardSpinnerId.show();},success:function(response){$(messages).hide();captchaReload=$('.captcha-reload');if(captchaReload.length){captchaReload.trigger('click');}
$(giftCardStatusId).html(response);},complete:function(){giftCardSpinnerId.hide();}});}},this));this._listen();this.element.find('button').prop('disabled',false);}});return $.mage.giftCard;});define('google-tag-manager/checkout',['underscore'],function(){'use strict';var trackCheckout={options:{currencyCode:'',products:[],checkoutSteps:[]},step:1,init:function(options){window.dataLayer=window.dataLayer||[];trackCheckout.options=options;window.addEventListener('hashchange',trackCheckout.pushData);this.pushData();},pushData:function(){var eventData={'event':'checkout','ecommerce':{'currencyCode':trackCheckout.options.currencyCode,'checkout':{'actionField':trackCheckout.getCurrentStep(),'products':trackCheckout.options.products}}};dataLayer.push(eventData);},getCurrentStep:function(){var checkoutSteps=trackCheckout.options.checkoutSteps,uriPath=window.location.href.split('/checkout')[1];uriPath=uriPath.replace(/\/|#/g,'');if(uriPath===''){uriPath=(checkoutSteps['shipping']<checkoutSteps['payment'])?'shipping':'payment';}
trackCheckout.step=checkoutSteps[uriPath];return{'step':trackCheckout.step.toString()};}};return function(options){trackCheckout.init(options);};});define('Magento_Checkout/js/checkout-loader',['rjsResolver'],function(resolver){'use strict';function hideLoader($loader){$loader.parentNode.removeChild($loader);}
function init(config,$loader){resolver(hideLoader.bind(null,$loader));}
return init;});define('Magento_Checkout/js/proceed-to-checkout',['jquery','Magento_Customer/js/model/authentication-popup','Magento_Customer/js/customer-data'],function($,authenticationPopup,customerData){'use strict';return function(config,element){$(element).click(function(event){var cart=customerData.get('cart'),customer=customerData.get('customer');event.preventDefault();if(!customer().firstname&&cart().isGuestCheckoutAllowed===false){authenticationPopup.showModal();return false;}
$(element).attr('disabled',true);location.href=config.checkoutUrl;});};});define('Magento_Checkout/js/action/update-shopping-cart',['Magento_Ui/js/modal/alert','jquery','jquery-ui-modules/widget','mage/validation'],function(alert,$){'use strict';$.widget('mage.updateShoppingCart',{options:{validationURL:'',eventName:'updateCartItemQty',updateCartActionContainer:''},_create:function(){this._on(this.element,{'submit':this.onSubmit});},onSubmit:function(event){var action=this.element.find(this.options.updateCartActionContainer).val();if(!this.options.validationURL||action==='empty_cart'){return true;}
if(this.isValid()){event.preventDefault();this.validateItems(this.options.validationURL,this.element.serialize());}
return false;},isValid:function(){return this.element.validation()&&this.element.validation('isValid');},validateItems:function(url,data){$.extend(data,{'form_key':$.mage.cookies.get('form_key')});$.ajax({url:url,data:data,type:'post',dataType:'json',context:this,beforeSend:function(){$(document.body).trigger('processStart');},complete:function(){$(document.body).trigger('processStop');}}).done(function(response){if(response.success){this.onSuccess();}else{this.onError(response);}}).fail(function(){this.submitForm();});},onSuccess:function(){$(document).trigger('ajax:'+this.options.eventName);this.submitForm();},onError:function(response){if(response['error_message']){alert({content:response['error_message']});}else{this.submitForm();}},submitForm:function(){this.element.off('submit',this.onSubmit).submit();}});return $.mage.updateShoppingCart;});define('text!jdgTemplate/product/in-store-stock/cart/no-stock-message.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<tr class="stock-message">\n    <td colspan="4">\n        <div class="message info">\n            <span><%= message %></span>\n        </div>\n    </td>\n</tr>\n';});define('Vaimo_JdgroupFrontend/js/common',['Magento_Customer/js/customer-data'],function(customerData){'use strict';var licenseRegexp=/<!--[\s\S]*?-->/;return{removeLicense:function(content){return content.replace(licenseRegexp,function(match){return~match.indexOf('/**')?'':match;});},htmlDecode:function(input){var doc=new DOMParser().parseFromString(input,"text/html");return doc.documentElement.textContent;},postMessage:function(type,message){var customerMessages=customerData.get('messages')()||{},messages=customerMessages.messages||[];messages.push({text:message,type:type});customerMessages.messages=messages;customerData.set('messages',customerMessages);}};});define('text!Magento_Checkout/template/cart/qty-updater.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<div class="qty-action-wrap">\n    <!-- ko if: qty() == 1 && hasRemove -->\n        <button type="button" class="qty-action remove" data-bind="click: remove">\n            <span class="icon__trash"/>\n        </button>\n    <!-- /ko -->\n\n    <!-- ko if: qty() != 1 || !hasRemove -->\n    <button type="button" class="qty-action reduce" data-bind="click: reduce, enable: qty() > 1">\n        <span class="icon__minus"/>\n    </button>\n    <!-- /ko -->\n\n    <button type="button" class="qty-action increase" data-bind="click: increase">\n        <span class="icon__plus-math"/>\n    </button>\n</div>\n\n<!-- ko if: showUpdate() && hasUpdate -->\n    <button type="button" class="qty-action update update-cart-item" data-bind="click: update">\n        <span data-bind="text: updateLabel"/>\n    </button>\n<!-- /ko -->\n';});define('Magento_Checkout/js/qty-updater',['jquery','underscore','ko','uiRegistry','mage/template','text!Magento_Checkout/template/cart/qty-updater.html','mage/translate'],function($,_,ko,uiRegistry,templateEngine,qtyUpdaterTpl){'use strict';var scopeIncrement=0,defaults={hasRemove:true,hasUpdate:true,onShowUpdate:$.noop,onUpdate:$.noop,onRemove:$.noop};return function(config,element){var settings=_.extend({},defaults,config),$qtyInput=$(element),qtyParent=$qtyInput.parent().get(0),initialValue=$qtyInput.val(),qtyObservable=ko.observable(initialValue),showUpdate=ko.observable(false),scope='qty-changer__'+scopeIncrement++,viewModel,qtyInterval;viewModel={qty:qtyObservable,showUpdate:showUpdate,hasRemove:settings.hasRemove,hasUpdate:settings.hasUpdate,updateLabel:$.mage.__('Update'),remove:settings.onRemove,reduce:function(){$qtyInput.val(parseInt($qtyInput.val(),10)-1||1).trigger('change');},increase:function(){$qtyInput.val(parseInt($qtyInput.val(),10)+1).trigger('change');},update:settings.onUpdate};qtyInterval=setInterval(function(){if(typeof ko.uid!=='undefined'){clearInterval(qtyInterval);$qtyInput.parent().append(templateEngine(qtyUpdaterTpl));uiRegistry.set(scope,viewModel);qtyParent.setAttribute('data-bind','scope: "'+scope+'"');ko.applyBindings(viewModel,qtyParent);$qtyInput.on('change',shouldShowUpdate);$qtyInput.on('keyup',shouldShowUpdate);}},200);function shouldShowUpdate(){qtyObservable($qtyInput.val());showUpdate(initialValue!==$qtyInput.val()&&parseInt($qtyInput.val(),10)>0);}
if(settings.hasUpdate){showUpdate.subscribe(settings.onShowUpdate);}};});define('Magento_Checkout/js/view/shopping-cart/shopping-cart-mixin',['jquery','Magento_Checkout/js/qty-updater','Magento_Ui/js/modal/confirm','mage/translate','jquery-ui-modules/widget'],function($,qtyUpdater,confirmation){"use strict";return function(widget){var prototype=widget.prototype;$.widget(prototype.namespace+'.'+prototype.widgetName,widget,{initQty:function(){var $items=$.find('[data-role="cart-item-qty"]');$items.forEach(function(elem){var $qtyInput=$(elem),$itemName='';qtyUpdater({onShowUpdate:function(hasUpdate){$qtyInput.parents('.cart.item').toggleClass('has-update',hasUpdate);},onUpdate:function(){$qtyInput.parents('form').submit();},onRemove:function(){$itemName=$qtyInput.parents('tbody.cart.item').find('.product-item-name a').html();confirmation({title:$.mage.__('Remove "%1" from cart?').replace('%1',$itemName),actions:{confirm:function(){$(document.body).trigger('processStart');$qtyInput.parents('tbody.cart.item').find('.actions-toolbar .action-delete').click();}}});}},elem);});}});return $[prototype.namespace][prototype.widgetName];};});define('Magento_Checkout/js/shopping-cart',['jquery','Magento_Checkout/js/qty-updater','Magento_Ui/js/modal/confirm','jquery-ui-modules/widget','mage/translate'],function($,qtyUpdater,confirmation){'use strict';$.widget('mage.shoppingCart',{_create:function(){var reload;this.initQty();$(this.options.emptyCartButton).on('click',$.proxy(function(){$(this.options.emptyCartButton).attr('name','update_cart_action_temp');$(this.options.updateCartActionContainer).attr('name','update_cart_action').attr('value','empty_cart');if($(this.options.emptyCartButton).parents('form').length>0){$(this.options.emptyCartButton).parents('form').submit();}},this));$(this.options.continueShoppingButton).on('click',$.proxy(function(){location.href=this.options.continueShoppingUrl;},this));$(document).on('ajax:removeFromCart',$.proxy(function(){reload=true;$('div.block.block-minicart').on('dropdowndialogclose',$.proxy(function(){if(reload===true){location.reload();reload=false;}
$('div.block.block-minicart').off('dropdowndialogclose');}));},this));$(document).on('ajax:updateItemQty',$.proxy(function(){reload=true;$('div.block.block-minicart').on('dropdowndialogclose',$.proxy(function(){if(reload===true){location.reload();reload=false;}
$('div.block.block-minicart').off('dropdowndialogclose');}));},this));},initQty:function(){var $items=$.find('[data-role="cart-item-qty"]');$items.forEach(function(elem){var $qtyInput=$(elem),$itemName='';qtyUpdater({onShowUpdate:function(hasUpdate){$qtyInput.parents('.cart.item').toggleClass('has-update',hasUpdate);},onUpdate:function(){$qtyInput.parents('form').submit();},onRemove:function(){$itemName=$qtyInput.parents('tbody.cart.item').find('.product-item-name a').html();confirmation({title:$.mage.__('Remove "%1" from cart?').replace('%1',$itemName),actions:{confirm:function(){$(document.body).trigger('processStart');$qtyInput.parents('tbody.cart.item').find('.item-actions .action-delete').click();}}});}},elem);});}});return $.mage.shoppingCart;});define('jdgJs/product/action/getProductStock',['jquery','underscore','mage/url'],function($,_,urlBuilder){'use strict';var path='rest/V1/availability',requests={};return function(articles,sources){var url=[path],requestPath;if(_.isArray(articles)){url.push(articles.join(','));}else{url.push(articles);}
if(_.isArray(sources)){url.push(sources.join(','));}else{url.push(sources);}
requestPath=urlBuilder.build(url.join('/'));if(!(requestPath in requests)){requests[requestPath]=$.ajax({url:requestPath,type:'GET',cache:false,global:true,contentType:'application/json'});}
return requests[requestPath];};});define('jdgJs/checkout/cart/stock-sourcing-per-item',['jquery','Magento_Ui/js/lib/core/storage/local','jdgJs/product/action/getProductStock','jdgHelper','mage/template','text!jdgTemplate/product/in-store-stock/cart/no-stock-message.html','mage/translate'],function($,localStorage,getProductStock,jdgroup,templateEngine,noStockMessageTpl){'use strict';var checkoutConfig=window.checkoutConfig,preselectedStoreId='selected-delivery-store'in checkoutConfig?parseInt(checkoutConfig['selected-delivery-store'],10):null;noStockMessageTpl=jdgroup.removeLicense(noStockMessageTpl);return function(){var $items=$('#shopping-cart-table .cart.item'),skus={},selectedStore=localStorage.get('inStoreStock.selectedStore');if(preselectedStoreId&&'sapId'in selectedStore&&parseInt(selectedStore.entityId,10)){$items.each(function(){var $item=$(this),sku=$item.find('.product-attribute-sku dd').text();skus[sku]=$item;});getProductStock(Object.keys(skus),[selectedStore.sapId]).then(function(result){Object.keys(result[0]).forEach(function(article){var storeStock=article in result[0]&&selectedStore.sapId in result[0][article]?result[0][article][selectedStore.sapId]:null,notInStock=storeStock&&parseInt(storeStock.quantity,10)===0,notInSourcing=storeStock&&(!('sourcing'in storeStock)||parseInt(storeStock.sourcing.quantity,10)===0);if(notInStock&&notInSourcing){skus[article].prepend(templateEngine(noStockMessageTpl,{message:$.mage.__('Please note: this item is not in stock at the %1 store.').replace('%1',selectedStore.name)}));}});}).catch(function(xhr){console.error('Sourcing call failed',xhr);});}};});define('Magento_Catalog/js/product/list/related-slick',['jquery','slick','uiComponent','matchMedia'],function($,slick,Component,mediaCheck){'use strict';var relatedSlick=$('.block.related ol'),relatedProductQty=relatedSlick.find('li').length;return Component.extend({initialize:function(){var self=this;this._super();mediaCheck({media:'(min-width: 1024px)',entry:function(){self._initRelatedSlick(6,6);}});mediaCheck({media:'(min-width: 768px) and (max-width: 1023px)',entry:function(){self._initRelatedSlick(5,5);}});mediaCheck({media:'(min-width: 651px) and (max-width: 767px)',entry:function(){self._initRelatedSlick(4,4);}});mediaCheck({media:'(min-width: 320px) and (max-width: 650px)',entry:function(){self._initRelatedSlick(3,3);}});},_initRelatedSlick:function(productCount,slides){if(typeof relatedSlick!=='undefined'){if(relatedProductQty>productCount){this._destroySlick();relatedSlick.not('.slick-initialized').slick({autoplay:false,dots:true,arrows:true,slidesToShow:slides,slidesToScroll:1});}}},_destroySlick:function(){if(typeof relatedSlick!=='undefined'&&relatedSlick.hasClass('slick-slider')){relatedSlick.slick('unslick');}}});});define('Magento_Checkout/js/model/quote',['ko','underscore','domReady!'],function(ko,_){'use strict';var proceedTotalsData=function(data){if(_.isObject(data)&&_.isObject(data['extension_attributes'])){_.each(data['extension_attributes'],function(element,index){data[index]=element;});}
return data;},billingAddress=ko.observable(null),shippingAddress=ko.observable(null),shippingMethod=ko.observable(null),paymentMethod=ko.observable(null),quoteData=window.checkoutConfig.quoteData,basePriceFormat=window.checkoutConfig.basePriceFormat,priceFormat=window.checkoutConfig.priceFormat,storeCode=window.checkoutConfig.storeCode,totalsData=proceedTotalsData(window.checkoutConfig.totalsData),totals=ko.observable(totalsData),collectedTotals=ko.observable({});return{totals:totals,shippingAddress:shippingAddress,shippingMethod:shippingMethod,billingAddress:billingAddress,paymentMethod:paymentMethod,guestEmail:null,getQuoteId:function(){return quoteData['entity_id'];},isVirtual:function(){return!!Number(quoteData['is_virtual']);},getPriceFormat:function(){return priceFormat;},getBasePriceFormat:function(){return basePriceFormat;},getItems:function(){return window.checkoutConfig.quoteItemData;},getTotals:function(){return totals;},setTotals:function(data){data=proceedTotalsData(data);totals(data);this.setCollectedTotals('subtotal_with_discount',parseFloat(data['subtotal_with_discount']));},setPaymentMethod:function(paymentMethodCode){paymentMethod(paymentMethodCode);},getPaymentMethod:function(){return paymentMethod;},getStoreCode:function(){return storeCode;},setCollectedTotals:function(code,value){var colTotals=collectedTotals();colTotals[code]=value;collectedTotals(colTotals);},getCalculatedTotal:function(){var total=0.;_.each(collectedTotals(),function(value){total+=value;});return total;}};});define('Magento_Checkout/js/model/totals',['ko','Magento_Checkout/js/model/quote','Magento_Customer/js/customer-data'],function(ko,quote,customerData){'use strict';var quoteItems=ko.observable(quote.totals().items),cartData=customerData.get('cart'),quoteSubtotal=parseFloat(quote.totals().subtotal),subtotalAmount=parseFloat(cartData().subtotalAmount);quote.totals.subscribe(function(newValue){quoteItems(newValue.items);});if(quoteSubtotal!==subtotalAmount){customerData.reload(['cart'],false);}
return{totals:quote.totals,isLoading:ko.observable(false),getItems:function(){return quoteItems;},getSegment:function(code){var i,total;if(!this.totals()){return null;}
for(i in this.totals()['total_segments']){total=this.totals()['total_segments'][i];if(total.code==code){return total;}}
return null;}};});define('Vertex_Tax/js/view/checkout/summary/tax-messages',['underscore','ko','uiComponent','Magento_Checkout/js/model/totals'],function(_,ko,Component,totals){'use strict';return Component.extend({defaults:{messages:[]},initialize:function(){this._super();this.subscribeTotals();},initObservable:function(){this._super().observe('messages');this.getMessages();return this;},getMessages:function(){var taxSegment=totals.getSegment('tax');this.messages([]);if(taxSegment&&taxSegment['extension_attributes']){this.messages(taxSegment['extension_attributes']['vertex_tax_calculation_messages']);}},subscribeTotals:function(){var self=this;totals.totals.subscribe(function(){self.getMessages();},null,'change');}});});define('Magento_NegotiableQuote/js/model/shipping-service-mixin',['mage/utils/wrapper'],function(wrapper){'use strict';var extender={setShippingRates:function(originFn,ratesData){var checkoutConfig=window.checkoutConfig,i;for(i in ratesData){if(checkoutConfig.isNegotiableQuote&&checkoutConfig.selectedShippingMethod&&checkoutConfig.isNegotiableShippingPriceSet&&ratesData[i]['carrier_code']===checkoutConfig.selectedShippingMethod['carrier_code']&&ratesData[i]['method_code']===checkoutConfig.selectedShippingMethod['method_code']){ratesData=[ratesData[i]];break;}}
originFn(ratesData);}};return function(target){return wrapper.extend(target,extender);};});define('Magento_Catalog/js/price-utils',['jquery','underscore'],function($,_){'use strict';var globalPriceFormat={requiredPrecision:2,integerRequired:1,decimalSymbol:',',groupSymbol:',',groupLength:','};function stringPad(string,times){return(new Array(times+1)).join(string);}
function formatPrice(amount,format,isShowSign){var s='',precision,integerRequired,decimalSymbol,groupSymbol,groupLength,pattern,i,pad,j,re,r,am;format=_.extend(globalPriceFormat,format);precision=isNaN(format.requiredPrecision=Math.abs(format.requiredPrecision))?2:format.requiredPrecision;integerRequired=isNaN(format.integerRequired=Math.abs(format.integerRequired))?1:format.integerRequired;decimalSymbol=format.decimalSymbol===undefined?',':format.decimalSymbol;groupSymbol=format.groupSymbol===undefined?'.':format.groupSymbol;groupLength=format.groupLength===undefined?3:format.groupLength;pattern=format.pattern||'%s';if(isShowSign===undefined||isShowSign===true){s=amount<0?'-':isShowSign?'+':'';}else if(isShowSign===false){s='';}
pattern=pattern.indexOf('{sign}')<0?s+pattern:pattern.replace('{sign}',s);i=parseInt(amount=Number(Math.round(Math.abs(+amount||0)+'e+'+precision)+('e-'+precision)),10)+'';pad=i.length<integerRequired?integerRequired-i.length:0;i=stringPad('0',pad)+i;j=i.length>groupLength?i.length%groupLength:0;re=new RegExp('(\\d{'+groupLength+'})(?=\\d)','g');am=Number(Math.round(Math.abs(amount-i)+'e+'+precision)+('e-'+precision));r=(j?i.substr(0,j)+groupSymbol:'')+
i.substr(j).replace(re,'$1'+groupSymbol)+
(precision?decimalSymbol+am.toFixed(precision).replace(/-/,0).slice(2):'');return pattern.replace('%s',r).replace(/^\s\s*/,'').replace(/\s\s*$/,'');}
function objectDeepClone(obj){return JSON.parse(JSON.stringify(obj));}
function findOptionId(element){var re,id,name;if(!element){return id;}
name=$(element).attr('name');if(name.indexOf('[')!==-1){re=/\[([^\]]+)?\]/;}else{re=/_([^\]]+)?_/;}
id=re.exec(name)&&re.exec(name)[1];if(id){return id;}}
return{formatPrice:formatPrice,deepClone:objectDeepClone,strPad:stringPad,findOptionId:findOptionId};});define('Magento_Checkout/js/view/summary/abstract-total',['uiComponent','ko','Magento_Checkout/js/model/quote','Magento_Catalog/js/price-utils','Magento_Checkout/js/model/totals'],function(Component,ko,quote,priceUtils,totals){'use strict';return Component.extend({getFormattedPrice:function(price){return priceUtils.formatPrice(price,quote.getPriceFormat());},getTotals:function(){return totals.totals();},isFullMode:ko.computed(function(){return!!totals.totals();})});});define('Magento_Tax/js/view/checkout/summary/subtotal',['Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote'],function(Component,quote){'use strict';var displaySubtotalMode=window.checkoutConfig.reviewTotalsDisplayMode;return Component.extend({defaults:{displaySubtotalMode:displaySubtotalMode,template:'Magento_Tax/checkout/summary/subtotal'},totals:quote.getTotals(),getValue:function(){var price=0;if(this.totals()){price=this.totals().subtotal;}
return this.getFormattedPrice(price);},isBothPricesDisplayed:function(){return this.displaySubtotalMode=='both';},isIncludingTaxDisplayed:function(){return this.displaySubtotalMode=='including';},getValueInclTax:function(){var price=0;if(this.totals()){price=this.totals()['subtotal_incl_tax'];}
return this.getFormattedPrice(price);}});});define('Magento_SalesRule/js/view/summary/discount',['Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote'],function(Component,quote){'use strict';return Component.extend({defaults:{template:'Magento_SalesRule/summary/discount'},totals:quote.getTotals(),isDisplayed:function(){return this.isFullMode()&&this.getPureValue()!=0;},getCouponCode:function(){if(!this.totals()){return null;}
return this.totals()['coupon_code'];},getCouponLabel:function(){if(!this.totals()){return null;}
return this.totals()['coupon_label'];},getTitle:function(){var discountSegments;if(!this.totals()){return null;}
discountSegments=this.totals()['total_segments'].filter(function(segment){return segment.code.indexOf('discount')!==-1;});return discountSegments.length?discountSegments[0].title:null;},getPureValue:function(){var price=0;if(this.totals()&&this.totals()['discount_amount']){price=parseFloat(this.totals()['discount_amount']);}
return price;},getValue:function(){return this.getFormattedPrice(this.getPureValue());}});});define('Magento_SalesRule/js/view/cart/totals/discount',['Magento_SalesRule/js/view/summary/discount'],function(Component){'use strict';return Component.extend({defaults:{template:'Magento_SalesRule/cart/totals/discount'},isDisplayed:function(){return this.getPureValue()!=0;}});});define('Magento_Checkout/js/view/summary/shipping',['jquery','underscore','Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote','Magento_SalesRule/js/view/summary/discount'],function($,_,Component,quote,discountView){'use strict';return Component.extend({defaults:{template:'Magento_Checkout/summary/shipping'},quoteIsVirtual:quote.isVirtual(),totals:quote.getTotals(),getShippingMethodTitle:function(){var shippingMethod,shippingMethodTitle='';if(!this.isCalculated()){return '';}
shippingMethod=quote.shippingMethod();if(!_.isArray(shippingMethod)&&!_.isObject(shippingMethod)){return '';}
if(typeof shippingMethod['method_title']!=='undefined'){shippingMethodTitle=' - '+shippingMethod['method_title'];}
return shippingMethodTitle?shippingMethod['carrier_title']+shippingMethodTitle:shippingMethod['carrier_title'];},isCalculated:function(){return this.totals()&&this.isFullMode()&&quote.shippingMethod()!=null;},getValue:function(){var price;if(!this.isCalculated()){return this.notCalculatedMessage;}
price=this.totals()['shipping_amount'];return this.getFormattedPrice(price);},haveToShowCoupon:function(){var couponCode=this.totals()['coupon_code'];if(typeof couponCode==='undefined'){couponCode=false;}
return couponCode&&!discountView().isDisplayed();},getCouponDescription:function(){if(!this.haveToShowCoupon()){return '';}
return '('+this.totals()['coupon_code']+')';}});});define('Magento_Tax/js/view/checkout/summary/tax',['ko','Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/totals','mage/translate','underscore'],function(ko,Component,quote,totals,$t,_){'use strict';var isTaxDisplayedInGrandTotal=window.checkoutConfig.includeTaxInGrandTotal,isFullTaxSummaryDisplayed=window.checkoutConfig.isFullTaxSummaryDisplayed,isZeroTaxDisplayed=window.checkoutConfig.isZeroTaxDisplayed,taxAmount=0,rates=0;return Component.extend({defaults:{isTaxDisplayedInGrandTotal:isTaxDisplayedInGrandTotal,notCalculatedMessage:$t('Not yet calculated'),template:'Magento_Tax/checkout/summary/tax'},totals:quote.getTotals(),isFullTaxSummaryDisplayed:isFullTaxSummaryDisplayed,ifShowValue:function(){if(this.isFullMode()&&this.getPureValue()==0){return isZeroTaxDisplayed;}
return true;},ifShowDetails:function(){if(!this.isFullMode()){return false;}
return this.getPureValue()>0&&isFullTaxSummaryDisplayed;},getPureValue:function(){var amount=0,taxTotal;if(this.totals()){taxTotal=totals.getSegment('tax');if(taxTotal){amount=taxTotal.value;}}
return amount;},isCalculated:function(){return this.totals()&&this.isFullMode()&&totals.getSegment('tax')!=null;},getValue:function(){var amount;if(!this.isCalculated()){return this.notCalculatedMessage;}
amount=totals.getSegment('tax').value;return this.getFormattedPrice(amount);},formatPrice:function(amount){return this.getFormattedPrice(amount);},getTaxAmount:function(parent,percentage){var totalPercentage=0;taxAmount=parent.amount;rates=parent.rates;_.each(rates,function(rate){totalPercentage+=parseFloat(rate.percent);});return this.getFormattedPrice(this.getPercentAmount(taxAmount,totalPercentage,percentage));},getPercentAmount:function(amount,totalPercentage,percentage){return parseFloat(amount*percentage/totalPercentage);},getDetails:function(){var taxSegment=totals.getSegment('tax');if(taxSegment&&taxSegment['extension_attributes']){return taxSegment['extension_attributes']['tax_grandtotal_details'];}
return[];}});});define('Magento_Tax/js/view/checkout/cart/totals/tax',['Magento_Tax/js/view/checkout/summary/tax','Magento_Checkout/js/model/totals'],function(Component,totals){'use strict';var isFullTaxSummaryDisplayed=window.checkoutConfig.isFullTaxSummaryDisplayed,isZeroTaxDisplayed=window.checkoutConfig.isZeroTaxDisplayed;return Component.extend({ifShowValue:function(){if(this.getPureValue()===0){return isZeroTaxDisplayed;}
return true;},ifShowDetails:function(){return this.getPureValue()>0&&isFullTaxSummaryDisplayed;},isCalculated:function(){return this.totals()&&totals.getSegment('tax')!==null;}});});define('Magento_Weee/js/view/checkout/summary/weee',['Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/totals','Magento_Catalog/js/price-utils'],function(Component,quote,totals){'use strict';return Component.extend({defaults:{template:'Magento_Weee/checkout/summary/weee'},isIncludedInSubtotal:window.checkoutConfig.isIncludedInSubtotal,totals:totals.totals,getWeeeTaxSegment:function(){var weee=totals.getSegment('weee_tax')||totals.getSegment('weee');if(weee!==null&&weee.hasOwnProperty('value')){return weee.value;}
return 0;},getValue:function(){return this.getFormattedPrice(this.getWeeeTaxSegment());},isDisplayed:function(){return this.isFullMode()&&this.getWeeeTaxSegment()>0;}});});define('Magento_Weee/js/view/cart/totals/weee',['Magento_Weee/js/view/checkout/summary/weee'],function(Component){'use strict';return Component.extend({isFullMode:function(){return true;}});});define('Magento_Tax/js/view/checkout/summary/grand-total',['Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote','Magento_Catalog/js/price-utils','Magento_Checkout/js/model/totals'],function(Component,quote,priceUtils,totals){'use strict';return Component.extend({defaults:{isFullTaxSummaryDisplayed:window.checkoutConfig.isFullTaxSummaryDisplayed||false,template:'Magento_Tax/checkout/summary/grand-total'},totals:quote.getTotals(),isTaxDisplayedInGrandTotal:window.checkoutConfig.includeTaxInGrandTotal||false,isDisplayed:function(){return this.isFullMode();},getValue:function(){var price=0;if(this.totals()){price=totals.getSegment('grand_total').value;}
return this.getFormattedPrice(price);},getBaseValue:function(){var price=0;if(this.totals()){price=this.totals()['base_grand_total'];}
return priceUtils.formatPrice(price,quote.getBasePriceFormat());},getGrandTotalExclTax:function(){var total=this.totals();if(!total){return 0;}
return this.getFormattedPrice(total['grand_total']);},isBaseGrandTotalDisplayNeeded:function(){var total=this.totals();if(!total){return false;}
return total['base_currency_code']!=total['quote_currency_code'];}});});define('Magento_Checkout/js/model/cart/cache',['underscore','Magento_Customer/js/customer-data','mageUtils'],function(_,storage,utils){'use strict';var cacheKey='cart-data',cartData={totals:null,address:null,cartVersion:null,shippingMethodCode:null,shippingCarrierCode:null,rates:null},setData=function(checkoutData){storage.set(cacheKey,checkoutData);},getData=function(key){var data=key?storage.get(cacheKey)()[key]:storage.get(cacheKey)();if(_.isEmpty(storage.get(cacheKey)())){setData(utils.copy(cartData));}
return data;},getMethodName=function(name,prefix,suffix){prefix=prefix||'';suffix=suffix||'';return prefix+name.charAt(0).toUpperCase()+name.slice(1)+suffix;};return{cartData:cartData,requiredFields:['countryId','region','regionId','postcode'],get:function(key){var methodName=getMethodName(key,'_get');if(key===cacheKey){return getData();}
if(this[methodName]){return this[methodName]();}
return getData(key);},set:function(key,value){var methodName=getMethodName(key,'_set'),obj;if(key===cacheKey){_.each(value,function(val,k){this.set(k,val);},this);return;}
if(this[methodName]){this[methodName](value);}else{obj=getData();obj[key]=value;setData(obj);}},clear:function(key){var methodName=getMethodName(key,'_clear');if(key===cacheKey){setData(this.cartData);return;}
if(this[methodName]){this[methodName]();}else{this.set(key,null);}},isChanged:function(key,value){var methodName=getMethodName(key,'_is','Changed');if(this[methodName]){return this[methodName](value);}
return this.get(key)!==value;},_isAddressChanged:function(address){return JSON.stringify(_.pick(this.get('address'),this.requiredFields))!==JSON.stringify(_.pick(address,this.requiredFields));},_isSubtotalChanged:function(subtotal){var cached=parseFloat(this.get('totals').subtotal);return subtotal!==cached;}};});define('Magento_GiftWrapping/js/model/gift-wrapping',['uiElement','underscore','Magento_Checkout/js/model/cart/cache'],function(uiElement,_,cartCache){'use strict';var giftWrappingConfig=window.giftOptionsConfig?window.giftOptionsConfig.giftWrapping:window.checkoutConfig.giftWrapping,provider=uiElement();return function(itemId){var model={itemId:itemId,observables:{},initObservable:function(node,key){if(node&&!this.observables.hasOwnProperty(node)){this.observables[node]=[];}
if(key&&this.observables[node].indexOf(key)===-1){this.observables[node].push(key);provider.observe(this.getUniqueKey(node,key));}},getUniqueKey:function(node,key){return node+'-'+key;},getObservable:function(node,key){this.initObservable(node,key);return provider[this.getUniqueKey(node,key)];},unsetObservable:function(node,id){var self=this;if(!(node||this.observables.hasOwnProperty(node))){return false;}
if(id){provider[this.getUniqueKey(node,id)](false);return true;}
_.each(this.observables[node],function(key){provider[self.getUniqueKey(node,key)](false);});},isHighlight:function(id,key){return this.getObservable('isHighlight-'+id,key);},setActiveItem:function(id){this.unsetObservable('isHighlight-'+this.itemId);this.getObservable('isHighlight-'+this.itemId,id)(true);this.getObservable('activeWrapping',this.itemId)(id);},uncheckWrapping:function(){var activeWrappingId=this.getObservable('activeWrapping',this.itemId)();this.getObservable('isHighlight-'+this.itemId,activeWrappingId)(false);this.getObservable('activeWrapping',this.itemId)(null);},getWrappingItems:function(){var cartItemId=this.itemId;return _.map(giftWrappingConfig.designsInfo,function(item,id){var cartItemsConfig=giftWrappingConfig.itemsInfo||{},price=0,priceExclTax=0,priceInclTax=0,cartItemConfig=null;if(cartItemId!=='orderLevel'&&cartItemsConfig[cartItemId]&&(cartItemsConfig[cartItemId].hasOwnProperty('price')||cartItemsConfig[cartItemId].hasOwnProperty('price_excl_tax')||cartItemsConfig[cartItemId].hasOwnProperty('price_incl_tax'))){cartItemConfig=cartItemsConfig[cartItemId];price=cartItemConfig.price;priceExclTax=cartItemConfig.hasOwnProperty('price_excl_tax')?cartItemConfig['price_excl_tax']:null;priceInclTax=cartItemConfig.hasOwnProperty('price_incl_tax')?cartItemConfig['price_incl_tax']:null;}else{price=item.price;priceExclTax=item.hasOwnProperty('price_excl_tax')?item['price_excl_tax']:null;priceInclTax=item.hasOwnProperty('price_incl_tax')?item['price_incl_tax']:null;}
return{'id':id,'label':item.label,'path':item.path,'price':price,'priceExclTax':priceExclTax,'priceInclTax':priceInclTax};});},isWrappingAvailable:function(){var isWrappingEnabled;if(this.itemId=='orderLevel'){return this.getConfigValue('allowForOrder')&&(this.getWrappingItems().length>0||this.getConfigValue('isAllowGiftReceipt')||this.getConfigValue('isAllowPrintedCard'));}
isWrappingEnabled=giftWrappingConfig.itemsInfo&&giftWrappingConfig.itemsInfo[this.itemId]?giftWrappingConfig.itemsInfo[this.itemId]['is_available']:this.getConfigValue('allowForItems');return isWrappingEnabled&&this.getWrappingItems().length>0;},getActiveWrappingInfo:function(){var self=this;return _.find(this.getWrappingItems(),function(item){return item.id==self.getObservable('activeWrapping',self.itemId)();});},getWrappingById:function(id){return _.find(this.getWrappingItems(),function(item){return item.id==id;});},getConfigValue:function(key){return giftWrappingConfig[key];},getPriceFormat:function(){return window.giftOptionsConfig.priceFormat;},getPrintedCardPrice:function(){return giftWrappingConfig.cardInfo.hasOwnProperty('price')?giftWrappingConfig.cardInfo.price:'';},getPrintedCardPriceWithTax:function(){return giftWrappingConfig.cardInfo.hasOwnProperty('price_incl_tax')?giftWrappingConfig.cardInfo['price_incl_tax']:giftWrappingConfig.cardInfo.price;},getPrintedCardPriceWithoutTax:function(){return giftWrappingConfig.cardInfo.hasOwnProperty('price_excl_tax')?giftWrappingConfig.cardInfo['price_excl_tax']:giftWrappingConfig.cardInfo.price;},getSubmitParams:function(remove){return{wrappingId:remove?null:this.getObservable('activeWrapping',this.itemId)(),wrappingAddPrintedCard:remove&&this.itemId=='orderLevel'?false:this.getObservable('wrapping-'+this.itemId,'printedCard')(),wrappingAllowGiftReceipt:remove&&this.itemId=='orderLevel'?false:this.getObservable('wrapping-'+this.itemId,'giftReceipt')()};},getAppliedWrappingId:function(){var levelType=this.itemId=='orderLevel'?'orderLevel':'itemLevel',appliedWrapping;if(!giftWrappingConfig.appliedWrapping.hasOwnProperty(levelType)){return null;}
appliedWrapping=giftWrappingConfig.appliedWrapping[levelType];if(levelType=='itemLevel'){return appliedWrapping.hasOwnProperty(this.itemId)?appliedWrapping[this.itemId]:null;}
return appliedWrapping;},isExtraOptionsApplied:function(){var appliedPrintedCard=giftWrappingConfig.hasOwnProperty('appliedPrintedCard')?giftWrappingConfig.appliedPrintedCard:false,appliedGiftReceipt=giftWrappingConfig.hasOwnProperty('appliedGiftReceipt')?giftWrappingConfig.appliedGiftReceipt:false;if(appliedGiftReceipt==true){this.getObservable('wrapping-'+this.itemId,'giftReceipt')(true);}
if(appliedPrintedCard==true){this.getObservable('wrapping-'+this.itemId,'printedCard')(true);}
return this.itemId=='orderLevel'&&(appliedGiftReceipt||appliedPrintedCard);},displayWrappingBothPrices:function(){return!!giftWrappingConfig.displayWrappingBothPrices;},displayCardBothPrices:function(){return!!giftWrappingConfig.displayCardBothPrices;},displayGiftWrappingInclTaxPrice:function(){return!!giftWrappingConfig.displayGiftWrappingInclTaxPrice;},displayCardInclTaxPrice:function(){return!!giftWrappingConfig.displayCardInclTaxPrice;},afterSubmit:function(){if(this.isWrappingAvailable()){cartCache.clear('totals');}}};_.bindAll(model,'afterSubmit');return model;};});define('Magento_GiftWrapping/js/view/summary/totals',['Magento_Checkout/js/view/summary/abstract-total','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/totals','Magento_GiftWrapping/js/model/gift-wrapping'],function(Component,quote,totals,GiftWrapping){'use strict';return Component.extend({defaults:{template:'Magento_GiftWrapping/summary/totals'},totals:quote.getTotals(),model:{},excludingTaxMessage:'(Excluding Tax)',includingTaxMessage:'(Including Tax)',initialize:function(options){this.model=new GiftWrapping(this.level);return this._super(options);},getValue:function(){var price=0,wrappingSegment;if(this.totals()&&totals.getSegment('giftwrapping')&&totals.getSegment('giftwrapping').hasOwnProperty('extension_attributes')){wrappingSegment=totals.getSegment('giftwrapping')['extension_attributes'];switch(this.level){case 'order':price=wrappingSegment.hasOwnProperty('gw_price')?wrappingSegment['gw_price']:0;break;case 'item':price=wrappingSegment.hasOwnProperty('gw_items_price')?wrappingSegment['gw_items_price']:0;break;case 'printed-card':price=wrappingSegment.hasOwnProperty('gw_card_price')?wrappingSegment['gw_card_price']:0;break;}}
return this.getFormattedPrice(price);},getIncludingTaxValue:function(){var price=0,wrappingSegment;if(this.totals()&&totals.getSegment('giftwrapping')&&totals.getSegment('giftwrapping').hasOwnProperty('extension_attributes')){wrappingSegment=totals.getSegment('giftwrapping')['extension_attributes'];switch(this.level){case 'order':price=wrappingSegment.hasOwnProperty('gw_price_incl_tax')?wrappingSegment['gw_price_incl_tax']:0;break;case 'item':price=wrappingSegment.hasOwnProperty('gw_items_price_incl_tax')?wrappingSegment['gw_items_price_incl_tax']:0;break;case 'printed-card':price=wrappingSegment.hasOwnProperty('gw_card_price_incl_tax')?wrappingSegment['gw_card_price_incl_tax']:0;break;}}
return this.getFormattedPrice(price);},isAvailable:function(){var isAvailable=false,wrappingSegment;if(!this.isFullMode()){return false;}
if(this.totals()&&totals.getSegment('giftwrapping')&&totals.getSegment('giftwrapping').hasOwnProperty('extension_attributes')){wrappingSegment=totals.getSegment('giftwrapping')['extension_attributes'];switch(this.level){case 'order':isAvailable=wrappingSegment.hasOwnProperty('gw_order_id')?wrappingSegment['gw_order_id']>0:false;break;case 'item':isAvailable=wrappingSegment.hasOwnProperty('gw_item_ids')?wrappingSegment['gw_item_ids'].length>0:false;break;case 'printed-card':isAvailable=!!parseFloat(wrappingSegment['gw_add_card']);break;}}
return isAvailable;},displayBothPrices:function(){var displayBothPrices=false;switch(this.level){case 'order':displayBothPrices=this.model.displayWrappingBothPrices();break;case 'item':displayBothPrices=this.model.displayWrappingBothPrices();break;case 'printed-card':displayBothPrices=this.model.displayCardBothPrices();break;}
return displayBothPrices;},displayPriceInclTax:function(){var displayPriceInclTax=false;switch(this.level){case 'order':displayPriceInclTax=this.model.displayGiftWrappingInclTaxPrice();break;case 'item':displayPriceInclTax=this.model.displayGiftWrappingInclTaxPrice();break;case 'printed-card':displayPriceInclTax=this.model.displayCardInclTaxPrice();break;}
return displayPriceInclTax&&!this.displayBothPrices();},displayPriceExclTax:function(){return!this.displayPriceInclTax()&&!this.displayBothPrices();}});});define('Magento_GiftWrapping/js/view/checkout/cart/totals',['Magento_GiftWrapping/js/view/summary/totals'],function(Component){'use strict';return Component.extend({isFullMode:function(){return true;}});});define('Magento_Checkout/js/model/full-screen-loader',['jquery','rjsResolver'],function($,resolver){'use strict';var containerId='#checkout';return{startLoader:function(){$(containerId).trigger('processStart');},stopLoader:function(forceStop){var $elem=$(containerId),stop=$elem.trigger.bind($elem,'processStop');forceStop?stop():resolver(stop);}};});define('Magento_Checkout/js/checkout-data',['jquery','Magento_Customer/js/customer-data','jquery/jquery-storageapi'],function($,storage){'use strict';var cacheKey='checkout-data',saveData=function(data){storage.set(cacheKey,data);},initData=function(){return{'selectedShippingAddress':null,'shippingAddressFromData':null,'newCustomerShippingAddress':null,'selectedShippingRate':null,'selectedPaymentMethod':null,'selectedBillingAddress':null,'billingAddressFromData':null,'newCustomerBillingAddress':null};},getData=function(){var data=storage.get(cacheKey)();if($.isEmptyObject(data)){data=$.initNamespaceStorage('mage-cache-storage').localStorage.get(cacheKey);if($.isEmptyObject(data)){data=initData();saveData(data);}}
return data;};return{setSelectedShippingAddress:function(data){var obj=getData();obj.selectedShippingAddress=data;saveData(obj);},getSelectedShippingAddress:function(){return getData().selectedShippingAddress;},setShippingAddressFromData:function(data){var obj=getData();obj.shippingAddressFromData=data;saveData(obj);},getShippingAddressFromData:function(){return getData().shippingAddressFromData;},setNewCustomerShippingAddress:function(data){var obj=getData();obj.newCustomerShippingAddress=data;saveData(obj);},getNewCustomerShippingAddress:function(){return getData().newCustomerShippingAddress;},setSelectedShippingRate:function(data){var obj=getData();obj.selectedShippingRate=data;saveData(obj);},getSelectedShippingRate:function(){return getData().selectedShippingRate;},setSelectedPaymentMethod:function(data){var obj=getData();obj.selectedPaymentMethod=data;saveData(obj);},getSelectedPaymentMethod:function(){return getData().selectedPaymentMethod;},setSelectedBillingAddress:function(data){var obj=getData();obj.selectedBillingAddress=data;saveData(obj);},getSelectedBillingAddress:function(){return getData().selectedBillingAddress;},setBillingAddressFromData:function(data){var obj=getData();obj.billingAddressFromData=data;saveData(obj);},getBillingAddressFromData:function(){return getData().billingAddressFromData;},setNewCustomerBillingAddress:function(data){var obj=getData();obj.newCustomerBillingAddress=data;saveData(obj);},getNewCustomerBillingAddress:function(){return getData().newCustomerBillingAddress;},getValidatedEmailValue:function(){var obj=getData();return obj.validatedEmailValue?obj.validatedEmailValue:'';},setValidatedEmailValue:function(email){var obj=getData();obj.validatedEmailValue=email;saveData(obj);},getInputFieldEmailValue:function(){var obj=getData();return obj.inputFieldEmailValue?obj.inputFieldEmailValue:'';},setInputFieldEmailValue:function(email){var obj=getData();obj.inputFieldEmailValue=email;saveData(obj);},getCheckedEmailValue:function(){var obj=getData();return obj.checkedEmailValue?obj.checkedEmailValue:'';},setCheckedEmailValue:function(email){var obj=getData();obj.checkedEmailValue=email;saveData(obj);}};});define('Magento_CompanyCredit/js/view/checkout/summary/grand-total',['Magento_Checkout/js/checkout-data'],function(checkoutData){'use strict';return function(target){return target.extend({isBaseGrandTotalDisplayNeeded:function(){return this._super()&&checkoutData.getSelectedPaymentMethod()!=='companycredit';}});};});define('Magento_Tax/js/view/checkout/cart/totals/grand-total',['Magento_Tax/js/view/checkout/summary/grand-total'],function(Component){'use strict';return Component.extend({isDisplayed:function(){return true;}});});define('Magento_Checkout/js/model/url-builder',['jquery'],function($){'use strict';return{method:'rest',storeCode:window.checkoutConfig.storeCode,version:'V1',serviceUrl:':method/:storeCode/:version',createUrl:function(url,params){var completeUrl=this.serviceUrl+url;return this.bindParams(completeUrl,params);},bindParams:function(url,params){var urlParts;params.method=this.method;params.storeCode=this.storeCode;params.version=this.version;urlParts=url.split('/');urlParts=urlParts.filter(Boolean);$.each(urlParts,function(key,part){part=part.replace(':','');if(params[part]!=undefined){urlParts[key]=params[part];}});return urlParts.join('/');}};});define('Magento_Checkout/js/model/shipping-rate-registry',[],function(){'use strict';var cache=[];return{get:function(addressKey){if(cache[addressKey]){return cache[addressKey];}
return false;},set:function(addressKey,data){cache[addressKey]=data;}};});define('Magento_Ui/js/model/messages',['ko','uiClass'],function(ko,Class){'use strict';return Class.extend({initialize:function(){this._super().initObservable();return this;},initObservable:function(){this.errorMessages=ko.observableArray([]);this.successMessages=ko.observableArray([]);return this;},add:function(messageObj,type){var expr=/([%])\w+/g,message;if(!messageObj.hasOwnProperty('parameters')){this.clear();type.push(messageObj.message);return true;}
message=messageObj.message.replace(expr,function(varName){varName=varName.substr(1);if(messageObj.parameters.hasOwnProperty(varName)){return messageObj.parameters[varName];}
return messageObj.parameters.shift();});this.clear();type.push(message);return true;},addSuccessMessage:function(message){return this.add(message,this.successMessages);},addErrorMessage:function(message){return this.add(message,this.errorMessages);},getErrorMessages:function(){return this.errorMessages;},getSuccessMessages:function(){return this.successMessages;},hasMessages:function(){return this.errorMessages().length>0||this.successMessages().length>0;},clear:function(){this.errorMessages.removeAll();this.successMessages.removeAll();}});});define('Magento_GiftCardAccount/js/model/payment/gift-card-messages',['ko','Magento_Ui/js/model/messages'],function(ko,Messages){'use strict';return new Messages();});define('Magento_Checkout/js/action/select-shipping-address',['Magento_Checkout/js/model/quote'],function(quote){'use strict';return function(shippingAddress){quote.shippingAddress(shippingAddress);};});define('Magento_NegotiableQuote/js/model/resource-url-manager-mixin',['mage/utils/wrapper'],function(wrapper){'use strict';var extender={getUrlForTotalsEstimationForNewAddress:function(originFn,quote){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quote.getQuoteId()};urls={'negotiable':'/carts/:quoteId/totals-information/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(quote);},getUrlForEstimationShippingMethodsForNewAddress:function(originFn,quote){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quote.getQuoteId()};urls={'negotiable':'/negotiable-carts/:quoteId/estimate-shipping-methods/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(quote);},getUrlForEstimationShippingMethodsByAddressId:function(originFn,quote){var params,urls,url='/negotiable-carts/:quoteId/estimate-shipping-methods-by-address-id/?isNegotiableQuote=true';if(window.checkoutConfig.isNegotiableQuote){params={quoteId:window.checkoutConfig.negotiableQuoteId};urls={'negotiable':url};return this.getUrl(urls,params);}
return originFn(quote);},getApplyCouponUrl:function(originFn,couponCode,quoteId){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quoteId,couponCode:couponCode};urls={'negotiable':'/negotiable-carts/:quoteId/coupons/:couponCode/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(couponCode,quoteId);},getCancelCouponUrl:function(originFn,quoteId){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quoteId};urls={'negotiable':'/negotiable-carts/:quoteId/coupons/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(quoteId);},getUrlForCartTotals:function(originFn,quote){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quote.getQuoteId()};urls={'negotiable':'/negotiable-carts/:quoteId/totals/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(quote);},getUrlForSetShippingInformation:function(originFn,quote){var params,urls;if(window.checkoutConfig.isNegotiableQuote){params={quoteId:quote.getQuoteId()};urls={'negotiable':'/negotiable-carts/:quoteId/shipping-information/?isNegotiableQuote=true'};return this.getUrl(urls,params);}
return originFn(quote);},getCheckoutMethod:function(originFn){if(window.checkoutConfig.isNegotiableQuote){return 'negotiable';}
return originFn();}};return function(target){return wrapper.extend(target,extender);};});define('Magento_Ui/js/model/messageList',['./messages'],function(Messages){'use strict';return new Messages();});define('Magento_Checkout/js/model/error-processor',['mage/url','Magento_Ui/js/model/messageList','mage/translate'],function(url,globalMessageList,$t){'use strict';return{process:function(response,messageContainer){var error;messageContainer=messageContainer||globalMessageList;if(response.status==401){window.location.replace(url.build('customer/account/login/'));}else{try{error=JSON.parse(response.responseText);}catch(exception){error={message:$t('Something went wrong with your request. Please try again later.')};}
if(typeof window.checkoutConfig!=='undefined'&&error.message.indexOf('to_cart_page')!==-1&&window.checkoutConfig.sourceRedirectActive){window.location.href=url.build('checkout/cart');}else{messageContainer.addErrorMessage(error);}}}};});define('Magento_Checkout/js/action/select-payment-method',['Magento_Checkout/js/model/quote'],function(quote){'use strict';return function(paymentMethod){if(paymentMethod){paymentMethod.__disableTmpl={title:true};}
quote.paymentMethod(paymentMethod);};});define('Magento_Checkout/js/action/select-shipping-method',['../model/quote'],function(quote){'use strict';return function(shippingMethod){quote.shippingMethod(shippingMethod);};});define('jdgJs/checkout/model/preselect-cnc',['underscore','mage/utils/wrapper','Magento_Checkout/js/checkout-data','Magento_Checkout/js/action/select-shipping-method'],function(_,wrapper,checkoutData,setShippingAction){'use strict';var checkoutConfig=window.checkoutConfig,storeStockConfig='storeStock'in checkoutConfig?checkoutConfig.storeStock:{},preselectedStoreId=checkoutConfig['selected-delivery-store'];return function(checkoutDataResolver){var resolveShippingRates=wrapper.wrap(checkoutDataResolver.resolveShippingRates,function(resolveRates,ratesData){var hasRates=ratesData.length,noShippingSelected=checkoutData.getSelectedShippingRate()===null,hasPreselectedStore=preselectedStoreId>0,shouldPreselectCnc=storeStockConfig.isCncPreselected;if(hasRates&&noShippingSelected&&hasPreselectedStore&&shouldPreselectCnc){_.each(ratesData,function(rate){if(rate.carrier_code==='clickandcollect'){checkoutData.setSelectedShippingRate(rate.carrier_code+'_'+rate.method_code);setShippingAction(rate);}});}
return resolveRates(ratesData);});return _.extend(checkoutDataResolver,{resolveShippingRates:resolveShippingRates});};});define('Magento_Checkout/js/action/select-billing-address',['jquery','../model/quote'],function($,quote){'use strict';return function(billingAddress){var address=null;if(quote.shippingAddress()&&billingAddress.getCacheKey()==quote.shippingAddress().getCacheKey()){address=$.extend({},billingAddress);address.saveInAddressBook=null;}else{address=billingAddress;}
quote.billingAddress(address);};});define('Klarna_Kp/js/model/config',['ko'],function(ko){'use strict';var client_token=window.checkoutConfig.payment.klarna_kp.client_token,message=window.checkoutConfig.payment.klarna_kp.message,authorization_token=ko.observable(window.checkoutConfig.payment.klarna_kp.authorization_token),debug=window.checkoutConfig.payment.klarna_kp.debug,enabled=window.checkoutConfig.payment.klarna_kp.enabled,b2b_enabled=window.checkoutConfig.payment.klarna_kp.b2b_enabled,data_sharing_onload=window.checkoutConfig.payment.klarna_kp.data_sharing_onload,success=window.checkoutConfig.payment.klarna_kp.success,hasErrors=ko.observable(false),available_methods=window.checkoutConfig.payment.klarna_kp.available_methods;return{hasErrors:hasErrors,debug:debug,enabled:enabled,b2b_enabled:b2b_enabled,data_sharing_onload:data_sharing_onload,client_token:client_token,message:message,success:success,authorization_token:authorization_token,available_methods:available_methods,getTitle:function(code){if(window.checkoutConfig.payment.klarna_kp[code]){return window.checkoutConfig.payment.klarna_kp[code].title;}
return 'Klarna Payments';},getLogo:function(code){if(window.checkoutConfig.payment.klarna_kp[code]){return window.checkoutConfig.payment.klarna_kp[code].logo;}
return '';}};});define('Klarna_Kp/js/action/override',['mage/utils/wrapper','Klarna_Kp/js/model/config','Magento_Checkout/js/model/full-screen-loader'],function(wrapper,config,loader){'use strict';return function(overriddenFunction){return wrapper.wrap(overriddenFunction,function(originalAction){if(!config.enabled){return originalAction();}
if(config.hasErrors()){return originalAction();}
loader.startLoader();return originalAction().then(function(){loader.stopLoader();});});};});define('Magento_Checkout/js/model/payment/method-converter',['underscore'],function(_){'use strict';return function(methods){_.each(methods,function(method){if(method.hasOwnProperty('code')){method.method=method.code;delete method.code;}});return methods;};});define('Magento_SalesRule/js/model/payment/discount-messages',['Magento_Ui/js/model/messages'],function(Messages){'use strict';return new Messages();});define('Magento_SalesRule/js/model/coupon',['ko','domReady!'],function(ko){'use strict';var couponCode=ko.observable(null),isApplied=ko.observable(null);return{couponCode:couponCode,isApplied:isApplied,getCouponCode:function(){return couponCode;},getIsApplied:function(){return isApplied;},setCouponCode:function(couponCodeValue){couponCode(couponCodeValue);},setIsApplied:function(isAppliedValue){isApplied(isAppliedValue);}};});define('Magento_Checkout/js/model/payment/method-list',['ko'],function(ko){'use strict';return ko.observableArray([]);});define('Magento_NegotiableQuote/js/action/set-payment-information-mixin',['mage/utils/wrapper','mage/storage','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/full-screen-loader'],function(wrapper,storage,quote,urlBuilder,errorProcessor,fullScreenLoader){'use strict';return function(setPaymentInformation){return wrapper.wrap(setPaymentInformation,function(originalAction,messageContainer,paymentData){var serviceUrl,payload;if(window.checkoutConfig.isNegotiableQuote){serviceUrl=urlBuilder.createUrl('/negotiable-carts/:cartId/set-payment-information',{cartId:quote.getQuoteId()});if(paymentData&&paymentData.hasOwnProperty('__disableTmpl')){delete paymentData.__disableTmpl;}
payload={cartId:quote.getQuoteId(),paymentMethod:paymentData,billingAddress:quote.billingAddress()};fullScreenLoader.startLoader();return storage.post(serviceUrl,JSON.stringify(payload)).fail(function(response){errorProcessor.process(response,messageContainer);}).always(fullScreenLoader.stopLoader);}
return originalAction(messageContainer,paymentData);});};});define('Magento_Checkout/js/model/default-post-code-resolver',[],function(){'use strict';var useDefaultPostCode;return{resolve:function(){return useDefaultPostCode?window.checkoutConfig.defaultPostcode:null;},setUseDefaultPostCode:function(shouldUseDefaultPostCode){useDefaultPostCode=shouldUseDefaultPostCode;return this;}};});define('Magento_Checkout/js/model/new-customer-address',['underscore','Magento_Checkout/js/model/default-post-code-resolver'],function(_,DefaultPostCodeResolver){'use strict';return function(addressData){var identifier=Date.now(),countryId=addressData['country_id']||addressData.countryId||window.checkoutConfig.defaultCountryId,regionId;if(addressData.region&&addressData.region['region_id']){regionId=addressData.region['region_id'];}else if(!addressData['region_id']){regionId=undefined;}else if(addressData['country_id']&&addressData['country_id']==window.checkoutConfig.defaultCountryId||!addressData['country_id']&&countryId==window.checkoutConfig.defaultCountryId){regionId=window.checkoutConfig.defaultRegionId||undefined;}
return{email:addressData.email,countryId:countryId,regionId:regionId||addressData.regionId,regionCode:addressData.region?addressData.region['region_code']:null,region:addressData.region?addressData.region.region:null,customerId:addressData['customer_id']||addressData.customerId,street:addressData.street?_.compact(addressData.street):addressData.street,company:addressData.company,telephone:addressData.telephone,fax:addressData.fax,postcode:addressData.postcode?addressData.postcode:DefaultPostCodeResolver.resolve(),city:addressData.city,firstname:addressData.firstname,lastname:addressData.lastname,middlename:addressData.middlename,prefix:addressData.prefix,suffix:addressData.suffix,vatId:addressData['vat_id'],saveInAddressBook:addressData['save_in_address_book'],customAttributes:addressData['custom_attributes'],isDefaultShipping:function(){return addressData['default_shipping'];},isDefaultBilling:function(){return addressData['default_billing'];},getType:function(){return 'new-customer-address';},getKey:function(){return this.getType();},getCacheKey:function(){return this.getType()+identifier;},isEditable:function(){return true;},canUseForBilling:function(){return true;}};};});define('Magento_Checkout/js/model/address-converter',['jquery','Magento_Checkout/js/model/new-customer-address','Magento_Customer/js/customer-data','mage/utils/objects','underscore'],function($,address,customerData,mageUtils,_){'use strict';var countryData=customerData.get('directory-data');return{formAddressDataToQuoteAddress:function(formData){var addressData=$.extend(true,{},formData),region,regionName=addressData.region;if(mageUtils.isObject(addressData.street)){addressData.street=this.objectToArray(addressData.street);}
addressData.region={'region_id':addressData['region_id'],'region_code':addressData['region_code'],region:regionName};if(addressData['region_id']&&countryData()[addressData['country_id']]&&countryData()[addressData['country_id']].regions){region=countryData()[addressData['country_id']].regions[addressData['region_id']];if(region){addressData.region['region_id']=addressData['region_id'];addressData.region['region_code']=region.code;addressData.region.region=region.name;}}else if(!addressData['region_id']&&countryData()[addressData['country_id']]&&countryData()[addressData['country_id']].regions){addressData.region['region_code']='';addressData.region.region='';}
delete addressData['region_id'];if(addressData['custom_attributes']){addressData['custom_attributes']=_.map(addressData['custom_attributes'],function(value,key){return{'attribute_code':key,'value':value};});}
return address(addressData);},quoteAddressToFormAddressData:function(addrs){var self=this,output={},streetObject;$.each(addrs,function(key){if(addrs.hasOwnProperty(key)&&!$.isFunction(addrs[key])){output[self.toUnderscore(key)]=addrs[key];}});if($.isArray(addrs.street)){streetObject={};addrs.street.forEach(function(value,index){streetObject[index]=value;});output.street=streetObject;}
return output;},toUnderscore:function(string){return string.replace(/([A-Z])/g,function($1){return '_'+$1.toLowerCase();});},formDataProviderToFlatData:function(formProviderData,formIndex){var addressData={};$.each(formProviderData,function(path,value){var pathComponents=path.split('.'),dataObject={};pathComponents.splice(pathComponents.indexOf(formIndex),1);pathComponents.reverse();$.each(pathComponents,function(index,pathPart){var parent={};if(index==0){dataObject[pathPart]=value;}else{parent[pathPart]=dataObject;dataObject=parent;}});$.extend(true,addressData,dataObject);});return addressData;},objectToArray:function(object){var convertedArray=[];$.each(object,function(key){return typeof object[key]==='string'?convertedArray.push(object[key]):false;});return convertedArray.slice(0);},addressToEstimationAddress:function(addrs){var self=this,estimatedAddressData={};$.each(addrs,function(key){estimatedAddressData[self.toUnderscore(key)]=addrs[key];});return this.formAddressDataToQuoteAddress(estimatedAddressData);}};});define('Magento_Checkout/js/action/create-billing-address',['Magento_Checkout/js/model/address-converter'],function(addressConverter){'use strict';return function(addressData){var address=addressConverter.formAddressDataToQuoteAddress(addressData);address.getType=function(){return 'new-customer-billing-address';};return address;};});define('Magento_Customer/js/model/customer/address',[],function(){'use strict';return function(addressData){var regionId;if(addressData.region['region_id']&&addressData.region['region_id']!=='0'){regionId=addressData.region['region_id']+'';}
return{customerAddressId:addressData.id,email:addressData.email,countryId:addressData['country_id'],regionId:regionId,regionCode:addressData.region['region_code'],region:addressData.region.region,customerId:addressData['customer_id'],street:addressData.street,company:addressData.company,telephone:addressData.telephone,fax:addressData.fax,postcode:addressData.postcode,city:addressData.city,firstname:addressData.firstname,lastname:addressData.lastname,middlename:addressData.middlename,prefix:addressData.prefix,suffix:addressData.suffix,vatId:addressData['vat_id'],sameAsBilling:addressData['same_as_billing'],saveInAddressBook:addressData['save_in_address_book'],customAttributes:addressData['custom_attributes'],isDefaultShipping:function(){return addressData['default_shipping'];},isDefaultBilling:function(){return addressData['default_billing'];},getAddressInline:function(){return addressData.inline;},getType:function(){return 'customer-address';},getKey:function(){return this.getType()+this.customerAddressId;},getCacheKey:function(){return this.getKey();},isEditable:function(){return false;},canUseForBilling:function(){return true;}};};});define('Magento_Customer/js/model/customer-addresses',['jquery','ko','./customer/address'],function($,ko,Address){'use strict';var isLoggedIn=ko.observable(window.isCustomerLoggedIn);return{getAddressItems:function(){var items=[],customerData=window.customerData;if(isLoggedIn()){if(Object.keys(customerData).length){$.each(customerData.addresses,function(key,item){items.push(new Address(item));});}}
return items;}};});define('Magento_Customer/js/model/address-list',['ko','./customer-addresses'],function(ko,defaultProvider){'use strict';return ko.observableArray(defaultProvider.getAddressItems());});define('Magento_Customer/js/model/customer',['jquery','ko','underscore','./address-list'],function($,ko,_,addressList){'use strict';var isLoggedIn=ko.observable(window.isCustomerLoggedIn),customerData={};if(isLoggedIn()){customerData=window.customerData;}else{customerData={};}
return{customerData:customerData,customerDetails:{},isLoggedIn:isLoggedIn,setIsLoggedIn:function(flag){isLoggedIn(flag);},getBillingAddressList:function(){return addressList();},getShippingAddressList:function(){return addressList();},setDetails:function(fieldName,value){if(fieldName){this.customerDetails[fieldName]=value;}},getDetails:function(fieldName){if(fieldName){if(this.customerDetails.hasOwnProperty(fieldName)){return this.customerDetails[fieldName];}
return undefined;}
return this.customerDetails;},addCustomerAddress:function(address){var fields=['customer_id','country_id','street','company','telephone','fax','postcode','city','firstname','lastname','middlename','prefix','suffix','vat_id','default_billing','default_shipping'],customerAddress={},hasAddress=0,existingAddress;if(!this.customerData.addresses){this.customerData.addresses=[];}
customerAddress=_.pick(address,fields);if(address.hasOwnProperty('region_id')){customerAddress.region={'region_id':address['region_id'],region:address.region};}
for(existingAddress in this.customerData.addresses){if(this.customerData.addresses.hasOwnProperty(existingAddress)){if(_.isEqual(this.customerData.addresses[existingAddress],customerAddress)){hasAddress=existingAddress;break;}}}
if(hasAddress===0){return this.customerData.addresses.push(customerAddress)-1;}
return hasAddress;},setAddressAsDefaultBilling:function(addressId){if(this.customerData.addresses[addressId]){this.customerData.addresses[addressId]['default_billing']=1;return true;}
return false;},setAddressAsDefaultShipping:function(addressId){if(this.customerData.addresses[addressId]){this.customerData.addresses[addressId]['default_shipping']=1;return true;}
return false;}};});define('Magento_Checkout/js/model/resource-url-manager',['Magento_Customer/js/model/customer','Magento_Checkout/js/model/url-builder','mageUtils'],function(customer,urlBuilder,utils){'use strict';return{getUrlForTotalsEstimationForNewAddress:function(quote){var params=this.getCheckoutMethod()=='guest'?{cartId:quote.getQuoteId()}:{},urls={'guest':'/guest-carts/:cartId/totals-information','customer':'/carts/mine/totals-information'};return this.getUrl(urls,params);},getUrlForEstimationShippingMethodsForNewAddress:function(quote){var params=this.getCheckoutMethod()=='guest'?{quoteId:quote.getQuoteId()}:{},urls={'guest':'/guest-carts/:quoteId/estimate-shipping-methods','customer':'/carts/mine/estimate-shipping-methods'};return this.getUrl(urls,params);},getUrlForEstimationShippingMethodsByAddressId:function(quote){var params=this.getCheckoutMethod()=='guest'?{quoteId:quote.getQuoteId()}:{},urls={'default':'/carts/mine/estimate-shipping-methods-by-address-id'};return this.getUrl(urls,params);},getApplyCouponUrl:function(couponCode,quoteId){var params=this.getCheckoutMethod()=='guest'?{quoteId:quoteId}:{},urls={'guest':'/guest-carts/'+quoteId+'/coupons/'+encodeURIComponent(couponCode),'customer':'/carts/mine/coupons/'+encodeURIComponent(couponCode)};return this.getUrl(urls,params);},getCancelCouponUrl:function(quoteId){var params=this.getCheckoutMethod()=='guest'?{quoteId:quoteId}:{},urls={'guest':'/guest-carts/'+quoteId+'/coupons/','customer':'/carts/mine/coupons/'};return this.getUrl(urls,params);},getUrlForCartTotals:function(quote){var params=this.getCheckoutMethod()=='guest'?{quoteId:quote.getQuoteId()}:{},urls={'guest':'/guest-carts/:quoteId/totals','customer':'/carts/mine/totals'};return this.getUrl(urls,params);},getUrlForSetShippingInformation:function(quote){var params=this.getCheckoutMethod()=='guest'?{cartId:quote.getQuoteId()}:{},urls={'guest':'/guest-carts/:cartId/shipping-information','customer':'/carts/mine/shipping-information'};return this.getUrl(urls,params);},getUrl:function(urls,urlParams){var url;if(utils.isEmpty(urls)){return 'Provided service call does not exist.';}
if(!utils.isEmpty(urls['default'])){url=urls['default'];}else{url=urls[this.getCheckoutMethod()];}
return urlBuilder.createUrl(url,urlParams);},getCheckoutMethod:function(){return customer.isLoggedIn()?'customer':'guest';}};});define('Magento_Checkout/js/model/cart/totals-processor/default',['underscore','Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/quote','mage/storage','Magento_Checkout/js/model/totals','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/cart/cache','Magento_Customer/js/customer-data'],function(_,resourceUrlManager,quote,storage,totalsService,errorProcessor,cartCache,customerData){'use strict';var loadFromServer=function(address){var serviceUrl,payload;totalsService.isLoading(true);serviceUrl=resourceUrlManager.getUrlForTotalsEstimationForNewAddress(quote);payload={addressInformation:{address:_.pick(address,cartCache.requiredFields)}};if(quote.shippingMethod()&&quote.shippingMethod()['method_code']){payload.addressInformation['shipping_method_code']=quote.shippingMethod()['method_code'];payload.addressInformation['shipping_carrier_code']=quote.shippingMethod()['carrier_code'];}
return storage.post(serviceUrl,JSON.stringify(payload),false).done(function(result){var data={totals:result,address:address,cartVersion:customerData.get('cart')()['data_id'],shippingMethodCode:null,shippingCarrierCode:null};if(quote.shippingMethod()&&quote.shippingMethod()['method_code']){data.shippingMethodCode=quote.shippingMethod()['method_code'];data.shippingCarrierCode=quote.shippingMethod()['carrier_code'];}
quote.setTotals(result);cartCache.set('cart-data',data);}).fail(function(response){errorProcessor.process(response);}).always(function(){totalsService.isLoading(false);});};return{requiredFields:cartCache.requiredFields,estimateTotals:function(address){var data={shippingMethodCode:null,shippingCarrierCode:null};if(quote.shippingMethod()&&quote.shippingMethod()['method_code']){data.shippingMethodCode=quote.shippingMethod()['method_code'];data.shippingCarrierCode=quote.shippingMethod()['carrier_code'];}
return loadFromServer(address);}};});define('Magento_Checkout/js/action/get-totals',['jquery','../model/quote','Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/error-processor','mage/storage','Magento_Checkout/js/model/totals'],function($,quote,resourceUrlManager,errorProcessor,storage,totals){'use strict';return function(callbacks,deferred){deferred=deferred||$.Deferred();totals.isLoading(true);return storage.get(resourceUrlManager.getUrlForCartTotals(quote),false).done(function(response){var proceed=true;totals.isLoading(false);if(callbacks.length>0){$.each(callbacks,function(index,callback){proceed=proceed&&callback();});}
if(proceed){quote.setTotals(response);deferred.resolve();}}).fail(function(response){totals.isLoading(false);deferred.reject();errorProcessor.process(response);}).always(function(){totals.isLoading(false);});};});define('Magento_Checkout/js/action/create-shipping-address',['Magento_Customer/js/model/address-list','Magento_Checkout/js/model/address-converter'],function(addressList,addressConverter){'use strict';return function(addressData){var address=addressConverter.formAddressDataToQuoteAddress(addressData),isAddressUpdated=addressList().some(function(currentAddress,index,addresses){if(currentAddress.getKey()==address.getKey()){addresses[index]=address;return true;}
return false;});if(!isAddressUpdated){addressList.push(address);}else{addressList.valueHasMutated();}
return address;};});define('Magento_CheckoutAgreements/js/model/agreements-assigner',['jquery'],function($){'use strict';var agreementsConfig=window.checkoutConfig.checkoutAgreements;return function(paymentData){var paymentMethodSel='.payment-method',agreementInputs,agreementIds;if(!agreementsConfig.isEnabled){return;}
agreementInputs=$('div[data-role=checkout-agreements] input');agreementIds=[];agreementInputs.each(function(index,input){var parentPaymentMethod,$input=$(input);if(this.checked){parentPaymentMethod=$input.closest(paymentMethodSel);if(!parentPaymentMethod.length){agreementIds.push(this.value);return;}
if(parentPaymentMethod.hasClass('_active')){agreementIds.push(this.value);}}});if(paymentData['extension_attributes']===undefined){paymentData['extension_attributes']={};}
paymentData['extension_attributes']['agreement_ids']=agreementIds;};});define('Magento_CheckoutAgreements/js/model/set-payment-information-mixin',['jquery','mage/utils/wrapper','Magento_CheckoutAgreements/js/model/agreements-assigner'],function($,wrapper,agreementsAssigner){'use strict';return function(placeOrderAction){return wrapper.wrap(placeOrderAction,function(originalAction,messageContainer,paymentData){agreementsAssigner(paymentData);return originalAction(messageContainer,paymentData);});};});define('Magento_Checkout/js/action/set-payment-information-extended',['Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','mage/storage','Magento_Checkout/js/model/error-processor','Magento_Customer/js/model/customer','Magento_Checkout/js/action/get-totals','Magento_Checkout/js/model/full-screen-loader','underscore'],function(quote,urlBuilder,storage,errorProcessor,customer,getTotalsAction,fullScreenLoader,_){'use strict';var filterTemplateData=function(data){return _.each(data,function(value,key,list){if(_.isArray(value)||_.isObject(value)){list[key]=filterTemplateData(value);}
if(key==='__disableTmpl'){delete list[key];}});};return function(messageContainer,paymentData,skipBilling){var serviceUrl,payload;paymentData=filterTemplateData(paymentData);skipBilling=skipBilling||false;payload={cartId:quote.getQuoteId(),paymentMethod:paymentData};if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/guest-carts/:cartId/set-payment-information',{cartId:quote.getQuoteId()});payload.email=quote.guestEmail;}else{serviceUrl=urlBuilder.createUrl('/carts/mine/set-payment-information',{});}
if(skipBilling===false){payload.billingAddress=quote.billingAddress();}
fullScreenLoader.startLoader();return storage.post(serviceUrl,JSON.stringify(payload)).fail(function(response){errorProcessor.process(response,messageContainer);}).always(function(){fullScreenLoader.stopLoader();});};});define('Magento_Checkout/js/action/set-payment-information',['Magento_Checkout/js/action/set-payment-information-extended'],function(setPaymentInformationExtended){'use strict';return function(messageContainer,paymentData){return setPaymentInformationExtended(messageContainer,paymentData,false);};});define('Magento_SalesRule/js/action/select-payment-method-mixin',['jquery','mage/utils/wrapper','Magento_Checkout/js/model/quote','Magento_SalesRule/js/model/payment/discount-messages','Magento_Checkout/js/action/set-payment-information','Magento_Checkout/js/action/get-totals','Magento_SalesRule/js/model/coupon'],function($,wrapper,quote,messageContainer,setPaymentInfoAction,getTotalsAction,coupon){'use strict';return function(selectPaymentAction){return wrapper.wrap(selectPaymentAction,function(intialPaymentAction,paymentMethod){var updateCouponCallback=function(){if(quote.totals()&&!quote.totals()['coupon_code']){coupon.setCouponCode('');coupon.setIsApplied(false);}},couponFormUpdate=function(){var deferred=$.Deferred();getTotalsAction([],deferred);$.when(deferred).done(updateCouponCallback);};intialPaymentAction(paymentMethod);if(paymentMethod!==null){$.when(setPaymentInfoAction(messageContainer,{method:paymentMethod.method})).done(couponFormUpdate);}});};});define('Magento_Checkout/js/model/payment-service',['underscore','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/payment/method-list','Magento_Checkout/js/action/select-payment-method'],function(_,quote,methodList,selectPaymentMethod){'use strict';var isFreePaymentMethod=function(paymentMethod){return paymentMethod.method==='free';},getGrandTotal=function(){return quote.totals()['grand_total'];};return{isFreeAvailable:false,setPaymentMethods:function(methods){var freeMethod,filteredMethods,methodIsAvailable,methodNames;freeMethod=_.find(methods,isFreePaymentMethod);this.isFreeAvailable=!!freeMethod;if(freeMethod&&getGrandTotal()<=0){methods.splice(0,methods.length,freeMethod);selectPaymentMethod(freeMethod);}
filteredMethods=_.without(methods,freeMethod);if(filteredMethods.length===1){selectPaymentMethod(filteredMethods[0]);}else if(quote.paymentMethod()){methodIsAvailable=methods.some(function(item){return item.method===quote.paymentMethod().method;});if(!methodIsAvailable){selectPaymentMethod(null);}}
methodNames=_.pluck(methods,'method');_.map(methodList(),function(existingMethod){var existingMethodIndex=methodNames.indexOf(existingMethod.method);if(existingMethodIndex!==-1){methods[existingMethodIndex]=existingMethod;}});methodList(methods);},getAvailablePaymentMethods:function(){var allMethods=methodList().slice(),grandTotalOverZero=getGrandTotal()>0;if(!this.isFreeAvailable){return allMethods;}
if(grandTotalOverZero){return _.reject(allMethods,isFreePaymentMethod);}
return _.filter(allMethods,isFreePaymentMethod);}};});define('Magento_Checkout/js/model/checkout-data-resolver',['Magento_Customer/js/model/address-list','Magento_Checkout/js/model/quote','Magento_Checkout/js/checkout-data','Magento_Checkout/js/action/create-shipping-address','Magento_Checkout/js/action/select-shipping-address','Magento_Checkout/js/action/select-shipping-method','Magento_Checkout/js/model/payment-service','Magento_Checkout/js/action/select-payment-method','Magento_Checkout/js/model/address-converter','Magento_Checkout/js/action/select-billing-address','Magento_Checkout/js/action/create-billing-address','underscore'],function(addressList,quote,checkoutData,createShippingAddress,selectShippingAddress,selectShippingMethodAction,paymentService,selectPaymentMethodAction,addressConverter,selectBillingAddress,createBillingAddress,_){'use strict';return{resolveEstimationAddress:function(){var address;if(checkoutData.getShippingAddressFromData()){address=addressConverter.formAddressDataToQuoteAddress(checkoutData.getShippingAddressFromData());selectShippingAddress(address);}else{this.resolveShippingAddress();}
if(quote.isVirtual()){if(checkoutData.getBillingAddressFromData()){address=addressConverter.formAddressDataToQuoteAddress(checkoutData.getBillingAddressFromData());selectBillingAddress(address);}else{this.resolveBillingAddress();}}},resolveShippingAddress:function(){var newCustomerShippingAddress;if(!checkoutData.getShippingAddressFromData()&&window.checkoutConfig.shippingAddressFromData){checkoutData.setShippingAddressFromData(window.checkoutConfig.shippingAddressFromData);}
newCustomerShippingAddress=checkoutData.getNewCustomerShippingAddress();if(newCustomerShippingAddress){createShippingAddress(newCustomerShippingAddress);}
this.applyShippingAddress();},applyShippingAddress:function(isEstimatedAddress){var address,shippingAddress,isConvertAddress,addressData,isShippingAddressInitialized;if(addressList().length===0){address=addressConverter.formAddressDataToQuoteAddress(checkoutData.getShippingAddressFromData());selectShippingAddress(address);}
shippingAddress=quote.shippingAddress();isConvertAddress=isEstimatedAddress||false;if(!shippingAddress){isShippingAddressInitialized=addressList.some(function(addressFromList){if(checkoutData.getSelectedShippingAddress()==addressFromList.getKey()){addressData=isConvertAddress?addressConverter.addressToEstimationAddress(addressFromList):addressFromList;selectShippingAddress(addressData);return true;}
return false;});if(!isShippingAddressInitialized){isShippingAddressInitialized=addressList.some(function(addrs){if(addrs.isDefaultShipping()){addressData=isConvertAddress?addressConverter.addressToEstimationAddress(addrs):addrs;selectShippingAddress(addressData);return true;}
return false;});}
if(!isShippingAddressInitialized&&addressList().length===1){addressData=isConvertAddress?addressConverter.addressToEstimationAddress(addressList()[0]):addressList()[0];selectShippingAddress(addressData);}}},resolveShippingRates:function(ratesData){var selectedShippingRate=checkoutData.getSelectedShippingRate(),availableRate=false;if(ratesData.length===1&&!quote.shippingMethod()){selectShippingMethodAction(ratesData[0]);return;}
if(quote.shippingMethod()){availableRate=_.find(ratesData,function(rate){return rate['carrier_code']==quote.shippingMethod()['carrier_code']&&rate['method_code']==quote.shippingMethod()['method_code'];});}
if(!availableRate&&selectedShippingRate){availableRate=_.find(ratesData,function(rate){return rate['carrier_code']+'_'+rate['method_code']===selectedShippingRate;});}
if(!availableRate&&window.checkoutConfig.selectedShippingMethod){availableRate=_.find(ratesData,function(rate){var selectedShippingMethod=window.checkoutConfig.selectedShippingMethod;return rate['carrier_code']==selectedShippingMethod['carrier_code']&&rate['method_code']==selectedShippingMethod['method_code'];});}
if(!availableRate){selectShippingMethodAction(null);}else{selectShippingMethodAction(availableRate);}},resolvePaymentMethod:function(){var availablePaymentMethods=paymentService.getAvailablePaymentMethods(),selectedPaymentMethod=checkoutData.getSelectedPaymentMethod();if(selectedPaymentMethod){availablePaymentMethods.some(function(payment){if(payment.method==selectedPaymentMethod){selectPaymentMethodAction(payment);}});}},resolveBillingAddress:function(){var selectedBillingAddress,newCustomerBillingAddressData;if(!checkoutData.getBillingAddressFromData()&&window.checkoutConfig.billingAddressFromData){checkoutData.setBillingAddressFromData(window.checkoutConfig.billingAddressFromData);}
selectedBillingAddress=checkoutData.getSelectedBillingAddress();newCustomerBillingAddressData=checkoutData.getNewCustomerBillingAddress();if(selectedBillingAddress){if(selectedBillingAddress==='new-customer-billing-address'&&newCustomerBillingAddressData){selectBillingAddress(createBillingAddress(newCustomerBillingAddressData));}else{addressList.some(function(address){if(selectedBillingAddress===address.getKey()){selectBillingAddress(address);}});}}else{this.applyBillingAddress();}},applyBillingAddress:function(){var shippingAddress,isBillingAddressInitialized;if(quote.billingAddress()){selectBillingAddress(quote.billingAddress());return;}
if(quote.isVirtual()||!quote.billingAddress()){isBillingAddressInitialized=addressList.some(function(addrs){if(addrs.isDefaultBilling()){selectBillingAddress(addrs);return true;}
return false;});}
shippingAddress=quote.shippingAddress();if(!isBillingAddressInitialized&&shippingAddress&&shippingAddress.canUseForBilling()&&(shippingAddress.isDefaultShipping()||!quote.isVirtual())){selectBillingAddress(quote.shippingAddress());}}};});define('Magento_Checkout/js/model/shipping-service',['ko','Magento_Checkout/js/model/checkout-data-resolver'],function(ko,checkoutDataResolver){'use strict';var shippingRates=ko.observableArray([]);return{isLoading:ko.observable(false),setShippingRates:function(ratesData){shippingRates(ratesData);shippingRates.valueHasMutated();checkoutDataResolver.resolveShippingRates(ratesData);},getShippingRates:function(){return shippingRates;}};});define('Magento_Checkout/js/view/cart/totals',['jquery','uiComponent','Magento_Checkout/js/model/totals','Magento_Checkout/js/model/shipping-service'],function($,Component,totalsService,shippingService){'use strict';return Component.extend({isLoading:totalsService.isLoading,initialize:function(){this._super();totalsService.totals.subscribe(function(){$(window).trigger('resize');});shippingService.getShippingRates().subscribe(function(){$(window).trigger('resize');});}});});define('Magento_Checkout/js/model/shipping-rate-processor/new-address',['Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/quote','mage/storage','Magento_Checkout/js/model/shipping-service','Magento_Checkout/js/model/shipping-rate-registry','Magento_Checkout/js/model/error-processor'],function(resourceUrlManager,quote,storage,shippingService,rateRegistry,errorProcessor){'use strict';return{getRates:function(address){var cache,serviceUrl,payload;shippingService.isLoading(true);cache=rateRegistry.get(address.getCacheKey());serviceUrl=resourceUrlManager.getUrlForEstimationShippingMethodsForNewAddress(quote);payload=JSON.stringify({address:{'street':address.street,'city':address.city,'region_id':address.regionId,'region':address.region,'country_id':address.countryId,'postcode':address.postcode,'email':address.email,'customer_id':address.customerId,'firstname':address.firstname,'lastname':address.lastname,'middlename':address.middlename,'prefix':address.prefix,'suffix':address.suffix,'vat_id':address.vatId,'company':address.company,'telephone':address.telephone,'fax':address.fax,'custom_attributes':address.customAttributes,'save_in_address_book':address.saveInAddressBook}});if(cache){shippingService.setShippingRates(cache);shippingService.isLoading(false);}else{storage.post(serviceUrl,payload,false).done(function(result){rateRegistry.set(address.getCacheKey(),result);shippingService.setShippingRates(result);}).fail(function(response){shippingService.setShippingRates([]);errorProcessor.process(response);}).always(function(){shippingService.isLoading(false);});}}};});define('Magento_Checkout/js/model/cart/estimate-service',['Magento_Checkout/js/model/quote','Magento_Checkout/js/model/shipping-rate-processor/new-address','Magento_Checkout/js/model/cart/totals-processor/default','Magento_Checkout/js/model/shipping-service','Magento_Checkout/js/model/cart/cache','Magento_Customer/js/customer-data'],function(quote,defaultProcessor,totalsDefaultProvider,shippingService,cartCache,customerData){'use strict';var rateProcessors={},totalsProcessors={},estimateTotalsAndUpdateRates=function(){var type=quote.shippingAddress().getType();if(quote.isVirtual()||window.checkoutConfig.activeCarriers&&window.checkoutConfig.activeCarriers.length===0){totalsProcessors['default']=totalsDefaultProvider;totalsProcessors[type]?totalsProcessors[type].estimateTotals(quote.shippingAddress()):totalsProcessors['default'].estimateTotals(quote.shippingAddress());}else{if(!cartCache.isChanged('address',quote.shippingAddress())&&!cartCache.isChanged('cartVersion',customerData.get('cart')()['data_id'])&&cartCache.get('rates')){shippingService.setShippingRates(cartCache.get('rates'));return;}
rateProcessors['default']=defaultProcessor;rateProcessors[type]?rateProcessors[type].getRates(quote.shippingAddress()):rateProcessors['default'].getRates(quote.shippingAddress());shippingService.getShippingRates().subscribe(function(rates){cartCache.set('rates',rates);});}},estimateTotalsShipping=function(){totalsDefaultProvider.estimateTotals(quote.shippingAddress());},estimateTotalsBilling=function(newAddress){var type=newAddress&&newAddress.getType();if(type&&quote.isVirtual()){totalsProcessors['default']=totalsDefaultProvider;totalsProcessors[type]?totalsProcessors[type].estimateTotals(quote.billingAddress()):totalsProcessors['default'].estimateTotals(quote.billingAddress());}};quote.shippingAddress.subscribe(estimateTotalsAndUpdateRates);quote.shippingMethod.subscribe(estimateTotalsShipping);quote.billingAddress.subscribe(estimateTotalsBilling);customerData.get('cart').subscribe(estimateTotalsShipping);});define('Magento_Checkout/js/view/summary/shipping-mixin',['ko','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/cart/estimate-service'],function(ko,quote){'use strict';return function(shipping){return shipping.extend({initObservable:function(){this._super();this.getValue=ko.computed(function(){var price,shippingMethod;if(!this.isCalculated()){return this.notCalculatedMessage;}
shippingMethod=quote.shippingMethod();price=shippingMethod.amount;return this.getFormattedPrice(price);},this);return this;},getValue:function(){return 0;},getShippingMethodTitle:function(){var shippingMethod='';if(!this.isCalculated()){return '';}
shippingMethod=quote.shippingMethod();if(typeof shippingMethod['method_title']!=='undefined'){return shippingMethod['method_title'];}
return shippingMethod['carrier_title'];}});};});define('Magento_Tax/js/view/checkout/summary/shipping',['jquery','Magento_Checkout/js/view/summary/shipping','Magento_Checkout/js/model/quote'],function($,Component,quote){'use strict';var displayMode=window.checkoutConfig.reviewShippingDisplayMode;return Component.extend({defaults:{displayMode:displayMode,template:'Magento_Tax/checkout/summary/shipping'},isBothPricesDisplayed:function(){return this.displayMode=='both';},isIncludingDisplayed:function(){return this.displayMode=='including';},isExcludingDisplayed:function(){return this.displayMode=='excluding';},isCalculated:function(){return this.totals()&&this.isFullMode()&&quote.shippingMethod()!=null;},getIncludingValue:function(){var price;if(!this.isCalculated()){return this.notCalculatedMessage;}
price=this.totals()['shipping_incl_tax'];return this.getFormattedPrice(price);},getExcludingValue:function(){var price;if(!this.isCalculated()){return this.notCalculatedMessage;}
price=this.totals()['shipping_amount'];return this.getFormattedPrice(price);}});});define('Magento_Tax/js/view/checkout/cart/totals/shipping',['Magento_Tax/js/view/checkout/summary/shipping','Magento_Checkout/js/model/quote'],function(Component,quote){'use strict';return Component.extend({isCalculated:function(){return!!quote.shippingMethod();},getShippingMethodTitle:function(){return '('+this._super()+')';}});});define('Magento_NegotiableQuote/js/action/get-payment-information-mixin',['jquery','mage/utils/wrapper','mage/storage','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/payment/method-converter','Magento_Checkout/js/model/payment-service'],function($,wrapper,storage,quote,urlBuilder,errorProcessor,methodConverter,paymentService){'use strict';return function(getPaymentInformation){return wrapper.wrap(getPaymentInformation,function(originalAction,deferred,messageContainer){var serviceUrl;deferred=deferred||$.Deferred();if(window.checkoutConfig.isNegotiableQuote){serviceUrl=urlBuilder.createUrl('/negotiable-carts/:cartId/payment-information',{cartId:quote.getQuoteId()});return storage.get(serviceUrl,false).done(function(response){quote.setTotals(response.totals);paymentService.setPaymentMethods(methodConverter(response['payment_methods']));deferred.resolve();}).fail(function(response){errorProcessor.process(response,messageContainer);deferred.reject();});}
return originalAction(deferred,messageContainer);});};});define('Magento_Checkout/js/action/get-payment-information',['jquery','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','mage/storage','Magento_Checkout/js/model/error-processor','Magento_Customer/js/model/customer','Magento_Checkout/js/model/payment/method-converter','Magento_Checkout/js/model/payment-service'],function($,quote,urlBuilder,storage,errorProcessor,customer,methodConverter,paymentService){'use strict';return function(deferred,messageContainer){var serviceUrl;deferred=deferred||$.Deferred();if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/guest-carts/:cartId/payment-information',{cartId:quote.getQuoteId()});}else{serviceUrl=urlBuilder.createUrl('/carts/mine/payment-information',{});}
return storage.get(serviceUrl,false).done(function(response){quote.setTotals(response.totals);paymentService.setPaymentMethods(methodConverter(response['payment_methods']));deferred.resolve();}).fail(function(response){errorProcessor.process(response,messageContainer);deferred.reject();});};});define('Magento_GiftCardAccount/js/action/remove-gift-card-from-quote',['jquery','Magento_Checkout/js/model/url-builder','mage/storage','Magento_Customer/js/model/customer','Magento_Checkout/js/model/quote','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/model/error-processor','Magento_GiftCardAccount/js/model/payment/gift-card-messages','mage/translate'],function($,urlBuilder,storage,customer,quote,getPaymentInformationAction,fullScreenLoader,errorProcessor,messageList){'use strict';return function(giftCardCode){var serviceUrl,message=$.mage.__('Gift Card %1 was removed.').replace('%1',giftCardCode);if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/carts/guest-carts/:cartId/giftCards/:giftCardCode',{cartId:quote.getQuoteId(),giftCardCode:giftCardCode});}else{serviceUrl=urlBuilder.createUrl('/carts/mine/giftCards/:giftCardCode',{giftCardCode:giftCardCode});}
messageList.clear();fullScreenLoader.startLoader();return storage.delete(serviceUrl).done(function(response){if(response){$.when(getPaymentInformationAction()).always(function(){fullScreenLoader.stopLoader();});messageList.addSuccessMessage({'message':message});}}).fail(function(response){errorProcessor.process(response,messageList);fullScreenLoader.stopLoader();});};});define('Magento_NegotiableQuote/js/action/remove-gift-card-from-quote-mixin',['jquery','mage/utils/wrapper','mage/storage','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/get-payment-information','Magento_GiftCardAccount/js/model/payment/gift-card-messages'],function($,wrapper,storage,quote,urlBuilder,errorProcessor,fullScreenLoader,getPaymentInformationAction,messageList){'use strict';return function(removeGiftCardFromQuote){return wrapper.wrap(removeGiftCardFromQuote,function(originalAction,giftCardCode){var serviceUrl;if(window.checkoutConfig.isNegotiableQuote){serviceUrl=urlBuilder.createUrl('/negotiable-carts/:cartId/giftCards/:giftCardCode',{cartId:quote.getQuoteId(),giftCardCode:giftCardCode});fullScreenLoader.startLoader();return storage.delete(serviceUrl).done(function(response){if(response){$.when(getPaymentInformationAction()).always(fullScreenLoader.stopLoader);}}).fail(function(response){errorProcessor.process(response,messageList);fullScreenLoader.stopLoader();});}
return originalAction(giftCardCode);});};});define('Magento_GiftCardAccount/js/view/summary/gift-card-account',['jquery','ko','Magento_Checkout/js/view/summary/abstract-total','mage/url','Magento_Checkout/js/model/totals','Magento_GiftCardAccount/js/action/remove-gift-card-from-quote'],function($,ko,generic,url,totals,removeAction){'use strict';return generic.extend({defaults:{template:'Magento_GiftCardAccount/summary/gift-card-account'},getAppliedGiftCards:function(){if(totals.getSegment('giftcardaccount')){return JSON.parse(totals.getSegment('giftcardaccount')['extension_attributes']['gift_cards']);}
return[];},isAvailable:function(){return this.isFullMode()&&totals.getSegment('giftcardaccount')&&totals.getSegment('giftcardaccount').value!=0;},getAmount:function(usedBalance){return this.getFormattedPrice(usedBalance);},removeGiftCard:function(giftCardCode,event){event.preventDefault();if(giftCardCode){removeAction(giftCardCode);}}});});define('Magento_GiftCardAccount/js/view/cart/totals/gift-card-account',['jquery','Magento_GiftCardAccount/js/view/summary/gift-card-account','mage/url','Magento_Checkout/js/model/totals'],function($,Component,url,totals){'use strict';return Component.extend({defaults:{template:'Magento_GiftCardAccount/cart/totals/gift-card-account'},getRemoveUrl:function(giftCardCode){return url.build('giftcard/cart/remove/code/'+giftCardCode);},isAvailable:function(){return totals.getSegment('giftcardaccount')&&totals.getSegment('giftcardaccount').value!==0;},removeGiftCard:function(giftCardCode,event){event.preventDefault();if(giftCardCode){$.post(this.getRemoveUrl(giftCardCode)).always(function(){location.reload();});}}});});define('text!Magento_Checkout/template/cart/totals.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="table-wrapper" data-bind="blockLoader: isLoading">\n    <table class="data table totals">\n        <caption class="table-caption" data-bind="text: $t(\'Total\')"></caption>\n        <tbody>\n        <!-- ko foreach: elems() -->\n            <!-- ko template: getTemplate() --><!-- /ko -->\n        <!-- /ko -->\n        </tbody>\n    </table>\n</div>\n';});define('text!Magento_Tax/template/checkout/summary/subtotal.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isBothPricesDisplayed() -->\n<tr class="totals sub excl">\n    <th class="mark" scope="row">\n        <span data-bind="i18n: title"></span>\n        <span data-bind="i18n: excludingTaxMessage"></span>\n    </th>\n    <td class="amount">\n        <span class="price" data-bind="text: getValue(), attr: {\'data-th\': excludingTaxMessage}"></span>\n    </td>\n</tr>\n<tr class="totals sub incl">\n    <th class="mark" scope="row">\n        <span data-bind="i18n: title"></span>\n        <span data-bind="i18n: includingTaxMessage"></span>\n    </th>\n    <td class="amount">\n        <span class="price" data-bind="text: getValueInclTax(), attr: {\'data-th\': includingTaxMessage}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: !isBothPricesDisplayed() && isIncludingTaxDisplayed() -->\n<tr class="totals sub">\n    <th data-bind="i18n: title" class="mark" scope="row"></th>\n    <td class="amount">\n        <span class="price" data-bind="text: getValueInclTax(), attr: {\'data-th\': title}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: !isBothPricesDisplayed() && !isIncludingTaxDisplayed() -->\n<tr class="totals sub">\n    <th data-bind="i18n: title" class="mark" scope="row"></th>\n    <td class="amount">\n        <span class="price" data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!Magento_GiftCardAccount/template/cart/totals/gift-card-account.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<!-- ko if: isAvailable() -->\n<!-- ko foreach: getAppliedGiftCards() -->\n<tr class="totals giftcard">\n    <th class="mark" scope="row" colspan="1">\n        <div class="amount" data-bind="attr: {\'data-th\':  $parent.title + \' (\' + c + \')\'}"></div>\n        <form method="post" data-bind="attr: {action: $parent.getRemoveUrl(c), title: $t(\'Remove\')}" class="action delete">\n            <input type="submit" value="&#xf12e" class="giftcard-remove">\n        </form>\n        <!-- ko text: $parent.title --><!-- /ko -->\n        <div class="giftcard-code-display">\n            <span>\n                <!-- ko text: \' (\' + c + \')\' --><!-- /ko -->\n            </span>\n        </div>\n    </th>\n    <td class="amount" data-bind="attr: {\'data-th\':  $parent.title + \' (\' + c + \')\'}">\n        <span class="discount">\n            <span class="price" data-bind="text: \'-\' + $parent.getAmount(a)"></span>\n        </span>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/cart/totals/shipping.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isCalculated() && quoteIsVirtual == 0 -->\n    <!-- ko if: isBothPricesDisplayed() -->\n    <tr class="totals shipping excl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="text: title + \' \' + excludingTaxMessage"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <span class="price"\n                  data-bind="text: getExcludingValue(), attr: {\'data-th\': excludingTaxMessage}"></span>\n        </td>\n    </tr>\n    <tr class="totals shipping incl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="text: title + \' \' + includingTaxMessage"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <span class="price"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title + \' \' + excludingTaxMessage}"></span>\n        </td>\n    </tr>\n    <!-- /ko -->\n    <!-- ko if: isIncludingDisplayed() -->\n    <tr class="totals shipping incl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="i18n: title"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <span class="price"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title}"></span>\n        </td>\n    </tr>\n    <!-- /ko -->\n    <!-- ko if: isExcludingDisplayed() -->\n    <tr class="totals shipping excl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="i18n: title"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <span class="price"\n                  data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n        </td>\n    </tr>\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_SalesRule/template/cart/totals/discount.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isDisplayed() -->\n<tr class="totals">\n    <th colspan="1" style="" class="mark" scope="row">\n        <span class="title" data-bind="text: getTitle()"></span>\n        <span class="discount coupon" data-bind="text: getCouponLabel()"></span>\n    </th>\n    <td class="amount" data-bind="attr: {\'data-th\': title}">\n        <span><span class="price" data-bind="text: getValue()"></span></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/summary/shipping.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: quoteIsVirtual == 0 -->\n    <tr class="totals shipping excl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="i18n: title"></span>\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/cart/totals/tax.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n\n<!-- ko if: ifShowValue() && !ifShowDetails() -->\n<tr class="totals-tax">\n    <th data-bind="text: title" class="mark" colspan="1" scope="row"></th>\n    <td data-bind="attr: {\'data-th\': title}" class="amount">\n        <span class="price" data-bind="text: getValue()"></span>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: ifShowValue() && ifShowDetails() -->\n    <tr class="totals-tax-summary"\n        data-bind="mageInit: {\'toggleAdvanced\':{\'selectorsToggleClass\': \'shown\', \'baseToggleClass\': \'expanded\', \'toggleContainers\': \'.totals-tax-details\'}}">\n        <th class="mark" scope="row" colspan="1">\n            <span class="detailed" data-bind="text: title"></span>\n        </th>\n        <td data-bind="attr: {\'data-th\': title}" class="amount">\n            <span class="price" data-bind="text: getValue()"></span>\n        </td>\n    </tr>\n    <!-- ko foreach: getDetails() -->\n        <!-- ko foreach: rates -->\n        <tr class="totals-tax-details">\n            <!-- ko if: percent -->\n                <th class="mark" scope="row" colspan="1" data-bind="text: title + \' (\' + percent + \'%)\'"></th>\n            <!-- /ko -->\n            <!-- ko if: !percent -->\n                <th class="mark" scope="row" colspan="1" data-bind="text: title"></th>\n            <!-- /ko -->\n            <td class="amount" rowspan="1">\n                <!-- ko if: $parents[1].isCalculated() -->\n                <span class="price"\n                      data-bind="text: $parents[1].getTaxAmount($parents[0], percent), attr: {\'data-th\': title, \'rowspan\': $parents[0].rates.length }"></span>\n                <!-- /ko -->\n                <!-- ko ifnot: $parents[1].isCalculated() -->\n                <span class="not-calculated"\n                      data-bind="text: $parents[1].getTaxAmount($parents[0], percent), attr: {\'data-th\': title, \'rowspan\': $parents[0].rates.length }"></span>\n                <!-- /ko -->\n            </td>\n        </tr>\n        <!-- /ko -->\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/cart/totals/grand-total.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isTaxDisplayedInGrandTotal && isDisplayed() -->\n<tr class="grand totals incl">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: inclTaxLabel"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': inclTaxLabel}" class="amount">\n        <strong><span class="price" data-bind="text: getValue()"></span></strong>\n    </td>\n</tr>\n<tr class="grand totals excl">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: exclTaxLabel"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': exclTaxLabel}" class="amount">\n        <strong><span class="price" data-bind="text: getGrandTotalExclTax()"></span></strong>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: !isTaxDisplayedInGrandTotal && isDisplayed() -->\n<tr class="grand totals">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: title"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': title}" class="amount">\n        <strong><span class="price" data-bind="text: getValue()"></span></strong>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!ui/template/collection.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<each args="data: elems, as: \'element\'">\n    <render if="hasTemplate()"/>\n</each>\n';});define('text!Magento_Weee/template/checkout/summary/weee.html',function(){return '<!--\n/**\n* Copyright \xA9 Magento, Inc. All rights reserved.\n* See COPYING.txt for license details.\n*/\n-->\n<!-- ko if: isDisplayed() -->\n<tr class="totals">\n    <th data-bind="text: title" class="mark" scope="row"></th>\n    <td class="amount" data-bind="attr: {\'data-th\': title}">\n        <span class="price" data-bind="text: getValue()"></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!Vertex_Tax/template/checkout/cart/totals/tax-messages.html',function(){return '<!--\n/**\n * @copyright  Vertex. All rights reserved.  https://www.vertexinc.com/\n * @author     Mediotype                     https://www.mediotype.com/\n */\n-->\n<!-- ko foreach: messages -->\n    <!-- ko if: $data -->\n        <tr class="field vertex-message">\n            <td colspan="2">\n                <div role="alert" class="message warning" generated="true">\n                    <span data-bind="text: $data"></span>\n                </div>\n            </td>\n        </tr>\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_GiftWrapping/template/summary/totals.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isAvailable() -->\n    <!-- ko if: displayBothPrices() -->\n        <tr class="totals giftwrapping excl">\n            <th class="mark">\n                <span data-bind="text: $t(title) + \' \' + $t(excludingTaxMessage)"></span>\n            </th>\n            <td data-bind="text: getValue(), attr: {\'data-th\': $t(excludingTaxMessage)}" class="amount"></td>\n        </tr>\n        <tr class="totals giftwrapping incl">\n            <th class="mark">\n                <span data-bind="text: $t(title) + \' \' + $t(includingTaxMessage)"></span>\n            </th>\n            <td data-bind="text: getIncludingTaxValue(), attr: {\'data-th\': $t(includingTaxMessage)}" class="amount"></td>\n        </tr>\n    <!-- /ko -->\n    <!-- ko if: displayPriceInclTax() -->\n        <tr class="totals giftwrapping">\n            <th class="mark">\n                <span data-bind="{i18n: title}"></span>\n            </th>\n            <td data-bind="{text: getIncludingTaxValue(), attr: {\'data-th\': $t(title)}}" class="amount"></td>\n        </tr>\n    <!-- /ko -->\n    <!-- ko if: displayPriceExclTax() -->\n        <tr class="totals giftwrapping">\n            <th class="mark">\n                <span data-bind="{i18n: title}"></span>\n            </th>\n            <td data-bind="{text: getValue(), attr: {\'data-th\': $t(title)}}" class="amount"></td>\n        </tr>\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/minicart/item/default.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<li class="item product product-item" data-role="product-item">\n    <div class="product">\n        <!-- ko if: product_has_url -->\n            <a data-bind="attr: {href: product_url, title: product_name}" tabindex="-1" class="product-item-photo">\n                <!-- ko foreach: $parent.getRegion(\'itemImage\') -->\n                    <!-- ko template: {name: getTemplate(), data: item.product_image} --><!-- /ko -->\n                <!-- /ko -->\n            </a>\n        <!-- /ko -->\n\n        <!-- ko ifnot: product_has_url -->\n            <span class="product-item-photo">\n                <!-- ko foreach: $parent.getRegion(\'itemImage\') -->\n                    <!-- ko template: {name: getTemplate(), data: item.product_image} --><!-- /ko -->\n                <!-- /ko -->\n            </span>\n        <!-- /ko -->\n\n        <div class="product-item-details">\n            <strong class="product-item-name">\n                <!-- ko if: product_has_url -->\n                    <a data-bind="attr: {href: product_url}, html: product_name"></a>\n                <!-- /ko -->\n\n                <!-- ko ifnot: product_has_url -->\n                    <!-- ko text: product_name --><!-- /ko -->\n                <!-- /ko -->\n            </strong>\n\n            <strong class="secondary">\n                <a href="#" data-bind="attr: {\'data-cart-item\': item_id, title: $t(\'Remove item\')}"\n                   class="action delete">\n                    <span data-bind="i18n: \'Remove\'"></span>\n                </a>\n            </strong>\n\n            <!-- ko if: options.length && product_type != \'giftcard\' -->\n                <div class="product options">\n                    <ul class="product options list">\n                        <!-- ko foreach: { data: options, as: \'option\' } -->\n                            <li>\n                                <span data-bind="text: option.label" />:\n\n                                <!-- ko if: Array.isArray(option.value) -->\n                                    <span data-bind="html: option.value.join(\'<br>\')"></span>\n                                <!-- /ko -->\n\n                                <!-- ko if: (!Array.isArray(option.value) && option.option_type == \'file\') -->\n                                    <span data-bind="html: option.value"></span>\n                                <!-- /ko -->\n\n                                <!-- ko if: (!Array.isArray(option.value) && option.option_type != \'file\') -->\n                                    <span data-bind="text: option.value"></span>\n                                <!-- /ko -->\n                            </li>\n                        <!-- /ko -->\n                    </ul>\n                </div>\n            <!-- /ko -->\n\n            <div class="product-item-pricing">\n                <!-- ko if: canApplyMsrp -->\n                    <div class="details-map">\n                        <span class="label" data-bind="i18n: \'Price\'"></span>\n                        <span class="value" data-bind="i18n: \'See price before order confirmation.\'"></span>\n                    </div>\n                <!-- /ko -->\n\n                <!-- ko ifnot: canApplyMsrp -->\n                    <!-- ko foreach: $parent.getRegion(\'priceSidebar\') -->\n                        <!-- ko template: {name: getTemplate(), data: item.product_price, as: \'price\'} --><!-- /ko -->\n                    <!-- /ko -->\n                <!-- /ko -->\n\n                <div class="details-qty qty">\n                    <input data-bind="\n                               attr: {\n                                   id: \'cart-item-\'+item_id+\'-qty\',\n                                   \'data-cart-item\': item_id,\n                                   \'data-item-qty\': qty(),\n                                   \'data-cart-item-id\': product_sku\n                               },\n                               value: qty,\n                               event: {\n                                   \'keyup\': keyup\n                               }"\n                           type="number"\n                           size="4"\n                           min="0" oninput="validity.valid||(value=\'\');"\n                           class="input-text qty item-qty cart-item-qty">\n                    <!-- ko template: qtyUpdaterTemplate --><!-- /ko -->\n                </div>\n            </div>\n\n            <div class="product actions">\n                <!-- ko if: is_visible_in_site_visibility -->\n                    <div class="primary">\n                        <a data-bind="attr: {href: configure_url, title: $t(\'Edit item\')}" class="action edit">\n                            <span data-bind="i18n: \'Edit\'"></span>\n                        </a>\n                    </div>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n</li>\n';});define('text!Magento_Checkout/template/minicart/subtotal.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="subtotal">\n    <span class="label">\n        <!-- ko i18n: \'Cart Subtotal\' --><!-- /ko -->\n    </span>\n\n    <!-- ko foreach: elems -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!-- /ko -->\n</div>\n';});define('text!Magento_Checkout/template/minicart/item/price.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="price-container">\n  <span class="price-wrapper" data-bind="html: price"></span>\n</div>\n';});define('text!Magento_Catalog/template/product/image_with_borders.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<span class="product-image-container" data-bind="style: {width: width + \'px\'}">\n    <span class="product-image-wrapper"  data-bind="style: {\'padding-bottom\': height/width*100 + \'%\'}">\n        <img class="product-image-photo" data-bind="attr: {src: src, alt: alt}, style: {width: \'auto\', height: \'auto\'}" />\n    </span>\n</span>\n';});define('text!Magento_Tax/template/checkout/minicart/subtotal/totals.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n\n<div class="amount price-container">\n    <!-- ko if: displaySubtotal() -->\n        <!-- ko if: display_cart_subtotal_excl_tax -->\n            <span class="price-wrapper" data-bind="html: cart().subtotal_excl_tax"></span>\n        <!-- /ko -->\n\n        <!-- ko if: !display_cart_subtotal_excl_tax && display_cart_subtotal_incl_tax -->\n            <span class="price-wrapper" data-bind="html: cart().subtotal_incl_tax"></span>\n        <!-- /ko -->\n\n        <!-- ko if: !display_cart_subtotal_excl_tax && !display_cart_subtotal_incl_tax -->\n            <span class="price-wrapper price-including-tax"\n                  data-bind="attr: { \'data-label\': $t(\'Incl. Tax\') }, html: cart().subtotal_incl_tax">\n            </span>\n\n            <span class="price-wrapper price-excluding-tax"\n                  data-bind="attr: { \'data-label\': $t(\'Excl. Tax\') }, html: cart().subtotal_excl_tax">\n            </span>\n        <!-- /ko -->\n    <!-- /ko -->\n    <!-- ko ifnot: displaySubtotal() -->\n        <!-- ko foreach: getRegion(\'minicart-subtotal-hidden\') -->\n            <!-- ko template: getTemplate() --><!-- /ko -->\n        <!-- /ko -->\n    <!-- /ko -->\n</div>\n';});define('Magento_Ui/js/form/components/group',['underscore','uiCollection'],function(_,Collection){'use strict';return Collection.extend({defaults:{visible:true,label:'',showLabel:true,required:false,template:'ui/group/group',fieldTemplate:'ui/form/field',breakLine:true,validateWholeGroup:false,additionalClasses:{}},initialize:function(){this._super()._setClasses();return this;},initObservable:function(){this._super().observe('visible').observe({required:!!+this.required});return this;},_setClasses:function(){var additional=this.additionalClasses,classes;if(_.isString(additional)){additional=this.additionalClasses.split(' ');classes=this.additionalClasses={};additional.forEach(function(name){classes[name]=true;},this);}
_.extend(this.additionalClasses,{'admin__control-grouped':!this.breakLine,'admin__control-fields':this.breakLine,required:this.required,_error:this.error,_disabled:this.disabled});return this;},isSingle:function(){return this.elems.getLength()===1;},isMultiple:function(){return this.elems.getLength()>1;},getPreview:function(){return this.elems.map('getPreview');}});});define('Magento_PaypalReCaptcha/js/paypalReCaptcha',['MSP_ReCaptcha/js/reCaptcha','jquery','MSP_ReCaptcha/js/registry'],function(Component,$,registry){'use strict';return Component.extend({reCaptchaCallback:function(token){this.tokenField.value=token;this.$parentForm.trigger('captcha:endExecute');},initCaptcha:function(){var me=this,$parentForm,$wrapper,$reCaptcha,widgetId;if(this.captchaInitialized){return;}
this.captchaInitialized=true;$wrapper=$('#'+this.getReCaptchaId()+'-wrapper');$reCaptcha=$wrapper.find('.g-recaptcha');$reCaptcha.attr('id',this.getReCaptchaId());$parentForm=$wrapper.parents('form');widgetId=grecaptcha.render(this.getReCaptchaId(),{'sitekey':this.settings.siteKey,'theme':this.settings.theme,'size':this.settings.size,'badge':this.badge?this.badge:this.settings.badge,'callback':function(token){me.reCaptchaCallback(token);me.validateReCaptcha(true);},'expired-callback':function(){me.validateReCaptcha(false);}});$parentForm.on('captcha:startExecute',function(event){if(!me.tokenField.value&&me.settings.size==='invisible'){grecaptcha.execute(widgetId);event.preventDefault(event);event.stopImmediatePropagation();}else{me.$parentForm.trigger('captcha:endExecute');}});this.tokenField=$('<input type="text" name="token" style="display: none" />')[0];this.$parentForm=$parentForm;$parentForm.append(this.tokenField);registry.ids.push(this.getReCaptchaId());registry.captchaList.push(widgetId);registry.tokenFields.push(this.tokenField);}});});define('Magento_Checkout/js/view/summary/item/details',['uiComponent'],function(Component){'use strict';return Component.extend({defaults:{template:'Magento_Checkout/summary/item/details'},getValue:function(quoteItem){return quoteItem.name;}});});define('Magento_Checkout/js/view/summary/item/details/thumbnail',['uiComponent'],function(Component){'use strict';var imageData=window.checkoutConfig.imageData;return Component.extend({defaults:{template:'Magento_Checkout/summary/item/details/thumbnail'},displayArea:'before_details',imageData:imageData,getImageItem:function(item){if(this.imageData[item['item_id']]){return this.imageData[item['item_id']];}
return[];},getSrc:function(item){if(this.imageData[item['item_id']]){return this.imageData[item['item_id']].src;}
return null;},getWidth:function(item){if(this.imageData[item['item_id']]){return this.imageData[item['item_id']].width;}
return null;},getHeight:function(item){if(this.imageData[item['item_id']]){return this.imageData[item['item_id']].height;}
return null;},getAlt:function(item){if(this.imageData[item['item_id']]){return this.imageData[item['item_id']].alt;}
return null;}});});define('Magento_Checkout/js/view/shipping-information/list',['jquery','ko','mageUtils','uiComponent','uiLayout','Magento_Checkout/js/model/quote'],function($,ko,utils,Component,layout,quote){'use strict';var defaultRendererTemplate={parent:'${ $.$data.parentName }',name:'${ $.$data.name }',component:'Magento_Checkout/js/view/shipping-information/address-renderer/default',provider:'checkoutProvider'};return Component.extend({defaults:{template:'Magento_Checkout/shipping-information/list',rendererTemplates:{}},initialize:function(){var self=this;this._super().initChildren();quote.shippingAddress.subscribe(function(address){self.createRendererComponent(address);});return this;},initConfig:function(){this._super();this.rendererComponents={};return this;},initChildren:function(){return this;},createRendererComponent:function(address){var rendererTemplate,templateData,rendererComponent;$.each(this.rendererComponents,function(index,component){component.visible(false);});if(this.rendererComponents[address.getType()]){this.rendererComponents[address.getType()].address(address);this.rendererComponents[address.getType()].visible(true);}else{rendererTemplate=address.getType()!=undefined&&this.rendererTemplates[address.getType()]!=undefined?utils.extend({},defaultRendererTemplate,this.rendererTemplates[address.getType()]):defaultRendererTemplate;templateData={parentName:this.name,name:address.getType()};rendererComponent=utils.template(rendererTemplate,templateData);utils.extend(rendererComponent,{address:ko.observable(address),visible:ko.observable(true)});layout([rendererComponent]);this.rendererComponents[address.getType()]=rendererComponent;}}});});define('Magento_CheckoutAgreements/js/view/checkout-agreements-mixin',[],function(){'use strict';return function(checkoutAgreements){return checkoutAgreements.extend({getCheckboxId:function(context,agreementId){var paymentMethodName='',contextParentList=context.$parents,paymentMethodContext=this.findPaymentMethodContext(contextParentList);paymentMethodName=paymentMethodContext?paymentMethodContext.item.method:'';return 'agreement_'+paymentMethodName+'_'+agreementId;},findPaymentMethodContext:function(contexts){var currentContextInd,currentContext=false,validMethodContext=false;for(currentContextInd=0;currentContextInd<contexts.length;currentContextInd++){currentContext=contexts[currentContextInd];if(typeof currentContext==='undefined')continue;if(typeof currentContext.item!=='undefined'){validMethodContext=true;break;}}
if(validMethodContext){return currentContext;}
return false;}});};});define('Magento_Ui/js/view/messages-mixin',['jquery'],function($){'use strict';var mixin={onHiddenChange:function(isHidden){var self=this;if(isHidden){setTimeout(function(){$(self.selector).hide('blind',{},500);},10000);try{$('html, document').animate({scrollTop:$(self.selector).filter(':visible').offset().top});}catch(e){}}}};return function(target){return target.extend(mixin);};});'use strict';define('MSP_ReCaptcha/js/ui-messages-mixin',['MSP_ReCaptcha/js/registry'],function(registry){return function(originalComponent){return originalComponent.extend({initialize:function(){this._super();this.messageContainer.errorMessages.subscribe(function(){var
i,captchaList=registry.captchaList(),tokenFieldsList=registry.tokenFields();for(i=0;i<captchaList.length;i++){grecaptcha.reset(captchaList[i]);if(tokenFieldsList[i]){tokenFieldsList[i].value='';}}},null,'arrayChange');return this;}});};});define('Magento_Checkout/js/view/summary/item/details/message',['uiComponent'],function(Component){'use strict';var quoteMessages=window.checkoutConfig.quoteMessages;return Component.extend({defaults:{template:'Magento_Checkout/summary/item/details/message'},displayArea:'item_message',quoteMessages:quoteMessages,getMessage:function(item){if(this.quoteMessages[item['item_id']]){return this.quoteMessages[item['item_id']];}
return null;}});});define('Magento_Checkout/js/view/summary',['uiComponent','Magento_Checkout/js/model/totals'],function(Component,totals){'use strict';return Component.extend({isLoading:totals.isLoading});});define('Magento_Tax/js/view/checkout/shipping_method/price',['uiComponent','Magento_Checkout/js/model/quote','Magento_Catalog/js/price-utils'],function(Component,quote,priceUtils){'use strict';return Component.extend({defaults:{template:'Magento_Tax/checkout/shipping_method/price'},isDisplayShippingPriceExclTax:window.checkoutConfig.isDisplayShippingPriceExclTax,isDisplayShippingBothPrices:window.checkoutConfig.isDisplayShippingBothPrices,isPriceEqual:function(item){return item['price_excl_tax']!=item['price_incl_tax'];},getFormattedPrice:function(price){return priceUtils.formatPrice(price,quote.getPriceFormat());}});});define('Magento_Checkout/js/view/summary/totals',['Magento_Checkout/js/view/summary/abstract-total'],function(Component){'use strict';return Component.extend({isDisplayed:function(){return this.isFullMode();}});});define('Magento_Checkout/js/view/summary/item/details/subtotal',['Magento_Checkout/js/view/summary/abstract-total'],function(viewModel){'use strict';return viewModel.extend({defaults:{displayArea:'after_details',template:'Magento_Checkout/summary/item/details/subtotal'},getValue:function(quoteItem){return this.getFormattedPrice(quoteItem['row_total_incl_tax']);}});});define('Magento_Checkout/js/model/payment/renderer-list',['ko'],function(ko){'use strict';return ko.observableArray([]);});define('Magento_Payment/js/view/payment/payments',['uiComponent','Magento_Checkout/js/model/payment/renderer-list'],function(Component,rendererList){'use strict';rendererList.push({type:'free',component:'Magento_Payment/js/view/payment/method-renderer/free-method'});return Component.extend({});});define('Magento_Paypal/js/view/payment/paypal-payments',['uiComponent','Magento_Checkout/js/model/payment/renderer-list'],function(Component,rendererList){'use strict';var isContextCheckout=window.checkoutConfig.payment.paypalExpress.isContextCheckout,paypalExpress='Magento_Paypal/js/view/payment/method-renderer'+
(isContextCheckout?'/in-context/checkout-express':'/paypal-express');rendererList.push({type:'paypal_express',component:paypalExpress,config:window.checkoutConfig.payment.paypalExpress.inContextConfig},{type:'payflow_express',component:'Magento_Paypal/js/view/payment/method-renderer/payflow-express'},{type:'payflow_express_bml',component:'Magento_Paypal/js/view/payment/method-renderer/payflow-express-bml'},{type:'payflowpro',component:'Magento_Paypal/js/view/payment/method-renderer/payflowpro-method'},{type:'payflow_link',component:'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'},{type:'payflow_advanced',component:'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'},{type:'hosted_pro',component:'Magento_Paypal/js/view/payment/method-renderer/iframe-methods'},{type:'paypal_billing_agreement',component:'Magento_Paypal/js/view/payment/method-renderer/paypal-billing-agreement'});return Component.extend({});});define('PayU_EasyPlus/js/view/payment/easy-plus',['uiComponent','Magento_Checkout/js/model/payment/renderer-list'],function(Component,rendererList){'use strict';rendererList.push({type:'payumea_creditcard',component:'PayU_EasyPlus/js/view/payment/method-renderer/creditcard-method'},{type:'payumea_payflex',component:'PayU_EasyPlus/js/view/payment/method-renderer/payflex-method'},{type:'payumea_ebucks',component:'PayU_EasyPlus/js/view/payment/method-renderer/ebucks-method'},{type:'payumea_rcs',component:'PayU_EasyPlus/js/view/payment/method-renderer/rcs-method'},{type:'payumea_rcs_plc',component:'PayU_EasyPlus/js/view/payment/method-renderer/rcs_plc-method'},{type:'payumea_eftpro',component:'PayU_EasyPlus/js/view/payment/method-renderer/eftpro-method'},{type:'payumea_discoverymiles',component:'PayU_EasyPlus/js/view/payment/method-renderer/discoverymiles-method'},{type:'payumea_mobicred',component:'PayU_EasyPlus/js/view/payment/method-renderer/mobicred-method'},{type:'payumea_ucount',component:'PayU_EasyPlus/js/view/payment/method-renderer/ucount-method'},{type:'payumea_fasta',component:'PayU_EasyPlus/js/view/payment/method-renderer/fasta-method'},{type:'payumea_mpesa',component:'PayU_EasyPlus/js/view/payment/method-renderer/mpesa-method'},{type:'payumea_masterpass',component:'PayU_EasyPlus/js/view/payment/method-renderer/masterpass-method'},{type:'payumea_airtel_money',component:'PayU_EasyPlus/js/view/payment/method-renderer/airtel_money-method'},{type:'payumea_mobile_banking',component:'PayU_EasyPlus/js/view/payment/method-renderer/mobile_banking-method'},{type:'payumea_mtn_mobile',component:'PayU_EasyPlus/js/view/payment/method-renderer/mtn_mobile-method'},{type:'payumea_tigopesa',component:'PayU_EasyPlus/js/view/payment/method-renderer/tigopesa-method'},{type:'payumea_equitel',component:'PayU_EasyPlus/js/view/payment/method-renderer/equitel-method'});return Component.extend({});});define('Vaimo_PayUMEAVisaCheckout/js/view/payment/vaimo-payumea-visacheckout',['uiComponent','Magento_Checkout/js/model/payment/renderer-list'],function(Component,rendererList){'use strict';rendererList.push({type:'vaimo_payumea_visacheckout',component:'Vaimo_PayUMEAVisaCheckout/js/view/payment/method-renderer/visacheckout'});return Component.extend({});});define('Vaimo_JdgroupRevolve/js/view/payment/method-renderer',['uiComponent','Magento_Checkout/js/model/payment/renderer-list'],function(Component,rendererList){'use strict';rendererList.push({type:'jdgroup_revolve',component:'Vaimo_JdgroupRevolve/js/view/payment/method-renderer/jdgroup-revolve'});return Component.extend({});});define('sabcModel/checkout-validator',function(){'use strict';var isValid;return{get:function(){return isValid;},set:function(uploaded){isValid=uploaded;}};});define('sabcView/checkout',['jquery','ko','underscore','uiCollection','uiRegistry','sabcModel/checkout-validator','mage/translate'],function($,ko,_,uiComponent,uiRegistry,checkoutValidator){'use strict';var checkoutConfig=window.checkoutConfig,sabcApiConfig=checkoutConfig?checkoutConfig.sabcApi:{};return uiComponent.extend({defaults:{},hasTvProduct:ko.observable('hasTvProduct'in sabcApiConfig&&sabcApiConfig.hasTvProduct),hasValidIdBook:ko.observable('hasValidIdBook'in sabcApiConfig&&sabcApiConfig.hasValidIdBook),initialize:function(){this._super();checkoutValidator.set(this.hasValidIdBook());this.hasValidIdBook.subscribe(function(isValid){checkoutValidator.set(isValid);});uiRegistry.get(this.name+'.idBook',function(idBook){idBook.uploaded.subscribe(function(isUploaded){this.hasValidIdBook(isUploaded);}.bind(this));}.bind(this));return this;}});});define('Magento_CheckoutAgreements/js/model/agreement-validator',['jquery','mage/validation'],function($){'use strict';var checkoutConfig=window.checkoutConfig,agreementsConfig=checkoutConfig?checkoutConfig.checkoutAgreements:{},agreementsInputPath='.payment-method._active div.checkout-agreements input';return{validate:function(hideError){var isValid=true;if(!agreementsConfig.isEnabled||$(agreementsInputPath).length===0){return true;}
$(agreementsInputPath).each(function(index,element){if(!$.validator.validateSingleElement(element,{errorElement:'div',hideError:hideError||false})){isValid=false;}});return isValid;}};});define('Magento_Checkout/js/model/payment/additional-validators',[],function(){'use strict';var validators=[];return{registerValidator:function(validator){validators.push(validator);},getValidators:function(){return validators;},validate:function(hideError){var validationResult=true;hideError=hideError||false;if(validators.length<=0){return validationResult;}
validators.forEach(function(item){if(item.validate(hideError)==false){validationResult=false;return false;}});return validationResult;}};});define('Magento_CheckoutAgreements/js/view/agreement-validation',['uiComponent','Magento_Checkout/js/model/payment/additional-validators','Magento_CheckoutAgreements/js/model/agreement-validator'],function(Component,additionalValidators,agreementValidator){'use strict';additionalValidators.registerValidator(agreementValidator);return Component.extend({});});define('Magento_CompanyCredit/js/view/checkout/summary/payment-total',['Magento_Tax/js/view/checkout/summary/grand-total','Magento_Checkout/js/checkout-data'],function(Component,checkoutData){'use strict';return Component.extend({isPaymentGrandTotalDisplayNeeded:function(){return checkoutData.getSelectedPaymentMethod()==='companycredit';}});});define('Magento_Captcha/js/model/captchaList',['jquery'],function($){'use strict';var captchaList=[];return{add:function(captcha){captchaList.push(captcha);},getCaptchaByFormId:function(formId){var captcha=null;$.each(captchaList,function(key,item){if(formId===item.formId){captcha=item;return false;}});return captcha;},getCaptchaList:function(){return captchaList;}};});define('sabcAction/postIdBook',['jquery','underscore','mage/url'],function($,_,urlBuilder){'use strict';var path='tvlicense/post/id';return function(form){return $.ajax({url:urlBuilder.build(path),type:'POST',data:new FormData(form),global:false,processData:false,contentType:false,});};});define('Magento_Checkout/js/model/shipping-rates-validation-rules',['jquery'],function($){'use strict';var ratesRules={},checkoutConfig=window.checkoutConfig;return{registerRules:function(carrier,rules){if(checkoutConfig.activeCarriers.indexOf(carrier)!==-1){ratesRules[carrier]=rules.getRules();}},getRules:function(){return ratesRules;},getObservableFields:function(){var self=this,observableFields=[];$.each(self.getRules(),function(carrier,fields){$.each(fields,function(field){if(observableFields.indexOf(field)===-1){observableFields.push(field);}});});return observableFields;}};});define('Magento_Shipping/js/model/config',[],function(){'use strict';return function(){return window.checkoutConfig.shippingPolicy;};});define('Magento_Shipping/js/view/checkout/shipping/shipping-policy',['uiComponent','Magento_Shipping/js/model/config'],function(Component,config){'use strict';return Component.extend({defaults:{template:'Magento_Shipping/checkout/shipping/shipping-policy'},config:config()});});;define('vaimoMatrixRates/model/shipping-rates-validation-rules/matrixrate',[],function(){'use strict';return{getRules:function(){return{'postcode':{'required':true},'country_id':{'required':true},'region_id':{'required':true}};}};});;define('vaimoMatrixRates/model/shipping-rates-validator/matrixrate',['jquery','mageUtils','mage/translate','vaimoMatrixRates/model/shipping-rates-validation-rules/matrixrate'],function($,utils,$t,validationRules){'use strict';return{validationErrors:[],validate:function(address){var self=this;this.validationErrors=[];$.each(validationRules.getRules(),function(field,rule){if(rule.required&&utils.isEmpty(address[field])){var message=$t('Field ')+field+$t(' is required.');self.validationErrors.push(message);}});return!Boolean(this.validationErrors.length);}};});define('Vaimo_MaterialInputs/js/knockout/step-update',['jquery'],function($){'use strict';return function(target){target.sortItems=function(itemOne,itemTwo){$('.vaimo-md .input-text, .vaimo-md select, .vaimo-md textarea.input-text').material();return itemOne.sortOrder>itemTwo.sortOrder?1:-1;}
return target;};});define('Magento_Checkout/js/model/step-labels',['jquery','mage/utils/wrapper','mage/translate'],function($,wrapper){'use strict';var stepTitleOverride={shipping:$.mage.__('Delivery'),payment:$.mage.__('Payment')};return function(target){target.registerStep=wrapper.wrapSuper(target.registerStep,function(code,alias,title,isVisible,navigate,sortOrder){if(code in stepTitleOverride){title=stepTitleOverride[code];}
return this._super(code,alias,title,isVisible,navigate,sortOrder);});return target;};});define('text!Magento_Checkout/template/onepage.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko foreach: getRegion(\'authentication\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!--/ko-->\n\n<!-- ko foreach: getRegion(\'progressBar\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!--/ko-->\n\n<!-- ko foreach: getRegion(\'estimation\') -->\n    <!-- ko template: getTemplate() --><!-- /ko -->\n<!--/ko-->\n\n<!-- ko foreach: getRegion(\'messages\') -->\n    <!-- ko template: getTemplate() --><!-- /ko -->\n<!--/ko-->\n<div class="opc-wrapper">\n    <ol class="opc" id="checkoutSteps">\n    <!-- ko foreach: getRegion(\'steps\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!--/ko-->\n    </ol>\n</div>\n\n<!-- ko foreach: getRegion(\'sidebar\') -->\n    <!-- ko template: getTemplate() --><!-- /ko -->\n<!--/ko-->\n';});define('Magento_Checkout/js/model/step-navigator',['jquery','ko'],function($,ko){'use strict';var steps=ko.observableArray();return{steps:steps,stepCodes:[],validCodes:[],handleHash:function(){var hashString=window.location.hash.replace('#',''),isRequestedStepVisible;if(hashString===''){return false;}
if($.inArray(hashString,this.validCodes)===-1){window.location.href=window.checkoutConfig.pageNotFoundUrl;return false;}
isRequestedStepVisible=steps.sort(this.sortItems).some(function(element){return(element.code==hashString||element.alias==hashString)&&element.isVisible();});if(isRequestedStepVisible){return false;}
steps().sort(this.sortItems).forEach(function(element){if(element.code==hashString||element.alias==hashString){element.navigate(element);}else{element.isVisible(false);}});return false;},registerStep:function(code,alias,title,isVisible,navigate,sortOrder){var hash,active;if($.inArray(code,this.validCodes)!==-1){throw new DOMException('Step code ['+code+'] already registered in step navigator');}
if(alias!=null){if($.inArray(alias,this.validCodes)!==-1){throw new DOMException('Step code ['+alias+'] already registered in step navigator');}
this.validCodes.push(alias);}
this.validCodes.push(code);steps.push({code:code,alias:alias!=null?alias:code,title:title,isVisible:isVisible,navigate:navigate,sortOrder:sortOrder});active=this.getActiveItemIndex();steps.each(function(elem,index){if(active!==index){elem.isVisible(false);}});this.stepCodes.push(code);hash=window.location.hash.replace('#','');if(hash!=''&&hash!=code){isVisible(false);}},sortItems:function(itemOne,itemTwo){return itemOne.sortOrder>itemTwo.sortOrder?1:-1;},getActiveItemIndex:function(){var activeIndex=0;steps().sort(this.sortItems).some(function(element,index){if(element.isVisible()){activeIndex=index;return true;}
return false;});return activeIndex;},isProcessed:function(code){var activeItemIndex=this.getActiveItemIndex(),sortedItems=steps().sort(this.sortItems),requestedItemIndex=-1;sortedItems.forEach(function(element,index){if(element.code==code){requestedItemIndex=index;}});return activeItemIndex>requestedItemIndex;},navigateTo:function(code,scrollToElementId){var sortedItems=steps().sort(this.sortItems),bodyElem=$('body');scrollToElementId=scrollToElementId||null;if(!this.isProcessed(code)){return;}
sortedItems.forEach(function(element){if(element.code==code){element.isVisible(true);bodyElem.animate({scrollTop:$('#'+code).offset().top},0,function(){window.location=window.checkoutConfig.checkoutUrl+'#'+code;});if(scrollToElementId&&$('#'+scrollToElementId).length){bodyElem.animate({scrollTop:$('#'+scrollToElementId).offset().top},0);}}else{element.isVisible(false);}});},setHash:function(hash){window.location.hash=hash;},next:function(){var activeIndex=0,code;steps().sort(this.sortItems).forEach(function(element,index){if(element.isVisible()){element.isVisible(false);activeIndex=index;}});if(steps().length>activeIndex+1){code=steps()[activeIndex+1].code;steps()[activeIndex+1].isVisible(true);this.setHash(code);document.body.scrollTop=document.documentElement.scrollTop=0;}}};});define('Magento_Checkout/js/view/conditional-display',['ko','uiComponent','Magento_Checkout/js/model/step-navigator','matchMedia'],function(ko,Component,stepNavigator,mediaCheck){'use strict';return Component.extend({defaults:{template:'Magento_Checkout/conditional-display',forMobile:false,forDesktop:false,forDelivery:false,forPayment:false},initialize:function(){this._super();mediaCheck({media:'(max-width: 1229px)',entry:function(){this.visibleMobile(true);this.visibleDesktop(false);}.bind(this),exit:function(){this.visibleMobile(false);this.visibleDesktop(true);}.bind(this)});},visibleDelivery:function(){return false;},visiblePayment:function(){return false;},visibleMobile:ko.observable(false),visibleDesktop:ko.observable(false),initObservable:function(){this._super();this.visibleDelivery=ko.computed(function(){return!stepNavigator.isProcessed('shipping');});this.visiblePayment=ko.computed(function(){return stepNavigator.isProcessed('shipping');});return this;}});});define('Magento_Checkout/js/view/summary/cart-items',['ko','Magento_Checkout/js/model/totals','uiComponent','Magento_Checkout/js/model/step-navigator','Magento_Checkout/js/model/quote'],function(ko,totals,Component,stepNavigator,quote){'use strict';var useQty=window.checkoutConfig.useQty;return Component.extend({defaults:{template:'Magento_Checkout/summary/cart-items'},totals:totals.totals(),items:ko.observable([]),maxCartItemsToDisplay:window.checkoutConfig.maxCartItemsToDisplay,cartUrl:window.checkoutConfig.cartUrl,getItems:totals.getItems(),getItemsQty:function(){return parseFloat(this.totals['items_qty']);},getCartLineItemsCount:function(){return parseInt(totals.getItems()().length,10);},getCartSummaryItemsCount:function(){return useQty?this.getItemsQty():this.getCartLineItemsCount();},initialize:function(){this._super();this.setItems(totals.getItems()());totals.getItems().subscribe(function(items){this.setItems(items);}.bind(this));},setItems:function(items){if(items&&items.length>0){items=items.slice(parseInt(-this.maxCartItemsToDisplay,10));}
this.items(items);},isItemsBlockExpanded:function(){return quote.isVirtual()||stepNavigator.isProcessed('shipping');}});});define('Vaimo_ClickAndCollect/js/model/checkout-data-glue',['ko','Magento_Checkout/js/model/quote'],function(ko,quote){'use strict';var checkoutConfig=window.checkoutConfig,storelocator=checkoutConfig?checkoutConfig.storelocator:{},preselectedStoreId=checkoutConfig['selected-delivery-store'],preselectedStore=null,selectedStore=ko.observable();if(preselectedStoreId){try{preselectedStore='stores'in storelocator?storelocator.stores.filter(function(store){return parseInt(store.value,10)===preselectedStoreId;})[0].additionalData:null;}catch(e){console.error('Preselected collection point could not be used',e);}
if(preselectedStore){selectedStore({storeName:preselectedStore.name,address:preselectedStore.address,entityId:preselectedStore.entity_id,sapId:preselectedStore.sapId,lat:parseFloat(preselectedStore.latitude),lon:parseFloat(preselectedStore.longitude)});}}
return{selectedStore:selectedStore,isCncOrder:ko.computed(function(){return quote.shippingMethod()&&quote.shippingMethod()['carrier_code']==='clickandcollect';})};});define('googleAddressSearch/loader',['jquery','Vaimo_GoogleApiKeys/js/google-api-keys'],function($,apiKeyList){'use strict';var googleMapsLoadedDef=$.Deferred(),_hasStartedLoading=false;return function(apiKey){var url,checkoutApiKey=apiKeyList['apiKeys'].checkoutApiKey;if(checkoutApiKey&&document.body.classList.contains('checkout-index-index')){apiKey=checkoutApiKey;}
if(!_hasStartedLoading&&apiKey){_hasStartedLoading=true;if(window.google&&window.google.maps&&window.google.maps.places){googleMapsLoadedDef.resolve(window.google.maps);}else if(apiKey){window['google_maps_loaded']=function(){googleMapsLoadedDef.resolve(window.google.maps);};url='https://maps.googleapis.com/maps/api/js?key='+
apiKey+
'&libraries=places&callback=google_maps_loaded';require([url],function(){},function(){googleMapsLoadedDef.reject();});}}
return googleMapsLoadedDef.promise();};});define('Magento_GiftCardAccount/js/model/gift-card',['ko'],function(ko){'use strict';return{code:ko.observable(false),amount:ko.observable(false),isValid:ko.observable(false),isChecked:ko.observable(false)};});define('Magento_GiftRegistry/js/model/recipient-address',[],function(){'use strict';return function(registryId){return{giftRegistryId:registryId,isDefaultShipping:function(){return false;},isDefaultBilling:function(){return false;},getType:function(){return 'gift-registry';},getKey:function(){return this.getType()+this.giftRegistryId;},getCacheKey:function(){return this.getKey();},isEditable:function(){return false;},canUseForBilling:function(){return false;}};};});define('Magento_OfflineShipping/js/model/shipping-rates-validation-rules/flatrate',[],function(){'use strict';return{getRules:function(){return{'country_id':{'required':true}};}};});define('Magento_OfflineShipping/js/model/shipping-rates-validator/flatrate',['jquery','mageUtils','../shipping-rates-validation-rules/flatrate','mage/translate'],function($,utils,validationRules,$t){'use strict';return{validationErrors:[],validate:function(address){var self=this;this.validationErrors=[];$.each(validationRules.getRules(),function(field,rule){var message;if(rule.required&&utils.isEmpty(address[field])){message=$t('Field ')+field+$t(' is required.');self.validationErrors.push(message);}});return!this.validationErrors.length;}};});define('Magento_OfflineShipping/js/model/shipping-rates-validation-rules/freeshipping',[],function(){'use strict';return{getRules:function(){return{'country_id':{'required':true}};}};});define('Magento_CheckoutAgreements/js/model/agreements-modal',['jquery','Magento_Ui/js/modal/modal','mage/translate'],function($,modal,$t){'use strict';return{modalWindow:null,createModal:function(element){var options;this.modalWindow=element;options={'type':'popup','modalClass':'agreements-modal','responsive':true,'innerScroll':true,'trigger':'.show-modal','buttons':[{text:$t('Close'),class:'action secondary action-hide-popup',click:function(){this.closeModal();}}]};modal(options,$(this.modalWindow));},showModal:function(){$(this.modalWindow).modal('openModal');}};});define('Magento_CheckoutAgreements/js/view/checkout-agreements',['ko','jquery','uiComponent','Magento_CheckoutAgreements/js/model/agreements-modal'],function(ko,$,Component,agreementsModal){'use strict';var checkoutConfig=window.checkoutConfig,agreementManualMode=1,agreementsConfig=checkoutConfig?checkoutConfig.checkoutAgreements:{};return Component.extend({defaults:{template:'Magento_CheckoutAgreements/checkout/checkout-agreements'},isVisible:agreementsConfig.isEnabled,agreements:agreementsConfig.agreements,modalTitle:ko.observable(null),modalContent:ko.observable(null),contentHeight:ko.observable(null),modalWindow:null,isAgreementRequired:function(element){return element.mode==agreementManualMode;},showContent:function(element){this.modalTitle(element.checkboxText);this.modalContent(element.content);this.contentHeight(element.contentHeight?element.contentHeight:'auto');agreementsModal.showModal();},getCheckboxId:function(context,agreementId){var paymentMethodName='',paymentMethodRenderer=context.$parents[1];if(paymentMethodRenderer){paymentMethodName=paymentMethodRenderer.item?paymentMethodRenderer.item.method:'';}
return 'agreement_'+paymentMethodName+'_'+agreementId;},initModal:function(element){agreementsModal.createModal(element);}});});define('Magento_Checkout/js/model/checkout-agreements',['ko','underscore'],function(ko,_){'use strict';var agreements=ko.observableArray([]);return{getAgreementObservable:function(agreementId){var observable;_.each(agreements(),function(item){if(item.id===agreementId){observable=item.checked;}});if(!observable){observable=ko.observable(true);agreements.push({id:agreementId,checked:observable});}
return observable;},allAgreementsAgreedTo:ko.computed(function(){var allChecked=true;_.each(agreements(),function(item){if(!item.checked()){allChecked=false;}});return allChecked;})};});define('Magento_Checkout/js/view/checkout-agreements',['ko','Magento_Checkout/js/model/checkout-agreements'],function(ko,agreementModule){'use strict';return function(CheckoutAgreements){return CheckoutAgreements.extend({getAgreementCheckedObservable:function(agreementId){return agreementModule.getAgreementObservable(agreementId);}});};});define('Magento_OfflineShipping/js/model/shipping-rates-validator/freeshipping',['jquery','mageUtils','../shipping-rates-validation-rules/freeshipping','mage/translate'],function($,utils,validationRules,$t){'use strict';return{validationErrors:[],validate:function(address){var self=this;this.validationErrors=[];$.each(validationRules.getRules(),function(field,rule){var message;if(rule.required&&utils.isEmpty(address[field])){message=$t('Field ')+field+$t(' is required.');self.validationErrors.push(message);}});return!this.validationErrors.length;}};});define('text!jdgTemplate/product/in-store-stock/selected-store-input.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<input type="hidden" name="selected_store" value="0" id="cnc-selected-store" />\n';});define('googleAddressSearch/init',['jquery','underscore','uiRegistry'],function($,_,uiRegistry){'use strict';function objExtend(target,source){for(var prop in source){if(source.hasOwnProperty(prop)){if(target[prop]&&typeof source[prop]==='object'){objExtend(target[prop],source[prop]);}else{target[prop]=source[prop];}}}
return target;}
return{defaults:{componentForm:{subpremise:'short_name',street_number:'short_name',route:'long_name',locality:'long_name',administrative_area_level_1:'long_name',country:'short_name',postal_code:'short_name',postal_town:'short_name',sublocality_level_1:'short_name',sublocality_level_2:'short_name'},lookupElement:{street_number:'street_1',route:'street_2',locality:'city',administrative_area_level_1:'region',country:'country_id',postal_code:'zip'},inputMap:{street:'street',suburb:'suburb',city:'city',region:'region',country:'country',postal:'zip'},poweredByGoogle:{includeLogo:true,img:'Vaimo_GoogleAddressSearch/images/powered_by_google_on_white_hdpi.png',className:'powered-by-google'},useRegistry:false,registryPrefix:null,countryRestriction:['za'],attributeAutocomplete:null},autocomplete:null,addPoweredByGoogle:function(input){if(input.parentNode.querySelector('.'+this.poweredByGoogle.className)){return;}
var img=document.createElement('img');img.src=require.toUrl(this.poweredByGoogle.img);img.classList.add(this.poweredByGoogle.className);input.parentNode.insertBefore(img,input);},getElementId:function(probableId,multiple){var viewModel,result=[];probableId=probableId in this.lookupElement?this.lookupElement[probableId]:probableId;probableId=probableId in this.inputMap?this.inputMap[probableId]:probableId;if(this.useRegistry&&uiRegistry.get(this.registryPrefix+'.'+probableId)){viewModel=uiRegistry.get(this.registryPrefix+'.'+probableId);if(multiple){_.each(viewModel.elems(),function(child){result.push(child.uid);});return result;}
return viewModel.uid;}
return probableId;},fillInAddress:function(){var place=this.autocomplete.getPlace(),street=[],streetIds=[],region='',streetNumber='',city='',suburb='',extSuburb='',town='',hasSuburb=false,addressType,value,$elem,suburbVal,i;for(i=0;i<place.address_components.length;i++){addressType=place.address_components[i].types[0];if(this.componentForm[addressType]){value=place.address_components[i][this.componentForm[addressType]];switch(addressType){case 'subpremise':streetNumber=value+'/';break;case 'street_number':streetNumber+=value;break;case 'route':street[1]=value;break;case 'administrative_area_level_1':region=value;break;case 'locality':city=value;break;case 'sublocality_level_1':suburb=value;break;case 'sublocality_level_2':extSuburb=value;break;case 'postal_town':town=value;break;default:$elem=$('#'+this.getElementId(addressType));if($elem.length>0&&$elem.is('input')){$elem.val(value);$elem.trigger('change');}else if($elem.length>0&&$elem.is('select')){$elem.find('option').filter(function(){return $.trim($(this).text()).toLowerCase()===value.toLowerCase();}).attr('selected',true);$elem.trigger('change');}
break;}}}
$elem=$('#'+this.getElementId('suburb'));suburbVal=suburb===''?extSuburb:suburb;if($elem.length>0){$elem.val(suburbVal+' '+town);$elem.trigger('change');hasSuburb=true;}
if(street.length>0){street[0]=streetNumber;streetIds=this.useRegistry?this.getElementId('street',true):['street_1','street_2'];$('#'+streetIds[0]).val(street.join(' ')).trigger('change');if(streetIds[1]&&!hasSuburb){$('#'+streetIds[1]).val(suburbVal).trigger('change');}}
$('#'+this.getElementId('city')).val(city).trigger('change');if(region!==''){$elem=$('#'+this.getElementId('region_id'));if($elem.length>0){$elem.find('option').filter(function(){return $.trim($(this).text()).toLowerCase()===region.toLowerCase();}).attr('selected',true);$elem.trigger('change');}
$elem=$('#'+this.getElementId('region_id_input'));if($elem.length>0){$elem.val(region).trigger('change');}}
$('.vaimo-md .input-text, .vaimo-md textarea').material().material('init');},initialize:function(streetInput,config){objExtend(this,this.defaults);objExtend(this,config);this.autocomplete=new google.maps.places.Autocomplete(streetInput,{types:['geocode','establishment'],componentRestrictions:{country:this.countryRestriction},fields:['address_components','geometry','types']});streetInput.googleAutocomplete=this.autocomplete;this.autocomplete.addListener('place_changed',function(){this.fillInAddress();}.bind(this));if(this.poweredByGoogle.includeLogo){this.addPoweredByGoogle(streetInput);}
$(streetInput).trigger('googleAutocompleteInit');setTimeout(function(){$(streetInput).attr('placeholder','');},1000);if(this.attributeAutocomplete!==null){$(streetInput).one('change keyup focus',function(){$(streetInput).attr('autocomplete',this.attributeAutocomplete);}.bind(this));}}};});define('Vaimo_GoogleAddressSearch/js/populate-lat-lon',['jquery','underscore','mage/utils/wrapper'],function($,_,wrapper){'use strict';return function(target){target.initialize=wrapper.wrapSuper(target.initialize,function(streetInput,config){var googlePlaces={};this._super(streetInput,config);function adjustLatLngFields(){var $latitude=$('#'+this.getElementId('latitude')),$longitude=$('#'+this.getElementId('longitude')),place=streetInput.value in googlePlaces?googlePlaces[streetInput.value]:{lat:'',lng:''};$latitude.val(place.lat);$longitude.val(place.lng);$latitude.triggerHandler('change');$longitude.triggerHandler('change');}
$(streetInput).on('change',adjustLatLngFields.bind(this));streetInput.googleAutocomplete.addListener('place_changed',function(){var place=streetInput.googleAutocomplete.getPlace();googlePlaces[streetInput.value]={lat:place.geometry.location.lat(),lng:place.geometry.location.lng()};adjustLatLngFields.call(this);}.bind(this));streetInput.addEventListener('keyup',adjustLatLngFields.bind(this));});return target;};});define('googleAddressSearch/checkout',['jquery','underscore','uiComponent','googleAddressSearch/init','googleAddressSearch/loader','Magento_Checkout/js/checkout-data','uiRegistry','Magento_Checkout/js/model/quote'],function($,_,Component,initGoogleSearch,GoogleMapsLoader,checkoutData,uiRegistry,quote){'use strict';var googleMapError,googleAddressPromise;window['gm_authFailure']=function(){googleMapError=true;};return Component.extend({defaults:{componentForm:{subpremise:'short_name',street_number:'short_name',route:'long_name',locality:'long_name',administrative_area_level_1:'long_name',country:'short_name',postal_code:'short_name',postal_town:'short_name',sublocality_level_1:'short_name',sublocality_level_2:'short_name'},lookupElement:{street_number:'street_1',route:'street_2',locality:'city',administrative_area_level_1:'region',country:'country_id',postal_code:'zip'},poweredByGoogle:{includeLogo:true,img:'Vaimo_GoogleAddressSearch/images/powered_by_google_on_white_hdpi.png',className:'powered-by-google'},allowedConfigKeys:['componentForm','lookupElement','poweredByGoogle','useRegistry','registryPrefix','placeholder','countryRestrictions'],useRegistry:false,registryPrefix:null,countryRestriction:['za'],shippingAddressComponentName:'checkout.steps.shipping-step.shippingAddress.shipping-address-fieldset.street',forShipping:null,forPayment:null,intervalNamespace:{},attributeAutocomplete:null},buildConfigFromSelf:function(){var result=[];_.each(this.allowedConfigKeys,function(key){if(key in this){result[key]=this[key];}}.bind(this));return result;},clearInitIntervals:function(nameSpace){clearInterval(this.intervalNamespace[nameSpace]);delete this.intervalNamespace[nameSpace];},addPlacesToItem:function(item,intervalNs){var self=this,street,streetRegistryId,intervalNsRegistryExit=intervalNs+'-registry',intervalNsFieldExit=intervalNs+'-field';if(intervalNsRegistryExit in this.intervalNamespace){this.clearInitIntervals(intervalNsRegistryExit);}
if(intervalNsFieldExit in this.intervalNamespace){this.clearInitIntervals(intervalNsFieldExit);}
this.intervalNamespace[intervalNsRegistryExit]=setInterval(function(){if(typeof item._elems['0'].uid!='undefined'){self.clearInitIntervals(intervalNsRegistryExit);self.intervalNamespace[intervalNsFieldExit]=setInterval(function(){streetRegistryId=item._elems['0'].uid;street=$('#'+streetRegistryId);if(street.length>0){self.clearInitIntervals(intervalNsFieldExit);street.each(function(){self.useRegistry=true;self.registryPrefix=item.parentName;(_.extend({},initGoogleSearch)).initialize(this,self.buildConfigFromSelf.call(self));});if(this.attributeAutocomplete!==null){$(street).on('change keyup focus',function(){$(street).attr('autocomplete',self.attributeAutocomplete);});}}});}});},googleMapsLoader:function(){var self=this;if(!googleAddressPromise){googleAddressPromise=GoogleMapsLoader(window.checkoutConfig.google_address_search.api_key);googleAddressPromise.done(function(){var enabled=window.checkoutConfig.google_address_search.active;self.initPaymentStep();if(self.forPayment){self.initShippingStep();}}).fail(function(){console.error('ERROR: Google maps library failed to load');});}
return googleAddressPromise;},initShippingStep:function(){uiRegistry.get(this.shippingAddressComponentName,function(item){this.addPlacesToItem(item,this.shippingAddressComponentName);}.bind(this));},initPaymentStep:function(){var self=this;uiRegistry.get('checkout.steps.billing-step.payment.payments-list',function(paymentList){var _added=[];function processPaymentList(list){_.each(list,function(paymentMethod){if(_added.indexOf(paymentMethod.name)<0&&'billingAddressListProvider'in paymentMethod){_added.push(paymentMethod.name);uiRegistry.get(paymentMethod.name+'.form-fields.street',function(item){self.addPlacesToItem(item,paymentMethod.name);});}});}
processPaymentList(paymentList.elems());paymentList.elems.subscribe(function(newElems){processPaymentList.call(self,newElems);});});},addAfterRenderToShipping:function(){if(this.forShipping){if(!googleMapError&&window.checkoutConfig.google_address_search.active==='1'){this.googleMapsLoader.done(this.initShippingStep.bind(this))}}},initialize:function(){this._super();if(!window.checkoutConfig.google_address_search.active){return;}
this.googleMapsLoader();quote.shippingAddress.subscribe(function(){$('.pac-container.pac-logo').remove();});}});});define('Magento_Customer/js/action/check-email-availability',['mage/storage','Magento_Checkout/js/model/url-builder'],function(storage,urlBuilder){'use strict';return function(deferred,email){return storage.post(urlBuilder.createUrl('/customers/isEmailAvailable',{}),JSON.stringify({customerEmail:email}),false).done(function(isEmailAvailable){if(isEmailAvailable){deferred.resolve();}else{deferred.reject();}}).fail(function(){deferred.reject();});};});define('sabcView/checkout-validator',['jquery','uiComponent','Magento_Checkout/js/model/payment/additional-validators','sabcModel/checkout-validator','Magento_Ui/js/model/messageList','mage/translate'],function($,Component,additionalValidators,idUploaded,messages){'use strict';var checkoutConfig=window.checkoutConfig,sabcApiConfig=checkoutConfig?checkoutConfig.sabcApi:{};additionalValidators.registerValidator({validate:function(){var isValid=true;if('hasTvProduct'in sabcApiConfig&&sabcApiConfig.hasTvProduct){isValid=idUploaded.get();if(!isValid){messages.addErrorMessage({message:$.mage.__('You need to upload valid proof of ID first')});}}
return isValid;}});return Component.extend({});});define('Magento_Customer/js/action/login',['jquery','mage/storage','Magento_Ui/js/model/messageList','Magento_Customer/js/customer-data','mage/translate'],function($,storage,globalMessageList,customerData,$t){'use strict';var callbacks=[],action=function(loginData,redirectUrl,isGlobal,messageContainer){messageContainer=messageContainer||globalMessageList;return storage.post('customer/ajax/login',JSON.stringify(loginData),isGlobal).done(function(response){if(response.errors){messageContainer.addErrorMessage(response);callbacks.forEach(function(callback){callback(loginData);});}else{callbacks.forEach(function(callback){callback(loginData);});customerData.invalidate(['customer']);if(response.redirectUrl){window.location.href=response.redirectUrl;}else if(redirectUrl){window.location.href=redirectUrl;}else{location.reload();}}}).fail(function(){messageContainer.addErrorMessage({'message':$t('Could not authenticate. Please try again later')});callbacks.forEach(function(callback){callback(loginData);});});};action.registerLoginCallback=function(callback){callbacks.push(callback);};return action;});define('Magento_Checkout/js/view/form/element/email-action',['jquery','Magento_Customer/js/action/login','Magento_Checkout/js/model/full-screen-loader','mage/validation'],function($,loginAction,fullScreenLoader){'use strict';return function(email){return email.extend({login:function(loginForm){var loginData={},formDataArray=$(loginForm).serializeArray();formDataArray.forEach(function(entry){loginData[entry.name]=entry.value;});if(this.isPasswordVisible()&&$(loginForm).validation()&&$(loginForm).validation('isValid')){fullScreenLoader.startLoader();loginAction(loginData,false,false).always(function(){fullScreenLoader.stopLoader();});}}});};});define('Magento_Checkout/js/model/authentication-messages',['ko','Magento_Ui/js/model/messages'],function(ko,Messages){'use strict';return new Messages();});define('Magento_Captcha/js/action/refresh',['mage/storage'],function(storage){'use strict';return function(refreshUrl,formId,imageSource){return storage.post(refreshUrl,JSON.stringify({'formId':formId}),false).done(function(response){if(response.imgSrc){imageSource(response.imgSrc);}});};});define('Magento_Captcha/js/model/captcha',['jquery','ko','Magento_Captcha/js/action/refresh'],function($,ko,refreshAction){'use strict';return function(captchaData){return{formId:captchaData.formId,imageSource:ko.observable(captchaData.imageSrc),visibility:ko.observable(false),captchaValue:ko.observable(null),isRequired:ko.observable(captchaData.isRequired),isCaseSensitive:captchaData.isCaseSensitive,imageHeight:captchaData.imageHeight,refreshUrl:captchaData.refreshUrl,isLoading:ko.observable(false),timestamp:null,getFormId:function(){return this.formId;},setFormId:function(formId){this.formId=formId;},getIsVisible:function(){return this.visibility();},setIsVisible:function(flag){this.visibility(flag);},getIsRequired:function(){return this.isRequired();},setIsRequired:function(flag){this.isRequired(flag);},getIsCaseSensitive:function(){return this.isCaseSensitive;},setIsCaseSensitive:function(flag){this.isCaseSensitive=flag;},getImageHeight:function(){return this.imageHeight;},setImageHeight:function(height){this.imageHeight=height;},getImageSource:function(){return this.imageSource;},setImageSource:function(imageSource){this.imageSource(imageSource);},getRefreshUrl:function(){return this.refreshUrl;},setRefreshUrl:function(url){this.refreshUrl=url;},getCaptchaValue:function(){return this.captchaValue;},setCaptchaValue:function(value){this.captchaValue(value);},refresh:function(){var refresh,self=this;this.isLoading(true);refresh=refreshAction(this.getRefreshUrl(),this.getFormId(),this.getImageSource());$.when(refresh).done(function(){self.isLoading(false);});}};};});define('Magento_Captcha/js/view/checkout/defaultCaptcha',['jquery','uiComponent','Magento_Captcha/js/model/captcha','Magento_Captcha/js/model/captchaList','Magento_Customer/js/customer-data','underscore'],function($,Component,Captcha,captchaList,customerData,_){'use strict';var captchaConfig;return Component.extend({defaults:{template:'Magento_Captcha/checkout/captcha'},dataScope:'global',currentCaptcha:null,captchaValue:function(){return this.currentCaptcha.getCaptchaValue();},initialize:function(){this._super();if(window[this.configSource]&&window[this.configSource].captcha){captchaConfig=window[this.configSource].captcha;$.each(captchaConfig,function(formId,captchaData){var captcha;captchaData.formId=formId;captcha=Captcha(captchaData);this.checkCustomerData(formId,customerData.get('captcha')(),captcha);this.subscribeCustomerData(formId,captcha);captchaList.add(captcha);}.bind(this));}},checkCustomerData:function(formId,captchaData,captcha){if(!_.isEmpty(captchaData)&&!_.isEmpty(captchaData)[formId]&&captchaData[formId].timestamp>captcha.timestamp){if(!captcha.isRequired()&&captchaData[formId].isRequired){captcha.refresh();}
captcha.isRequired(captchaData[formId].isRequired);captcha.timestamp=captchaData[formId].timestamp;}},subscribeCustomerData:function(formId,captcha){customerData.get('captcha').subscribe(function(captchaData){this.checkCustomerData(formId,captchaData,captcha);}.bind(this));},getIsLoading:function(){return this.currentCaptcha!==null?this.currentCaptcha.isLoading:false;},getCurrentCaptcha:function(){return this.currentCaptcha;},setCurrentCaptcha:function(captcha){this.currentCaptcha=captcha;},getFormId:function(){return this.currentCaptcha!==null?this.currentCaptcha.getFormId():null;},getIsVisible:function(){return this.currentCaptcha!==null?this.currentCaptcha.getIsVisible():false;},setIsVisible:function(flag){this.currentCaptcha.setIsVisible(flag);},isRequired:function(){return this.currentCaptcha!==null?this.currentCaptcha.getIsRequired():false;},setIsRequired:function(flag){this.currentCaptcha.setIsRequired(flag);},isCaseSensitive:function(){return this.currentCaptcha!==null?this.currentCaptcha.getIsCaseSensitive():false;},imageHeight:function(){return this.currentCaptcha!==null?this.currentCaptcha.getImageHeight():null;},getImageSource:function(){return this.currentCaptcha!==null?this.currentCaptcha.getImageSource():null;},refresh:function(){this.currentCaptcha.refresh();}});});define('Magento_PaypalCaptcha/js/view/checkout/paymentCaptcha',['jquery','Magento_Captcha/js/view/checkout/defaultCaptcha','Magento_Captcha/js/model/captchaList','Magento_Captcha/js/model/captcha'],function($,defaultCaptcha,captchaList,Captcha){'use strict';return defaultCaptcha.extend({initialize:function(){var captchaConfigPayment,currentCaptcha;this._super();if(window[this.configSource]&&window[this.configSource].captchaPayments){captchaConfigPayment=window[this.configSource].captchaPayments;$.each(captchaConfigPayment,function(formId,captchaData){var captcha;captchaData.formId=formId;captcha=Captcha(captchaData);captchaList.add(captcha);});}
currentCaptcha=captchaList.getCaptchaByFormId(this.formId);if(currentCaptcha!=null){currentCaptcha.setIsVisible(true);this.setCurrentCaptcha(currentCaptcha);}}});});define('Magento_Captcha/js/view/checkout/loginCaptcha',['Magento_Captcha/js/view/checkout/defaultCaptcha','Magento_Captcha/js/model/captchaList','Magento_Customer/js/action/login','underscore'],function(defaultCaptcha,captchaList,loginAction,_){'use strict';return defaultCaptcha.extend({initialize:function(){var self=this,currentCaptcha;this._super();currentCaptcha=captchaList.getCaptchaByFormId(this.formId);if(currentCaptcha!=null){currentCaptcha.setIsVisible(true);this.setCurrentCaptcha(currentCaptcha);loginAction.registerLoginCallback(function(loginData){if(loginData['captcha_form_id']&&loginData['captcha_form_id']===self.formId&&self.isRequired()){_.defer(self.refresh.bind(self));}});}}});});define('Magento_Checkout/js/model/shipping-address/form-popup-state',['ko'],function(ko){'use strict';return{isVisible:ko.observable(false)};});define('Magento_Checkout/js/action/recollect-shipping-rates',['Magento_Checkout/js/model/quote','Magento_Checkout/js/action/select-shipping-address','Magento_Checkout/js/model/shipping-rate-registry'],function(quote,selectShippingAddress,rateRegistry){'use strict';return function(){var shippingAddress=null;if(!quote.isVirtual()){shippingAddress=quote.shippingAddress();rateRegistry.set(shippingAddress.getCacheKey(),null);selectShippingAddress(shippingAddress);}};});define('Vaimo_Storelocator/js/model/geometry',[],function(){'use strict';var geometry={};Object.defineProperties(geometry,{deg2rad:{value:function(deg){return deg*(Math.PI/180);}},getDistanceBetweenPoints:{value:function(pointA,pointB){var radius=6371,dLat=this.deg2rad(pointB.lat-pointA.lat),dLon=this.deg2rad(pointB.lon-pointA.lon),sqOfHalfChord,angularDistance;sqOfHalfChord=Math.sin(dLat/2)*Math.sin(dLat/2)+
Math.cos(this.deg2rad(pointA.lat))*Math.cos(this.deg2rad(pointB.lat))*Math.sin(dLon/2)*Math.sin(dLon/2);angularDistance=2*Math.atan2(Math.sqrt(sqOfHalfChord),Math.sqrt(1-sqOfHalfChord));return radius*angularDistance;}}});return geometry;});define('Vaimo_Storelocator/js/model/list/sorter',[],function(){'use strict';return{byDistance:function(itemA,itemB){if(itemA.distance<itemB.distance){return-1;}
if(itemA.distance>itemB.distance){return 1;}
return 0;},byTitle:function(itemA,itemB){if(itemA.storeName<itemB.storeName){return-1;}
if(itemA.storeName>itemB.storeName){return 1;}
return 0;}};});define('Vaimo_Storelocator/js/model/list/search',['underscore','Vaimo_Storelocator/js/model/geometry','Vaimo_Storelocator/js/model/list/sorter'],function(_,geometry,sorter){'use strict';return{byLatLon:function(list,lat,lon,radius,limit){var results=[];_.each(list,function(item){var distanceFromLocation=geometry.getDistanceBetweenPoints({lat:lat,lon:lon},{lat:item.lat,lon:item.lon}),distanceWithinRadius=radius?distanceFromLocation<=radius:true,hasDistance=distanceFromLocation>0;if(hasDistance&&distanceWithinRadius){item.distance=distanceFromLocation;results.push(item);}});results.sort(sorter.byDistance);if(limit&&limit>0){results=results.slice(0,limit);}
return results;},byAddressComponent:function(list,type,value){var results=[];_.each(list,function(item){if(item[type].toLowerCase().trim()===value.toLowerCase().trim()){item.distance=false;results.push(item);}});results.sort(sorter.byTitle);return results;}};});define('Amazon_Payment/js/model/amazonPaymentConfig',['uiRegistry'],function(registry){'use strict';var config=registry.get('amazonPayment')||{};return{getValue:function(key,defaultValue){if(config.hasOwnProperty(key)){return config[key];}else if(defaultValue!==undefined){return defaultValue;}},isDefined:function(){return registry.get('amazonPayment')!==undefined;}};});define('Vaimo_Storelocator/js/model/list/google-search',['jquery','underscore'],function($,_){'use strict';var autocomplete,geocoder;return{initialize:function(input,countries,callback){if(input&&callback){autocomplete=new window.google.maps.places.Autocomplete(document.getElementById(input),{types:['geocode','establishment'],componentRestrictions:{country:countries},fields:['address_components','geometry','name','types']});window.google.maps.event.addListener(autocomplete,'place_changed',function(){callback(autocomplete.getPlace());});}
geocoder=new window.google.maps.Geocoder();},getByGeocoder:function(address,restrictions){var promise=$.Deferred(),request={'address':address};if(restrictions){_.extend(request,restrictions);}
geocoder.geocode(request,function(results,status){if(status===window.google.maps.GeocoderStatus.OK){promise.resolve(results[0]);}else{promise.reject(status);}});return promise;},getTypeValue:function(type,place){var result={short:'',long:''};try{place['address_components'].some(function(component){if(component.types.indexOf(type)>-1){result.short=component.short_name;result.long=component.long_name;return true;}});}catch(e){console.warn('Error parsing Google Place',e);}
return result;},getLat:function(place){return place.geometry.location.lat();},getLon:function(place){return place.geometry.location.lng();},getNecessaryRadius:function(place){var radius='street';if(place.types.indexOf('sublocality')>-1||place.types.indexOf('sublocality_level_1')){radius='suburb';}
return radius;},geocoder:geocoder,autocomplete:autocomplete};});define('Magento_PaypalCaptcha/js/view/payment/list-mixin',['jquery','Magento_Captcha/js/model/captchaList'],function($,captchaList){'use strict';var mixin={formId:'co-payment-form',createComponent:function(payment){var component=this._super(payment);if(component.component==='Magento_Paypal/js/view/payment/method-renderer/payflowpro-method'){component.template='Magento_PaypalCaptcha/payment/payflowpro-form';$(window).off('clearTimeout').on('clearTimeout',this.clearTimeout.bind(this));}
return component;},clearTimeout:function(timeoutID){var captcha=captchaList.getCaptchaByFormId(this.formId);if(captcha!==null){captcha.refresh();}
clearTimeout(timeoutID);}};return function(target){return target.extend(mixin);};});define('Vaimo_Storelocator/js/view/list/item',['jquery','ko','underscore','mage/url','mage/translate'],function($,ko,_,urlBuilder){'use strict';var weekday=['sunday','monday','tuesday','wednesday','thursday','friday','saturday'];function toMinutes(time){var parts=time.split(':');return parseInt(parts[0],10)*60+parseInt(parts[1],10);}
function convertOpeningHours(entry){var result={};_.each(entry,function(item){result[item.weekday]={opens:toMinutes(item['open_time']),opensPretty:item['open_time'],closes:toMinutes(item['close_time']),closesPretty:item['close_time']};});return result;}
function prepDataForCalc(item){var date=new Date(),hourDiff=item.timezoneOffset-date.getTimezoneOffset(),currentTime=date.getHours()*60+date.getMinutes()-hourDiff,dayIndex=date.getDay(),nextDayIndex=dayIndex+1>6?0:dayIndex+1;return{time:currentTime,currentDay:weekday[dayIndex],nextDay:weekday[nextDayIndex],data:convertOpeningHours(item.operatingHours)};}
function calculateOpenClose(item){var parsed=prepDataForCalc(item),opensToday='',opensTodayPretty,closesToday='',closesTodayPretty,nextDay,opensTomorrowPretty,className='closed',result='';if(item.store_closed==='1'){result=$.mage.__('<span class="closed-store-temporarily">Store is closed</span>');return '<span class="'+className+'">'+result+'</span>';}else if(item.store_closed==='2'){result=$.mage.__('<span class="closed-store-temporarily">Store is temporarily closed</span>');return '<span class="'+className+'">'+result+'</span>';}
if(typeof parsed.data[parsed.currentDay]!=='undefined'){opensToday=parsed.data[parsed.currentDay].opens;opensTodayPretty=parsed.data[parsed.currentDay].opensPretty;closesToday=parsed.data[parsed.currentDay].closes;closesTodayPretty=parsed.data[parsed.currentDay].closesPretty;}
if(typeof parsed.data[parsed.nextDay]!=='undefined'){opensTomorrowPretty=parsed.data[parsed.nextDay].opensPretty;}else{opensTomorrowPretty='';}
if(opensTomorrowPretty===''||(opensToday===''&&closesToday==='')){nextDay=weekday.indexOf(parsed.currentDay);weekday.some(function(day,index){var dataValue=parsed.data[day];if(index>nextDay&&typeof dataValue!=='undefined'&&dataValue.opens&&dataValue.closes){result=$.mage.__('Opens <span class="closed-store">%2</span> at <span>%1</span>').replace('%1',parsed.data[day].opensPretty).replace('%2',day);return true;}
return false;});}else if(parsed.time>=opensToday&&parsed.time<closesToday){className='open';result=$.mage.__('<span>Open</span> until %1').replace('%1',closesTodayPretty);}else if(parsed.time<opensToday){result=$.mage.__('Opens today at <span>%1</span>').replace('%1',opensTodayPretty);}else{result=$.mage.__('Opens tomorrow at <span>%1</span>').replace('%1',opensTomorrowPretty);}
return '<span class="'+className+'">'+result+'</span>';}
return{defaults:{template:'Vaimo_Storelocator/list/item',entityId:'',storeName:'',address:'',phoneNumber:'',link:'',lat:'',lon:'',operatingHours:'',isActive:ko.observable(true),distance:'',tracks:{link:true}},initialize:function(data){return _.extend({},this,this.defaults,data);},getInfoLink:function(){return urlBuilder.build('storelocator/store/index/id/'+this.entityId);},getPhoneHref:function(){return 'tel:'+this.phoneNumber;},getDistance:function(){var distance=this.distance;if(distance){distance=parseFloat(distance);if(distance<1){distance=$.mage.__('%1 m away').replace('%1',Math.round(distance*1000));}else{if(distance>=100){distance=Math.round(distance);}else{distance=parseFloat(distance.toFixed(2));}
distance=$.mage.__('%1 km away').replace('%1',distance);}}
return distance;},getStoreOpenState:function(){var result='';try{result=calculateOpenClose(this);}catch(e){console.warn('Cannot determine store open/close time for '+this.storeName+' ('+this.entityId+'):',e);}
return result;},getTemplate:function(){return this.template;},getOpeningHoursForDay:function(day){var hours='';if(this.operatingHours.constructor.name==='Array'){hours=this.operatingHours.filter(function(item){return item.weekday===day;});}else{hours=Object.values(this.operatingHours).filter(function(item){return item.weekday===day;});}
return hours.pop();},getDirectionsLink:function(){var protocol='https';if(window.navigator.platform.indexOf("iPhone")!==-1||window.navigator.platform.indexOf("iPad")!==-1||window.navigator.platform.indexOf("iPod")!==-1){protocol='maps';}
return protocol+'://maps.google.com/maps/dir/?daddr='+[this.lat,this.lon].join(',')+'&amp;ll=';}};});define('jdgJs/product/view/in-store-stock',['uiCollection','jquery','ko','underscore','rjsResolver','jdgHelper','jdgJs/product/action/getProductStock','Magento_Customer/js/customer-data','Vaimo_Storelocator/js/view/list/item','Vaimo_Storelocator/js/model/list/google-search','Vaimo_Storelocator/js/model/list/search','Vaimo_Storelocator/js/model/list/sorter','text!jdgTemplate/product/in-store-stock/selected-store-input.html','Magento_Ui/js/lib/core/storage/local','Magento_Ui/js/modal/modal','mage/translate'],function(uiComponent,$,ko,_,rjsResolver,jdgHelper,getProductStock,customerData,itemViewModel,googleSearch,storeSearch,storeSort,storeInputHtml,localStorage){'use strict';var selectedDefaults={name:'',entityId:0,inStore:false,cnc:false},selectedStore=ko.observable(selectedDefaults),selectedTempStore=ko.observable(selectedDefaults),justSearched;return uiComponent.extend({defaults:{template:'Vaimo_JdgroupFrontend/product/in-store-stock/selected-store',modalTemplate:'Vaimo_JdgroupFrontend/product/in-store-stock/store-stock-modal',modalSelector:'',modalTrigger:'',storeList:[],countryCode:'',timezoneOffset:0,article:'',useModal:true,showAllStoresInitially:true,showMoreInfoActions:true,showCollectionNotice:false,showSetCollectionStoreAction:true,inputPlaceholder:$.mage.__('Start typing...')},promises:{rjsResolved:$.Deferred(),googleReady:$.Deferred(),searchInputReady:$.Deferred(),cartValidated:$.Deferred()},google:{geocoder:null},ViewModel:{selectedStore:selectedStore,selectedTempStore:selectedTempStore,filteredStores:ko.observableArray([]),ready:ko.observable(null),searchInput:ko.observable(),inputHasFocus:ko.observable(null),modalMessage:ko.observable({type:'error',message:null}),hasStockApi:ko.observable(false),noStoresWithStock:ko.observable(false),loading:ko.observable(false),useMyLocation:{allowed:ko.observable(true),enabled:ko.observable(false)}},parsedStoreList:[],$modal:null,$selectedStoreInput:null,getModalTemplate:function(){return this.modalTemplate;},_initModal:function(){if(!this.useModal){return true;}
this.$modal=$(this.modalSelector).modal({type:'popup',title:$.mage.__('Find Stock in Store'),modalClass:this.modalSelector.replace(/[\.\#\[\]\'\"]/g,'')+'--wrapper',trigger:this.modalTrigger,responsive:false,buttons:[]});},_initGoogleApi:function(){this.promises.searchInputReady.then(function(){googleSearch.initialize('product-instorestock-search',[this.countryCode],this.searchByAutocomplete.bind(this));this.promises.googleReady.resolve();}.bind(this));},_initAddToCartListener:function(){$(document).on('ajax:addToCart',function(){if(selectedStore().entityId){localStorage.set('inStoreStock.selectedStore',selectedStore());}});},_parseStoreList:function(){_.each(this.storeList,function(store){var cleanStore={storeName:store.name,address:store.address,phoneNumber:store.phone,city:store.city,region:store.region,country:store['country_id'],entityId:store['entity_id'],operatingHours:[],sapId:store['sap_id'],lat:parseFloat(store.latitude),lon:parseFloat(store.longitude),cnc:ko.observable(false),inStore:ko.observable(false),moreInfoExpanded:ko.observable(false),timezoneOffset:this.timezoneOffset};if(store.store_closed==='1'||store.store_closed==='2'){return;}
try{cleanStore.operatingHours=JSON.parse(store['opening_hours']);}catch(e){}
this.parsedStoreList.push(itemViewModel.initialize(cleanStore));}.bind(this));this.parsedStoreList.sort(storeSort.byTitle);this.ViewModel.filteredStores(this.parsedStoreList);},_initStoreInput:function(){this.$selectedStoreInput=$(jdgHelper.removeLicense(storeInputHtml));$('#product_addtocart_form').append(this.$selectedStoreInput);this.ViewModel.selectedStore.subscribe(function(selectedStoreNew){this.$selectedStoreInput.val(selectedStoreNew.entityId);}.bind(this));},_initMyLocation:function(){try{navigator.permissions.query({name:'geolocation'}).then(function(result){if(result.state==='denied'){this.ViewModel.useMyLocation.allowed(false);}
result.onchange=function(){if(result.state==='denied'){this.ViewModel.useMyLocation.allowed(false);}else{this.ViewModel.useMyLocation.allowed(true);}}.bind(this);}.bind(this)).catch(function(result){console.log('this was caught:',result);});}catch(e){console.warn('Your browser does not support reading permissions',e);}},_getArticlesFromCart:function(cartData){var articles=[];if(cartData&&'items'in cartData){articles=cartData['items'].map(function(item){return item['product_sku'];});}
return articles;},_checkCart:function(cartData){var matchedStores,initialStockCheck;if('selected-delivery-store'in cartData){matchedStores=this.parsedStoreList.filter(function(store){return parseInt(store.entityId,10)===parseInt(cartData['selected-delivery-store'],10);});if(typeof window.checkoutConfig!=='undefined'){this.article=[this.article].concat(this._getArticlesFromCart(cartData));}
if(matchedStores.length===0){this.promises.cartValidated.resolve();return false;}
initialStockCheck=getProductStock(this.article,matchedStores.map(function(store){return store.sapId;}));initialStockCheck.then(function(result){matchedStores=this._addStockToStores(matchedStores,result);this.ViewModel.selectedStore({name:matchedStores[0].storeName,entityId:matchedStores[0].entityId,sapId:matchedStores[0].sapId,inStore:matchedStores[0].inStore(),cnc:matchedStores[0].cnc()});this.ViewModel.selectedTempStore(this.ViewModel.selectedStore());if(!matchedStores[0].cnc()){jdgHelper.postMessage('warning',$.mage.__('You have selected <b>%1</b> as collection point for some of the products in your cart. Unfortunately <b>%2</b> is not available in that location.').replace('%1',matchedStores[0].storeName).replace('%2',$('h1.page-title').text()));}}.bind(this));initialStockCheck.always(function(){this.promises.cartValidated.resolve();}.bind(this));}else{this.promises.cartValidated.resolve();}},_initCartCheck:function(){var cartData=customerData.get('cart');this._checkCart(cartData());cartData.subscribe(this._checkCart,this);},_initNoStockMessageCheck:function(){this.ViewModel.filteredStores.subscribe(function(storeList){var hasStock=false;if(_.isArray(storeList)){storeList.forEach(function(store){if(store.cnc()){hasStock=true;}});}
this.ViewModel.noStoresWithStock(!hasStock);},this);},searchInputAfterRender:function(){this.promises.searchInputReady.resolve();},initialize:function(){this._super();this._initStoreInput();this._initModal();this._parseStoreList();this._initMyLocation();this._initCartCheck();this._initAddToCartListener();this._initNoStockMessageCheck();rjsResolver(function(){this.promises.rjsResolved.resolve();}.bind(this));if(window._googleMapsApiLoaded){this._initGoogleApi();}else{window.googleMapsInit=this._initGoogleApi.bind(this);}
$.when.apply(this,_.values(this.promises)).done(function(){this.ViewModel.ready(true);}.bind(this));return this;},_mergeArticleHelper:function(sapId,store,result){if(!(sapId in result)){result[sapId]=store;}else{if(store.quantity<result[sapId].quantity){result[sapId].quantity=store.quantity;}
try{if(store.sourcing.quantity<result[sapId].sourcing.quantity){result[sapId].sourcing.quantity=store.sourcing.quantity;}}catch(e){}
if(store['in_stock']===0){result[sapId]['in_stock']=0;}
try{if(store.sourcing['in_stock']===0){result[sapId].sourcing['in_stock']=0;}}catch(e){}}
return result;},_mergeArticleResults:function(apiResult){var result={};_.each(apiResult,function(stores){if(stores.source){result=this._mergeArticleHelper(stores.source,stores,result);}else{_.each(stores,function(store,sapId){result=this._mergeArticleHelper(sapId,store,result);}.bind(this));}}.bind(this));return result;},_getArticleFromResult:function(apiResult){if(_.isArray(apiResult)&&apiResult.length===1){apiResult=apiResult[0];}
if(this.article in apiResult){return apiResult[this.article];}
return apiResult;},_addStockToStores:function(stores,apiResult){var articleStock=this._getArticleFromResult(apiResult);if(this.article.length>1){articleStock=this._mergeArticleResults(articleStock);}
stores=stores.map(function(store){if(store.sapId in articleStock){store.inStore(articleStock[store.sapId]['in_stock']>0);store.cnc(articleStock[store.sapId]['quantity']>0);if(!store.cnc()&&'sourcing'in articleStock[store.sapId]){store.cnc(articleStock[store.sapId]['sourcing']['in_stock']>0);}}
return store;});return stores;},_updateFilteredStores:function(stores){var stockInfoPromise;if(stores===0){return false;}
stockInfoPromise=getProductStock(this.article,stores.map(function(store){return store.sapId;}));stockInfoPromise.then(function(result){this.ViewModel.filteredStores(this._addStockToStores(stores,result));this.ViewModel.hasStockApi(true);}.bind(this));stockInfoPromise.catch(function(xhr){this.ViewModel.modalMessage({type:'error',message:$.mage.__('Sorry, we could not retrieve information about this product in these stores')});this.ViewModel.filteredStores(stores);this.ViewModel.hasStockApi(false);console.error(xhr);}.bind(this));stockInfoPromise.always(function(){this.ViewModel.loading(false);}.bind(this));},_searchByString:function(address){var exactNameMatch=null,nameResults=[],addressResults=[];_.each(this.parsedStoreList,function(store){if(typeof address==='undefined'){address='';}
if(store.storeName.toLowerCase()===address.toLowerCase){exactNameMatch=[store];}else if(store.storeName.toLowerCase().indexOf(address.toLowerCase())>-1){nameResults.push(store);}else if(store.address.toLowerCase().indexOf(address.toLowerCase())>-1){addressResults.push(store);}});exactNameMatch=exactNameMatch||[];this._updateFilteredStores([].concat(exactNameMatch,nameResults,addressResults));},_searchByGeocoder:function(place){var coords;if(!place){return this._searchByString(this.ViewModel.searchInput());}
coords={lat:googleSearch.getLat(place),lon:googleSearch.getLon(place)};this._updateFilteredStores(storeSearch.byLatLon(this.parsedStoreList,coords.lat,coords.lon,0,5));},searchByInput:function(){var geocoderPromise;this.ViewModel.loading(true);this.ViewModel.filteredStores([]);this.ViewModel.useMyLocation.enabled(false);if(justSearched){return false;}
justSearched=true;setTimeout(function(){justSearched=false;},100);geocoderPromise=googleSearch.getByGeocoder(this.ViewModel.searchInput(),{'region':this.countryCode});geocoderPromise.then(this._searchByGeocoder.bind(this));geocoderPromise.catch(function(err){console.warn('Geocoder search failed:',err);this._searchByString(this.ViewModel.searchInput());}.bind(this));},searchByAutocomplete:function(place){this.ViewModel.loading(true);this.ViewModel.filteredStores([]);this.ViewModel.useMyLocation.enabled(false);if(place&&'geometry'in place&&googleSearch.getLat(place)&&googleSearch.getLon(place)){return this._searchByGeocoder(place);}else if(place.name){this.ViewModel.searchInput(place.name);}
this.searchByInput();},selectStore:function(newSelectedStore){if(newSelectedStore.entityId===selectedTempStore().entityId){selectedTempStore(selectedDefaults);}else if(newSelectedStore.cnc()){selectedTempStore({name:newSelectedStore.storeName,entityId:newSelectedStore.entityId,inStore:newSelectedStore.inStore(),cnc:newSelectedStore.cnc(),sapId:newSelectedStore.sapId});}},collectFromHere:function(){selectedStore(selectedTempStore());this.$modal.modal('closeModal');},toggleMoreInfo:function(store){store.moreInfoExpanded(!store.moreInfoExpanded());},renderMap:function(mapNode,store){var storeCoordinates={lat:store.lat,lng:store.lon},map;try{map=new window.google.maps.Map(mapNode,{zoom:16,center:storeCoordinates,disableDefaultUI:true});new window.google.maps.Marker({position:storeCoordinates,map:map});}catch(e){console.warn(e);}},useMyLocation:function(){this.ViewModel.loading(true);this.ViewModel.filteredStores([]);this.ViewModel.searchInput('');try{navigator.geolocation.getCurrentPosition(function(position){this.ViewModel.useMyLocation.enabled(true);this._updateFilteredStores(storeSearch.byLatLon(this.parsedStoreList,position.coords.latitude,position.coords.longitude,0,5));}.bind(this),function(){this.ViewModel.useMyLocation.allowed(false);this.ViewModel.hasStockApi(false);this.ViewModel.loading(false);this.ViewModel.filteredStores(this.parsedStoreList);}.bind(this));}catch(e){console.warn('Could not get current location:',e);this.ViewModel.useMyLocation.allowed(false);this.ViewModel.hasStockApi(false);this.ViewModel.loading(false);this.ViewModel.filteredStores(this.parsedStoreList);}}});});define('Vaimo_ClickAndCollect/js/view/store-stock-finder',['inStoreStock','jquery','ko','underscore','googleAddressSearch/loader','Vaimo_ClickAndCollect/js/model/checkout-data-glue','Vaimo_Storelocator/js/model/list/search'],function(InStoreStock,$,ko,_,googleApiLoader,cncData,storeSearch){'use strict';var checkoutConfig=window.checkoutConfig,storelocator=checkoutConfig?checkoutConfig.storelocator:{},itemData=checkoutConfig?checkoutConfig.quoteItemData:[];return InStoreStock.extend({defaults:{template:'Vaimo_JdgroupFrontend/product/in-store-stock/store-stock-modal',countryCode:'za'},_prepareStores:function(){var initialStores='stores'in storelocator?storelocator.stores:[];this.storeList=initialStores.map(function(store){return store.additionalData;});},_setArticles:function(){this.article=itemData.map(function(item){return item.sku;});},_googleReady:function(){googleApiLoader().then(function(){_.defer(function(){this._initGoogleApi();}.bind(this));}.bind(this));},_initStoreInput:function(){return false;},_checkCart:function(){this.promises.cartValidated.resolve();$.when.apply(this,_.values(this.promises)).done(function(){var selectedStore=cncData.selectedStore(),coords,remainingStores=[],allStores=[];if(selectedStore){this.ViewModel.loading(true);selectedStore=this.parsedStoreList.filter(function(store){return parseInt(store.entityId,10)===parseInt(selectedStore.entityId,10);})[0];if(!selectedStore){this.ViewModel.loading(false);return false;}
selectedStore.distance=0;coords={lat:selectedStore.lat,lon:selectedStore.lon};remainingStores=storeSearch.byLatLon(this.parsedStoreList,coords.lat,coords.lon,0,4);allStores=[selectedStore].concat(remainingStores);this._updateFilteredStores(allStores);this.ViewModel.selectedTempStore(selectedStore);}}.bind(this));},initialize:function(){this._super();this._prepareStores();this._parseStoreList();this._setArticles();this.ViewModel.inputHasFocus.subscribe(function(hasFocus){var input=document.getElementById('product-instorestock-search');if(hasFocus&&!input.classList.contains('pac-target-input')){this._googleReady();}},this);cncData.selectedStore.subscribe(function(store){if(!store){this.ViewModel.selectedStore({name:'',entityId:0,inStore:false,cnc:false});this.ViewModel.selectedTempStore({name:'',entityId:0,inStore:false,cnc:false});}},this);this._googleReady();},selectStore:function(newSelectedStore){this._super(newSelectedStore);cncData.selectedStore(newSelectedStore);},_updateFilteredStores:function(stores){var selectedStore=cncData.selectedStore(),currentlySelected=[];this._super(stores);if(selectedStore){currentlySelected=stores.filter(function(store){return store.entityId===selectedStore.entityId;});}
if(currentlySelected.length===0){cncData.selectedStore(null);}}});});define('Vaimo_MaterialInputs/js/knockout/billing-address-material',['jquery'],function($){'use strict';var mixin={getCountryName:function(countryId){$('.vaimo-md .input-text, .vaimo-md select, .vaimo-md textarea.input-text').material();return this._super(countryId);},useShippingAddress:function(){$('.vaimo-md .input-text, .vaimo-md select, .vaimo-md textarea.input-text').material();return this._super();}};return function(target){return target.extend(mixin);};});define('Magento_Ui/js/lib/spinner',['jquery'],function($){'use strict';var selector='[data-role="spinner"]',spinner=$(selector);return{show:function(){spinner.show();},hide:function(){spinner.hide();},get:function(id){return $(selector+'[data-component="'+id+'"]');}};});define('Vaimo_ClickAndCollect/js/view/prevent-shipping-address-if-cnc',['ko','Magento_Checkout/js/model/quote','Vaimo_ClickAndCollect/js/model/checkout-data-glue'],function(ko,quote,cncData){'use strict';return function(BillingAddress){return BillingAddress.extend({isCncOrder:cncData.isCncOrder,quoteIsVirtual:quote.isVirtual});};});define('Vaimo_PaymentMethodDescription/js/mixin/view/payment/list',['Magento_Checkout/js/model/payment/method-list','mage/url','jquery'],function(paymentMethods,url,$){'use strict';return function(PaymentList){return PaymentList.extend({paymentMethodDescriptions:{},baseSelector:'.payment-methods input:radio[name="payment[method]"]',foundElements:0,checkTimeout:100,initialize:function(){var requestUrl=url.build('payment/method/descriptions');this._super();$.ajax({url:requestUrl,type:'get',dataType:'json',context:this}).done(function(response){this.paymentMethodDescriptions=response||{};}).fail(function(){this.paymentMethodDescriptions={};});this.initUpdateDescriptions();paymentMethods.subscribe(function(){this.initUpdateDescriptions();},this,'arrayChange');return this;},initUpdateDescriptions:function(){var deferred=$.Deferred(),selector='',descrElement='';this.waitForElement(deferred);deferred.done(function(){$.each(this.paymentMethodDescriptions,function(method,description){if(description){selector=this.baseSelector+'[id^="'+method+'"]';$(selector).each(function(index,element){var fullMethodCode=$(element).val(),content=$(element).parent().find('> label');if(content.find('.payment-method-description').length===0){descrElement='<div class="payment-method-description payment-method-description-'+
fullMethodCode+
'">'+
description+
'</div>';content.append(descrElement);}});}}.bind(this));this.updatePaymentLogos();}.bind(this));},waitForElement:function(defer){var elementCount=$(this.baseSelector).length;if(this.foundElements===elementCount){setTimeout(this.waitForElement.bind(this,defer),this.checkTimeout);}else{this.foundElements=elementCount;setTimeout(defer.resolve,300);}},hasCustomLogo:function(logoMethodCode){var logos=window.checkoutConfig.payment.logoSrc;logoMethodCode=logoMethodCode;return Object.keys(logos).indexOf(logoMethodCode)!==-1&&logos[logoMethodCode].length;},getCustomLogo:function(logoMethodCode){logoMethodCode=logoMethodCode;return window.checkoutConfig.payment.logoSrc[logoMethodCode];},updatePaymentLogos:function(){$(this.baseSelector).each(function(index,element){var fullMethodCode=$(element).val(),content=$(element).parent().find('> label');fullMethodCode=fullMethodCode==='peachpayments_hosted_card'?'peachpayments_hosted':fullMethodCode;if(this.hasCustomLogo(fullMethodCode)&&!content.hasClass('custom-logo')){content.addClass('custom-logo');content.append('<img class="method-custom-logo" '+
'src="'+this.getCustomLogo(fullMethodCode)+'" '+
'alt="'+content.find('> span').text().trim()+'">');}}.bind(this));}});};});define('mage/validation/ui-rules',['jquery','mage/translate'],function($){'use strict';return function(target){target['validate-sa-id-length']={handler:function(value){var result=(""+value).trim();return!result.length||result.length===13;},message:$.mage.__('SA ID must be 13 numbers long.')};target['validate-phoneLax']={handler:function(value){return value.length===10&&!isNaN(value)&&value.charAt(0)==='0';},message:$.mage.__('Please enter a valid 10 digit cellphone number e.g. 0827891234')};target['validate-first-number']={handler:function(value){return value!==''&&!isNaN(value.trim().charAt(0));},message:$.mage.__('Please enter street number')};target['validate-sa-id-pattern']={handler:function(value){var i,c,even='',sum=0,check=value.slice(-1),month=parseInt(value.substr(2,2),10),day=parseInt(value.substr(4,2),10),id=value.substr(0,value.length-1),isEmpty=value==="",isCorrect;if(value.length!==13||value.match(/\D/)){return isEmpty;}
for(i=0;c=id.charAt(i);i+=2){sum+=+c;even+=value.charAt(i+1);}
even=''+even*2;for(i=0;c=even.charAt(i);i++){sum+=+c;}
sum=10-(''+sum).charAt(1);isCorrect=(''+sum).slice(-1)===''+check&&month>0&&month<13&&day>0&&day<32;return isEmpty||isCorrect;},message:$.mage.__('The ID number entered is not a valid South African ID number.')};return target;};});define('Magento_Checkout/js/model/postcode-validator',['mageUtils'],function(utils){'use strict';return{validatedPostCodeExample:[],validate:function(postCode,countryId,postCodesPatterns){var pattern,regex,patterns=postCodesPatterns?postCodesPatterns[countryId]:window.checkoutConfig.postCodes[countryId];this.validatedPostCodeExample=[];if(!utils.isEmpty(postCode)&&!utils.isEmpty(patterns)){for(pattern in patterns){if(patterns.hasOwnProperty(pattern)){this.validatedPostCodeExample.push(patterns[pattern].example);regex=new RegExp(patterns[pattern].pattern);if(regex.test(postCode)){return true;}}}
return false;}
return true;}};});/*!
* jQuery UI Effects Blind - v1.10.4
* http://jqueryui.com
*
* Copyright 2014 jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
* http://api.jqueryui.com/blind-effect/
*/define('jquery-ui-modules/effect-blind',['jquery','jquery-ui-modules/effect'],function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};});define('Magento_Ui/js/view/messages',['ko','jquery','uiComponent','../model/messageList','jquery-ui-modules/effect-blind'],function(ko,$,Component,globalMessages){'use strict';return Component.extend({defaults:{template:'Magento_Ui/messages',selector:'[data-role=checkout-messages]',isHidden:false,listens:{isHidden:'onHiddenChange'}},initialize:function(config,messageContainer){this._super().initObservable();this.messageContainer=messageContainer||config.messageContainer||globalMessages;return this;},initObservable:function(){this._super().observe('isHidden');return this;},isVisible:function(){return this.isHidden(this.messageContainer.hasMessages());},removeAll:function(){this.messageContainer.clear();},onHiddenChange:function(isHidden){var self=this;if(isHidden){setTimeout(function(){$(self.selector).hide('blind',{},500);},30000);try{$('html, document').animate({scrollTop:$(self.selector).filter(':visible').offset().top});}catch(e){}}}});});define('Magento_SalesRule/js/view/payment/discount-messages',['Magento_Ui/js/view/messages','../../model/payment/discount-messages'],function(Component,messageContainer){'use strict';return Component.extend({initialize:function(config){return this._super(config,messageContainer);}});});define('Magento_GiftCardAccount/js/view/payment/gift-card-messages',['Magento_Ui/js/view/messages','../../model/payment/gift-card-messages'],function(Component,messageContainer){'use strict';return Component.extend({initialize:function(config){return this._super(config,messageContainer);}});});define('Magento_Checkout/js/view/authentication-messages',['Magento_Ui/js/view/messages','Magento_Checkout/js/model/authentication-messages'],function(Component,messageContainer){'use strict';return Component.extend({initialize:function(config){return this._super(config,messageContainer);}});});define('text!Magento_Checkout/template/conditional-display.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<!-- ko if: (forMobile && visibleMobile()) || (forDesktop && visibleDesktop()) -->\n    <!-- ko if: (forDelivery && visibleDelivery()) || (forPayment && visiblePayment()) -->\n        <!-- ko foreach: { data: elems, as: \'element\' } -->\n            <!-- ko if: hasTemplate() -->\n                <!-- ko template: getTemplate() --><!-- /ko -->\n            <!-- /ko -->\n        <!-- /ko -->\n    <!-- /ko -->\n<!-- /ko -->\n';});define('Magento_Checkout/js/model/sidfshuebar',[],function(){'use strict';return{popUp:false,setPopup:function(popUp){this.popUp=popUp;},show:function(){if(this.popUp){this.popUp.modal('openModal');}},hide:function(){if(this.popUp){this.popUp.modal('closeModal');}}};});define('Magento_Checkout/js/view/sidebar',['uiComponent','ko','jquery','Magento_Checkout/js/model/sidebar'],function(Component,ko,$,sidebarModel){'use strict';return Component.extend({setModalElement:function(element){sidebarModel.setPopup($(element));}});});define('Magento_Checkout/js/view/billing-address/list',['uiComponent','Magento_Customer/js/model/address-list','mage/translate','Magento_Customer/js/model/customer'],function(Component,addressList,$t,customer){'use strict';var newAddressOption={getAddressInline:function(){return $t('New Address');},customerAddressId:null},addressOptions=addressList().filter(function(address){return address.getType()==='customer-address';});return Component.extend({defaults:{template:'Magento_Checkout/billing-address',selectedAddress:null,isNewAddressSelected:false,addressOptions:addressOptions,exports:{selectedAddress:'${ $.parentName }:selectedAddress'}},initConfig:function(){this._super();this.addressOptions.push(newAddressOption);return this;},initObservable:function(){this._super().observe('selectedAddress isNewAddressSelected').observe({isNewAddressSelected:!customer.isLoggedIn()||!addressOptions.length});return this;},addressOptionsText:function(address){return address.getAddressInline();},onAddressChange:function(address){this.isNewAddressSelected(address===newAddressOption);}});});define('Magento_Checkout/js/view/form/element/email',['jquery','uiComponent','ko','Magento_Customer/js/model/customer','Magento_Customer/js/action/check-email-availability','Magento_Customer/js/action/login','Magento_Checkout/js/model/quote','Magento_Checkout/js/checkout-data','Magento_Checkout/js/model/full-screen-loader','mage/validation'],function($,Component,ko,customer,checkEmailAvailability,loginAction,quote,checkoutData,fullScreenLoader){'use strict';var validatedEmail;if(!checkoutData.getValidatedEmailValue()&&window.checkoutConfig.validatedEmailValue){checkoutData.setInputFieldEmailValue(window.checkoutConfig.validatedEmailValue);checkoutData.setValidatedEmailValue(window.checkoutConfig.validatedEmailValue);}
validatedEmail=checkoutData.getValidatedEmailValue();if(validatedEmail&&!customer.isLoggedIn()){quote.guestEmail=validatedEmail;}
return Component.extend({defaults:{template:'Magento_Checkout/form/element/email',email:checkoutData.getInputFieldEmailValue(),emailFocused:false,isLoading:false,isPasswordVisible:false,listens:{email:'emailHasChanged',emailFocused:'validateEmail'},ignoreTmpls:{email:true}},checkDelay:2000,checkRequest:null,isEmailCheckComplete:null,isCustomerLoggedIn:customer.isLoggedIn,forgotPasswordUrl:window.checkoutConfig.forgotPasswordUrl,emailCheckTimeout:0,initConfig:function(){this._super();this.isPasswordVisible=this.resolveInitialPasswordVisibility();return this;},initObservable:function(){this._super().observe(['email','emailFocused','isLoading','isPasswordVisible']);return this;},emailHasChanged:function(){var self=this;clearTimeout(this.emailCheckTimeout);if(self.validateEmail()){quote.guestEmail=self.email();checkoutData.setValidatedEmailValue(self.email());}
this.emailCheckTimeout=setTimeout(function(){if(self.validateEmail()){self.checkEmailAvailability();}else{self.isPasswordVisible(false);}},self.checkDelay);checkoutData.setInputFieldEmailValue(self.email());},checkEmailAvailability:function(){this.validateRequest();this.isEmailCheckComplete=$.Deferred();this.isLoading(true);this.checkRequest=checkEmailAvailability(this.isEmailCheckComplete,this.email());$.when(this.isEmailCheckComplete).done(function(){this.isPasswordVisible(false);}.bind(this)).fail(function(){this.isPasswordVisible(true);checkoutData.setCheckedEmailValue(this.email());}.bind(this)).always(function(){this.isLoading(false);}.bind(this));},validateRequest:function(){if(this.checkRequest!=null&&$.inArray(this.checkRequest.readyState,[1,2,3])){this.checkRequest.abort();this.checkRequest=null;}},validateEmail:function(focused){var loginFormSelector='form[data-role=email-with-possible-login]',usernameSelector=loginFormSelector+' input[name=username]',loginForm=$(loginFormSelector),validator,valid;loginForm.validation();if(focused===false&&!!this.email()){valid=!!$(usernameSelector).valid();if(valid){$(usernameSelector).removeAttr('aria-invalid aria-describedby');}
return valid;}
validator=loginForm.validate();return validator.check(usernameSelector);},login:function(loginForm){var loginData={},formDataArray=$(loginForm).serializeArray();formDataArray.forEach(function(entry){loginData[entry.name]=entry.value;});if(this.isPasswordVisible()&&$(loginForm).validation()&&$(loginForm).validation('isValid')){fullScreenLoader.startLoader();loginAction(loginData).always(function(){fullScreenLoader.stopLoader();});}},resolveInitialPasswordVisibility:function(){if(checkoutData.getInputFieldEmailValue()!==''&&checkoutData.getCheckedEmailValue()===''){return true;}
if(checkoutData.getInputFieldEmailValue()!==''){return checkoutData.getInputFieldEmailValue()===checkoutData.getCheckedEmailValue();}
return false;}});});define('Amazon_Payment/js/view/form/element/email',['jquery','Magento_Checkout/js/view/form/element/email','Magento_Customer/js/customer-data','Magento_Checkout/js/model/quote','Magento_Checkout/js/checkout-data','mage/validation'],function($,Component,customerData,quote,checkoutData){'use strict';function getAmazonCustomerEmail(){if(window.checkoutConfig.hasOwnProperty('amazonLogin')&&typeof window.checkoutConfig.amazonLogin.amazon_customer_email==='string'){return window.checkoutConfig.amazonLogin.amazon_customer_email;}
return '';}
return Component.extend({defaults:{email:checkoutData.getInputFieldEmailValue()||getAmazonCustomerEmail(),template:'Amazon_Payment/form/element/email'},initialize:function(){this._super();if(this.email()){if($.validator.methods['validate-email'].call(this,this.email())){quote.guestEmail=this.email();checkoutData.setValidatedEmailValue(this.email());}
checkoutData.setInputFieldEmailValue(this.email());}
return this;}});});define('Magento_Checkout/js/model/customer-email-validator',['jquery','Magento_Customer/js/model/customer','mage/validation'],function($,customer){'use strict';return{validate:function(){var emailValidationResult=customer.isLoggedIn(),loginFormSelector='form[data-role=email-with-possible-login]';if(!customer.isLoggedIn()){$(loginFormSelector).validation();emailValidationResult=Boolean($(loginFormSelector+' input[name=username]').valid());}
return emailValidationResult;}};});define('Magento_Checkout/js/view/payment/email-validator',['uiComponent','Magento_Checkout/js/model/payment/additional-validators','Magento_Checkout/js/model/customer-email-validator'],function(Component,additionalValidators,agreementValidator){'use strict';additionalValidators.registerValidator(agreementValidator);return Component.extend({});});define('Vaimo_SocialLogin/js/social-login',['jquery','Magento_Customer/js/model/customer'],function($,customer){'use strict';return{isCustomerLoggedIn:customer.isLoggedIn};});define('Vaimo_SocialLogin/js/view/checkout',['jquery','uiComponent','ko','Vaimo_SocialLogin/js/social-login'],function($,Component,ko,socialLogin){'use strict';var config=window.checkoutConfig.socialLogin;return Component.extend({defaults:{template:'Vaimo_SocialLogin/checkout/buttons'},isCustomerLoggedIn:socialLogin.isCustomerLoggedIn,initialize:function(){this._super();return this;},isEnabled:function(){return this.getConfig('isEnabled');},getConfig:function(key){return config[key];},showBefore:function(){return this.getConfig('position')['before'];},showAfter:function(){return this.getConfig('position')['after'];}});});define('Magento_GiftCardAccount/js/action/get-gift-card-information',['ko','Magento_Checkout/js/model/url-builder','mage/storage','../model/payment/gift-card-messages','Magento_GiftCardAccount/js/model/gift-card','Magento_Customer/js/model/customer','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/error-processor'],function(ko,urlBuilder,storage,messageList,giftCardAccount,customer,quote,errorProcessor){'use strict';return{isLoading:ko.observable(false),check:function(giftCardCode){var self=this,serviceUrl;this.isLoading(true);if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/carts/guest-carts/:cartId/checkGiftCard/:giftCardCode',{cartId:quote.getQuoteId(),giftCardCode:giftCardCode});}else{serviceUrl=urlBuilder.createUrl('/carts/mine/checkGiftCard/:giftCardCode',{giftCardCode:giftCardCode});}
messageList.clear();storage.get(serviceUrl,false).done(function(response){giftCardAccount.isChecked(true);giftCardAccount.code(giftCardCode);giftCardAccount.amount(response);giftCardAccount.isValid(true);}).fail(function(response){giftCardAccount.isValid(false);errorProcessor.process(response,messageList);}).always(function(){self.isLoading(false);});}};});define('Magento_GiftRegistry/js/model/resource-url-manager',['jquery','Magento_Checkout/js/model/resource-url-manager'],function($,resourceUrlManager){'use strict';return $.extend(resourceUrlManager,{getUrlForEstimationShippingMethodsForGiftRegistry:function(quote){var params=this.getCheckoutMethod()==='guest'?{quoteId:quote.getQuoteId()}:{},urls={'guest':'/guest-giftregistry/:quoteId/estimate-shipping-methods','customer':'/giftregistry/mine/estimate-shipping-methods'};return this.getUrl(urls,params);}});});define('sabcAction/debug',function(){'use strict';var debugParams,debugString;return function(asObject){var urlString,params;if(!debugParams){debugParams={};debugString='';try{urlString=window.location.search;urlString=urlString.slice(0,1)==='?'?urlString.slice(1):urlString;params=urlString.split('&').map(function(pair){return pair.split('=');});params.forEach(function(param){if(['sabcDebug','sabcStatus'].indexOf(param[0])>-1){debugParams[param[0]]=param[1]||'';debugString+=param.join('=');}});}catch(e){console.warn('Url could not be parsed');}}
return asObject?debugParams:debugString;};});define('sabcAction/getLicense',['jquery','underscore','mage/url','sabcAction/debug','mage/cookies'],function($,_,urlBuilder,getDebugInfo){'use strict';var path='rest/V1/sabcapi/validate-client/';return function(idNumber){var data={'form_key':$.mage.cookies.get('form_key')},debugInfo=getDebugInfo(true);if(debugInfo){_.extend(data,debugInfo);}
return $.ajax({url:urlBuilder.build(path)+idNumber,data:data,type:'GET',cache:false,global:true,contentType:'application/json'});};});define('Vaimo_Sabcapi/js/model/sabc',['jquery','ko','underscore','Magento_Customer/js/customer-data','sabcAction/getLicense','mage/translate'],function($,ko,_,customerData,getLicense){'use strict';var customer=customerData.get('customer'),isLoggedIn=ko.computed(function(){return customer()&&customer().firstname;}),idBookValidated=ko.computed(function(){return customer()&&customer().hasValidIdBook;}),allowAddToCart=ko.observable(false),defaults={addLicenseProductOnFail:null,licensePrice:'0',defaultErrorMessage:$.mage.__('Your SABC TV Licence will be validated after your purchase.'),displayMessages:true},settings,licenseData=ko.observable(null);function postMessage(type,message){var customerMessages=customerData.get('messages')()||{},messages=customerMessages.messages||[];messages.push({text:message,type:type});customerMessages.messages=messages;customerData.set('messages',customerMessages);}
function postLicenseMessages(type,message){if(settings.displayMessages){postMessage(type,message);}}
return{configure:function(config){settings=_.extend({},defaults,config);},isLoggedIn:isLoggedIn,allowAddToCart:allowAddToCart,licenseData:licenseData,idBookValidated:idBookValidated,postMessage:postMessage,loadLicenseDone:function(result){postLicenseMessages(result.state,result.message);if(result.resultData&&result.resultData.license){licenseData(result.resultData.license);}},loadLicenseFail:function(xhr){console.error('SABC API error: ',xhr.status,xhr.statusText);if(settings.addLicenseProductOnFail){postLicenseMessages('info',$.mage.__('We could not validate your TV Licence. Adding product to cart will add TV Licence product with additional %1 which isn\'t refundable').replace('%1',settings.licensePrice));}else{postLicenseMessages('warning',settings.defaultErrorMessage);}},loadLicenseAlways:function(){allowAddToCart(true);},loadLicense:function(idNumber){var promise=getLicense(idNumber);promise.done(this.loadLicenseDone.bind(this)).fail(this.loadLicenseFail.bind(this)).always(this.loadLicenseAlways.bind(this));return promise;}};});define('sabcView/idBook',['jquery','ko','underscore','uiCollection','sabcApi','sabcAction/postIdBook','mage/cookies','mage/translate'],function($,ko,_,uiComponent,sabcApi,uploadId){'use strict';return uiComponent.extend({defaults:{isCheckout:false},showUploadForm:ko.observable(true),idBookValidated:sabcApi.idBookValidated,uploaded:ko.observable(false),uploading:ko.observable(false),formKey:ko.observable($.mage.cookies.get('form_key')),fileValue:ko.observable(),readyForUpload:ko.observable(false),enableButton:ko.observable(true),getFileInput:function(){return $('#id-book-upload');},initialize:function(){this._super();this.fileValue.subscribe(function(){_.defer(function(){this.readyForUpload(this.getFileInput().data('valid'));}.bind(this));},this);return this;},initObservable:function(){this._super();this.enableButton=ko.computed(function(){return this.readyForUpload();},this);return this;},submit:function(form){var promise;if(this.fileValue()&&this.getFileInput().data('valid')){promise=uploadId(form);this.uploading(true);$(document).trigger('processStart');promise.done(function(result){sabcApi.postMessage(result.state,result.message);if(result.state==='error'){console.error('Proof of ID upload error: ',result);}
if(result.state==='success'){this.uploaded(true);this.showUploadForm(false);}}.bind(this)).catch(function(xhr){console.error('Proof of ID upload error: ',xhr.status,xhr.statusText);sabcApi.postMessage('error',$.mage.__('There was an issue with your proof of ID upload. Please try again later'));}).always(function(){this.uploading(false);$(document).trigger('processEnd');}.bind(this));}else{sabcApi.postMessage('error',$.mage.__('Please select valid file for upload'));}}});});define('sabcAction/approveCart',['jquery','underscore','mage/url','sabcAction/debug','mage/cookies'],function($,_,urlBuilder,getDebugInfo){'use strict';var path='rest/V1/sabcapi/approve-cart/';return function(idNumber){var data={'form_key':$.mage.cookies.get('form_key')},debugInfo=getDebugInfo(true);if(debugInfo){_.extend(data,debugInfo);}
return $.ajax({url:urlBuilder.build(path)+idNumber,data:data,type:'GET',cache:false,global:true,contentType:'application/json'});};});define('Vaimo_Sabcapi/js/model/popup-action',['jquery','ko','underscore','sabcAction/getLicense','sabcAction/approveCart','mage/url','mage/translate'],function($,ko,_,getLicense,approveCart,url){'use strict';function onValidate(type,value,callback){this.cb=callback;this.id=value;this.validateLicense();}
function onCancel(){window.location=url.build(this.returnUrl);}
function onProceed(){var cartApproval=approveCart(this.id);cartApproval.done(function(result){var redir=result[0];window.location=url.build(redir);}).fail(function(){window.location.reload();});}
function validateLicenseDone(result){var response=result[0];this.cb(response);}
function validateLicenseFail(xhr){console.log('SABC API Error: ',xhr.status,xhr.statusText);this.cb(false,true);}
function validateLicense(){var promise=getLicense(this.id);promise.done(validateLicenseDone.bind(this)).fail(validateLicenseFail.bind(this));return promise;}
function getTvProductData(){var sabcApiConfig=checkoutConfig?checkoutConfig.sabcApi:false,sabcApiTvAttributeSets=sabcApiConfig?sabcApiConfig.tvAttributeSets:false;if(typeof sabcApiTvAttributeSets==='string'){try{sabcApiTvAttributeSets=JSON.parse(sabcApiTvAttributeSets);}catch(err){console.error(err);return false;}}else{return false;}
return getQuoteProducts().filter(function(product){return sabcApiTvAttributeSets.indexOf(product.attribute_set_id)!==-1;});}
function getQuoteProducts(){return _.pluck(window.checkoutConfig.quoteItemData,'product');}
return{id:'',returnUrl:'/checkout/cart',validateLicense:validateLicense,onValidate:onValidate,onCancel:onCancel,onProceed:onProceed,getTvProductData:getTvProductData,getQuoteProducts:getQuoteProducts};});define('Vaimo_Sabcapi/js/view/checkout-popup',['jquery','ko','underscore','uiComponent','mage/translate','Vaimo_Sabcapi/js/model/popup-action','Magento_Customer/js/customer-data'],function($,ko,_,uiComponent,$t,popupAction,customerData){'use strict';var checkoutConfig=window.checkoutConfig,sabcApiConfig=checkoutConfig?checkoutConfig.sabcApi:false,customer=customerData.get('customer')();return uiComponent.extend({defaults:{canProceed:true,initKeyEvents:false,show:ko.observable(false),disabledId:ko.observable(false),disabledPassport:ko.observable(false),prevSelected:'id',getSelected:'id',getSelectedFocused:false,hasValue:false,allowValidate:false,errorMessage:'',passportNumberError:$t('Invalid Passport number.'),tvProducts:popupAction.getTvProductData(),preventProceed:false,proceedState:false,cmsPopupContent:false,proceedContent:{state:'info',message:'No data received.'},scriptErrorContent:{state:'error',message:$t('Unfortunately an issue has occurred in validation process. '+
'Please return and try again, or if issue is still persisting try reloading the page.')},productListOpen:false,popupContent:ko.observable(0),popupContentPrev:ko.observable(0),contentElems:['.sbp-content-wrap.loading','.sbp-content-wrap.validate','.sbp-content-wrap.proceed'],contentAnimateDelay:250,prodListSelector:'#sbp_product_list',idTypes:{id:{label:$t('Identity number'),focus:ko.observable(false),selected:ko.observable(true),hardValue:ko.observable(''),softValue:ko.observable('')},pa:{label:$t('Passport number'),focus:ko.observable(false),selected:ko.observable(false),hardValue:ko.observable(''),softValue:ko.observable('')}}},initObservable:function(){if(!this.init){return this;}
this._super().observe(['canProceed','show','getSelected','errorMessage','allowValidate','productListOpen','proceedState','preventProceed','proceedContent']);this.getSelectedFocused=ko.computed(function(){return this.idTypes[this.getSelected()].focus();}.bind(this));this.hasValue=ko.computed(function(){return!!this.idTypes[this.getSelected()].hardValue().length;}.bind(this));return this;},initialize:function(){this.prefillId=customer.identityNumber;this.prefillPass=customer.passportNumber;this.init=!(!sabcApiConfig||!sabcApiConfig.hasTvProduct||sabcApiConfig.sabcValidated);this._super();if(!this.init){return;}
this.prepareContent();this.show(true);this.canProceed(false);this.prefillValue();this.listen();setTimeout(function(){this.changeContent(1);}.bind(this));},prepareContent:function(){this.setCmsPopupContent();},prefillValue:function(){var customer=customerData.get('customer')(),select=true,idNum=customer.identityNumber,paNum=customer.passportNumber,prefill=function(value,type){this.idTypes[type].softValue(value);this.idTypes[type].hardValue(value);if(select){this.getSelected(type);this.validateOnOpen(type);this.checkValidate();select=false;}}.bind(this);if(idNum!==null&&typeof idNum!=='undefined'){prefill(idNum,'id');this.disabledId(true);}
if(paNum!==null&&typeof paNum!=='undefined'){prefill(paNum,'pa');this.disabledPassport(true);}},validate:function(){this.changeContent(0);popupAction.onValidate(this.getSelected(),this.idTypes[this.getSelected()].hardValue(),this.validateResponse.bind(this));},proceed:function(){this.changeContent(0);popupAction.onProceed();},returnAction:function(){this.preventProceed(false);this.changeContent(1);},validateOnOpen:function(type){this.idTypes[this.prevSelected].selected(false);this.idTypes[type].selected(true);this.prevSelected=type;this.checkValidate();},validateResponse:function(res,fail){fail=fail||false;if(fail){this.preventProceed(true);this.proceedContent(this.scriptErrorContent);}else{this.proceedContent(res);}
setTimeout(function(){this.proceedState(true);this.changeContent(2);}.bind(this),50);},cancel:function(){popupAction.onCancel();},listen:function(){var types=Object.keys(this.idTypes),index;for(index=0;index<types.length;index++){this.subscribeIdTypes(types[index]);}
this.getSelected.subscribe(function(type){this.idTypes[this.prevSelected].selected(false);this.idTypes[type].selected(true);this.prevSelected=type;this.checkValidate();}.bind(this));this.popupContent.subscribe(this.containerAnimation.bind(this));},changeContent:function(newKey){var $oldElem=$(this.contentElems[this.popupContentPrev()]);$oldElem.css('height',$oldElem.children().height());this.popupContent(parseInt(newKey,10));},containerAnimation:function(newContent){var $newElem=$(this.contentElems[parseInt(newContent,10)]);$newElem.css('height',$newElem.children().outerHeight());setTimeout(function(){$newElem.css('height','auto');this.popupContentPrev(this.popupContent());}.bind(this),this.contentAnimateDelay);},initProdListDrop:function(){var productListWrap=$(this.prodListSelector);setTimeout(function(){productListWrap.css('height',productListWrap.children().height());}.bind(this));},productListToggle:function(){this.productListOpen(!this.productListOpen());},subscribeIdTypes:function(type){this.idTypes[type].softValue.subscribe(function(soft){var sanitizedVal=(type==='id')?this.sanitizeId(soft):this.sanitizePa(soft);this.idTypes[type].softValue(sanitizedVal);this.idTypes[type].hardValue(sanitizedVal);this.checkValidate();}.bind(this));},checkValidate:function(){var current=this.idTypes[this.getSelected()],self=this,tmp,error=function(msg){this.allowValidate(false);this.errorMessage(msg);}.bind(this),allow=function(enable){enable=enable||false;this.allowValidate(enable);this.errorMessage('');}.bind(this);if(!this.initKeyEvents){$(document).on('keydown paste','.id-num.fake-input-content',function(event){if($(this).text().length===13&&event.keyCode!=8){event.preventDefault();}});$(document).on('keyup paste','.id-num.fake-input-content',function(event){self.idTypes[self.getSelected()].softValue($(this).text());self.idTypes[self.getSelected()].softValue.valueHasMutated();});$(document).on('keydown paste','.passport-num.fake-input-content',function(event){if($(this).text().length===10&&event.keyCode!=8){event.preventDefault();}});$(document).on('keyup paste','.passport-num.fake-input-content',function(event){self.idTypes[self.getSelected()].softValue($(this).text());self.idTypes[self.getSelected()].softValue.valueHasMutated();});this.initKeyEvents=true;}
if(this.getSelected()==='id'){if(current.hardValue().length>6){tmp=this.validateIdDate(current.hardValue());if(tmp){error(tmp);return;}}
if(current.hardValue().length<13){allow(false);return;}
tmp=this.validateIdChecksum(current.hardValue());if(tmp){error(tmp);return;}}else{if(current.hardValue().length>3&&current.hardValue().length<=10){allow(true);}else{allow(false);error(this.passportNumberError);return;}}
allow(true);},validateIdDate:function(date){var date=date.substr(0,6),month,day;if(date.length<6){return false;}
month=parseInt(date.substr(2,2),10);day=parseInt(date.substr(4,2),10);if(month<1||month>12){return $t('Invalid identity number month.');}
if(day<1||day>31){return $t('Invalid identity number day.');}
return false;},validateIdChecksum:function(value){var index,char,even='',sum=0,check=value.slice(-1),id=value.substr(0,value.length-1);char=id.charAt(0);for(index=0;char;index+=2){sum+=+char;even+=value.charAt(index+1);char=id.charAt(index+2);}
even=''+even*2;char=even.charAt(0);for(index=0;char;index++){sum+=+char;char=even.charAt(index+1);}
sum=10-(''+sum).charAt(1);return((''+sum).slice(-1)===''+check)?false:$t('The ID number entered is not a valid South African ID number.');},sanitizeId:function(value){return value.replace(/[^0-9]/g,'').substr(0,13);},sanitizePa:function(value){return value.replace(/[^0-9a-zA-Z]/g,'').toUpperCase().substr(0,10);},preventSelect:function(comp,event){event.target.selectionStart=event.target.selectionEnd;},fakeInputClicked:function(){var selectedInput=this.idTypes[this.getSelected()];this.checkValidate();},setCmsPopupContent:function(){this.cmsPopupContent=(window.checkoutConfig&&window.checkoutConfig.cmsBlocks&&window.checkoutConfig.cmsBlocks.TvLicencePopupDescription)?window.checkoutConfig.cmsBlocks.TvLicencePopupDescription:false;},});});define('Amazon_Payment/js/amazon-widgets-loader',['uiRegistry'],function(registry){'use strict';registry.get('amazonPayment',function(amazonPayment){require([amazonPayment.widgetUrl]);});});define('Amazon_Payment/js/amazon-core',['jquery','ko','mage/url','amazonPaymentConfig','Magento_Ui/js/model/messageList','amazonWidgetsLoader','jquery/jquery-storageapi','mage/cookies'],function($,ko,url,amazonPaymentConfig,messageList){'use strict';var amazonDefined=ko.observable(false),amazonLoginError=ko.observable(false),accessToken=ko.observable(null),regions={'us':'NA','de':'EU','uk':'EU','jp':'APAC'},sandboxMode,region;accessToken($.mage.cookies.get('amazon_Login_accessToken'));var initAmazonLogin=function(){amazon.Login.setClientId(amazonPaymentConfig.getValue('clientId'));amazon.Login.setSandboxMode(amazonPaymentConfig.getValue('isSandboxEnabled',false));amazon.Login.setRegion(regions[amazonPaymentConfig.getValue('region')]);amazon.Login.setUseCookie(true);doLogoutOnFlagCookie();amazonDefined(true);};if(typeof amazon==='undefined'){window.onAmazonLoginReady=initAmazonLogin;}else{initAmazonLogin();}
window.onAmazonPaymentsReady=function(){$(window).trigger('OffAmazonPayments');};function amazonLogout(){$.mage.cookies.clear('amazon_Login_accessToken');$.ajax({url:url.build('amazon/logout'),context:this}).always(function(){if(amazonDefined()){amazon.Login.logout();}else{var logout=amazonDefined.subscribe(function(defined){if(defined){amazon.Login.logout();logout.dispose();}});}});}
function doLogoutOnFlagCookie(){var errorFlagCookie='amz_auth_err',amazonLogoutCookie='amz_auth_logout';$.cookieStorage.isSet(errorFlagCookie)?amazonLogoutThrowError(errorFlagCookie):false;$.cookieStorage.isSet(amazonLogoutCookie)?amazonLogoutThrowError(amazonLogoutCookie):false;}
function amazonLogoutThrowError(cookieToRemove){amazonLogout();document.cookie=cookieToRemove+'=; Path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';amazonLoginError(true);}
function handleWidgetError(error){console.log('OffAmazonPayments.Widgets',error.getErrorCode(),error.getErrorMessage());switch(error.getErrorCode()){case 'BuyerSessionExpired':messageList.addErrorMessage({message:$.mage.__('Your Amazon session has expired.  Please sign in again by clicking the Amazon Pay Button.')});var storage=require('Amazon_Payment/js/model/storage');storage.amazonlogOut();break;case 'ITP':break;default:messageList.addErrorMessage({message:$.mage.__(error.getErrorMessage())});}}
return{AmazonLogout:amazonLogout,amazonDefined:amazonDefined,accessToken:accessToken,amazonLoginError:amazonLoginError,handleWidgetError:handleWidgetError};});define('Amazon_Payment/js/model/storage',['jquery','ko','amazonCore','amazonPaymentConfig'],function($,ko,amazonCore,amazonPaymentConfig){'use strict';var isAmazonAccountLoggedIn=ko.observable(false),isAmazonEnabled=ko.observable(amazonPaymentConfig.getValue('isPwaEnabled')),orderReferenceId=ko.observable(amazonPaymentConfig.getValue('orderReferenceId')),orderReference,addressConsentToken=amazonCore.accessToken,amazonLoginError=amazonCore.amazonLoginError.subscribe(setAmazonLoggedOutIfLoginError),amazonDeclineCode=ko.observable(false),sandboxSimulationReference=ko.observable('default'),isPlaceOrderDisabled=ko.observable(false),isShippingMethodsLoading=ko.observable(false),isAmazonShippingAddressSelected=ko.observable(false),isQuoteDirty=ko.observable(amazonPaymentConfig.getValue('isQuoteDirty')),isPwaVisible=ko.computed(function(){return isAmazonEnabled()&&!isQuoteDirty();}),isAmazonCartInValid=ko.computed(function(){return isAmazonAccountLoggedIn()&&isQuoteDirty();}),isLoginRedirectPage=$('body').hasClass('amazon-login-login-processauthhash'),amazonCustomerEmail=ko.computed(function(){if(window.checkoutConfig.hasOwnProperty('amazonLogin')&&typeof window.checkoutConfig.amazonLogin.amazon_customer_email==='string'){return window.checkoutConfig.amazonLogin.amazon_customer_email;}
return '';});function amazonLogOut(){amazonCore.AmazonLogout();this.isAmazonAccountLoggedIn(false);}
function setAmazonLoggedOutIfLoginError(isLoggedOut){if(isLoggedOut===true){isAmazonAccountLoggedIn(false);amazonLoginError.dispose();}}
isAmazonCartInValid.subscribe(function(isCartInValid){if(isCartInValid){amazonLogOut();}});verifyAmazonLoggedIn();setAmazonLoggedOutIfLoginError(amazonCore.amazonLoginError());function verifyAmazonLoggedIn(){isAmazonAccountLoggedIn(!!amazonCore.accessToken());}
return{isAmazonAccountLoggedIn:isAmazonAccountLoggedIn,isAmazonEnabled:isAmazonEnabled,orderReferenceId:orderReferenceId,amazonDeclineCode:amazonDeclineCode,sandboxSimulationReference:sandboxSimulationReference,isPlaceOrderDisabled:isPlaceOrderDisabled,isShippingMethodsLoading:isShippingMethodsLoading,isAmazonShippingAddressSelected:isAmazonShippingAddressSelected,isQuoteDirty:isQuoteDirty,isPwaVisible:isPwaVisible,amazonlogOut:amazonLogOut,amazonDefined:amazonCore.amazonDefined,amazonCustomerEmail:amazonCustomerEmail,setOrderReference:function(or){orderReference=or;},getOrderReference:function(){return this.orderReferenceId()||orderReference;},getAddressConsentToken:function(){return addressConsentToken();}};});define('Magento_Checkout/js/view/shipping-validation',['jquery','Magento_Customer/js/model/customer','Magento_Checkout/js/model/quote','Magento_Ui/js/model/messageList','Vaimo_ClickAndCollect/js/model/checkout-data-glue','mage/translate'],function($,customer,quote,messages,cncData){'use strict';return function(shipping){return shipping.extend({initialize:function(){var returnValue=this._super();return returnValue;},setShippingInformation:function(){if(window.submitFormWithinForm){window.submitFormWithinForm=false;return;}
this._super();},validateShippingInformation:function(){var loginFormSelector='form[data-role=email-with-possible-login]',emailValidationResult=customer.isLoggedIn();if(quote.shippingMethod()&&quote.shippingMethod()['method_code']==='clickandcollect'){if(!customer.isLoggedIn()){$(loginFormSelector).validation();emailValidationResult=Boolean($(loginFormSelector+' input[name=username]').valid());}
if(!emailValidationResult){messages.addErrorMessage({message:$.mage.__('Please use a valid email or log in.')});return false;}
if(!cncData.selectedStore()){messages.addErrorMessage({message:$.mage.__('Please select a store before proceeding.')});return false;}
messages.clear();return true;}
return this._super();}});};});define('Magento_Checkout/js/model/billing-address-postcode-validator',['jquery','Magento_Checkout/js/model/postcode-validator','mage/translate','uiRegistry'],function($,postcodeValidator,$t,uiRegistry){'use strict';var postcodeElementName='postcode';return{validateZipCodeTimeout:0,validateDelay:2000,initFields:function(formPath){var self=this;uiRegistry.async(formPath+'.'+postcodeElementName)(self.bindHandler.bind(self));},bindHandler:function(element,delay){var self=this;delay=typeof delay==='undefined'?self.validateDelay:delay;element.on('value',function(){clearTimeout(self.validateZipCodeTimeout);self.validateZipCodeTimeout=setTimeout(function(){self.postcodeValidation(element);},delay);});},postcodeValidation:function(postcodeElement){var countryId=$('select[name="country_id"]:visible').val(),validationResult,warnMessage;if(postcodeElement==null||postcodeElement.value()==null){return true;}
postcodeElement.warn(null);validationResult=postcodeValidator.validate(postcodeElement.value(),countryId);if(!validationResult){warnMessage=$t('Provided Zip/Postal Code seems to be invalid.');if(postcodeValidator.validatedPostCodeExample.length){warnMessage+=$t(' Example: ')+postcodeValidator.validatedPostCodeExample.join('; ')+'. ';}
warnMessage+=$t('If you believe it is the right one you can ignore this notice.');postcodeElement.warn(warnMessage);}
return validationResult;}};});define('Magento_SalesRule/js/action/set-coupon-code',['ko','jquery','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/error-processor','Magento_SalesRule/js/model/payment/discount-messages','mage/storage','mage/translate','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/totals','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/recollect-shipping-rates'],function(ko,$,quote,urlManager,errorProcessor,messageContainer,storage,$t,getPaymentInformationAction,totals,fullScreenLoader,recollectShippingRates){'use strict';var dataModifiers=[],successCallbacks=[],failCallbacks=[],action;action=function(couponCode,isApplied){var quoteId=quote.getQuoteId(),url=urlManager.getApplyCouponUrl(couponCode,quoteId),message=$t('Your coupon was successfully applied.'),data={},headers={};dataModifiers.forEach(function(modifier){modifier(headers,data);});fullScreenLoader.startLoader();return storage.put(url,data,false,null,headers).done(function(response){var deferred;if(response){deferred=$.Deferred();isApplied(true);totals.isLoading(true);recollectShippingRates();getPaymentInformationAction(deferred);$.when(deferred).done(function(){fullScreenLoader.stopLoader();totals.isLoading(false);});messageContainer.addSuccessMessage({'message':message});successCallbacks.forEach(function(callback){callback(response);});}}).fail(function(response){fullScreenLoader.stopLoader();totals.isLoading(false);errorProcessor.process(response,messageContainer);failCallbacks.forEach(function(callback){callback(response);});});};action.registerDataModifier=function(modifier){dataModifiers.push(modifier);};action.registerSuccessCallback=function(callback){successCallbacks.push(callback);};action.registerFailCallback=function(callback){failCallbacks.push(callback);};return action;});define('Magento_SalesRule/js/action/cancel-coupon',['jquery','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/error-processor','Magento_SalesRule/js/model/payment/discount-messages','mage/storage','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/totals','mage/translate','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/recollect-shipping-rates'],function($,quote,urlManager,errorProcessor,messageContainer,storage,getPaymentInformationAction,totals,$t,fullScreenLoader,recollectShippingRates){'use strict';var successCallbacks=[],action,callSuccessCallbacks;callSuccessCallbacks=function(){successCallbacks.forEach(function(callback){callback();});};action=function(isApplied){var quoteId=quote.getQuoteId(),url=urlManager.getCancelCouponUrl(quoteId),message=$t('Your coupon was successfully removed.');messageContainer.clear();fullScreenLoader.startLoader();return storage.delete(url,false).done(function(){var deferred=$.Deferred();totals.isLoading(true);recollectShippingRates();getPaymentInformationAction(deferred);$.when(deferred).done(function(){isApplied(false);totals.isLoading(false);fullScreenLoader.stopLoader();callSuccessCallbacks();});messageContainer.addSuccessMessage({'message':message});}).fail(function(response){totals.isLoading(false);fullScreenLoader.stopLoader();errorProcessor.process(response,messageContainer);});};action.registerSuccessCallback=function(callback){successCallbacks.push(callback);};return action;});define('Magento_SalesRule/js/view/payment/discount',['jquery','ko','uiComponent','Magento_Checkout/js/model/quote','Magento_SalesRule/js/action/set-coupon-code','Magento_SalesRule/js/action/cancel-coupon','Magento_SalesRule/js/model/coupon'],function($,ko,Component,quote,setCouponCodeAction,cancelCouponAction,coupon){'use strict';var totals=quote.getTotals(),couponCode=coupon.getCouponCode(),isApplied=coupon.getIsApplied();if(totals()){couponCode(totals()['coupon_code']);}
isApplied(couponCode()!=null);return Component.extend({defaults:{template:'Magento_SalesRule/payment/discount'},couponCode:couponCode,isApplied:isApplied,apply:function(){if(this.validate()){setCouponCodeAction(couponCode().toUpperCase(),isApplied);}},cancel:function(){if(this.validate()){couponCode('');cancelCouponAction(isApplied);}},validate:function(){var form='#discount-form';return $(form).validation()&&$(form).validation('isValid');}});});define('Magento_SalesRule/js/view/payment/captcha',['Magento_Captcha/js/view/checkout/defaultCaptcha','Magento_Captcha/js/model/captchaList','Magento_SalesRule/js/action/set-coupon-code','Magento_SalesRule/js/action/cancel-coupon','Magento_Checkout/js/model/quote','ko'],function(defaultCaptcha,captchaList,setCouponCodeAction,cancelCouponAction,quote,ko){'use strict';var totals=quote.getTotals(),couponCode=ko.observable(null),isApplied;if(totals()){couponCode(totals()['coupon_code']);}
isApplied=ko.observable(couponCode()!=null);return defaultCaptcha.extend({initialize:function(){var self=this,currentCaptcha;this._super();currentCaptcha=captchaList.getCaptchaByFormId(this.formId);if(currentCaptcha!=null){if(!isApplied()){currentCaptcha.setIsVisible(true);}
this.setCurrentCaptcha(currentCaptcha);setCouponCodeAction.registerDataModifier(function(headers){if(self.isRequired()){headers['X-Captcha']=self.captchaValue()();}});setCouponCodeAction.registerFailCallback(function(){if(self.isRequired()){self.refresh();}});setCouponCodeAction.registerSuccessCallback(function(){self.setIsVisible(false);});cancelCouponAction.registerSuccessCallback(function(){if(self.isRequired()){self.setIsVisible(true);}});}}});});define('Magento_GiftCardAccount/js/action/set-gift-card-information',['jquery','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','mage/storage','../model/payment/gift-card-messages','Magento_Checkout/js/model/error-processor','Magento_Customer/js/model/customer','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/totals'],function($,quote,urlBuilder,storage,messageList,errorProcessor,customer,fullScreenLoader,getPaymentInfoAction,totals){'use strict';return function(giftCardCode,giftCardDisplayCode){var serviceUrl,payload,message=$.mage.__('Gift Card %1 was added.').replace('%1',giftCardDisplayCode);if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/carts/guest-carts/:cartId/giftCards',{cartId:quote.getQuoteId()});payload={cartId:quote.getQuoteId(),giftCardAccountData:{'gift_cards':giftCardCode}};}else{serviceUrl=urlBuilder.createUrl('/carts/mine/giftCards',{});payload={cartId:quote.getQuoteId(),giftCardAccountData:{'gift_cards':giftCardCode}};}
messageList.clear();fullScreenLoader.startLoader();storage.post(serviceUrl,JSON.stringify(payload)).done(function(response){var deferred=$.Deferred();if(response){totals.isLoading(true);getPaymentInfoAction(deferred);$.when(deferred).done(function(){totals.isLoading(false);});messageList.addSuccessMessage({'message':message});}}).fail(function(response){totals.isLoading(false);errorProcessor.process(response,messageList);}).always(function(){fullScreenLoader.stopLoader();});};});define('Magento_NegotiableQuote/js/action/set-gift-card-information-mixin',['jquery','mage/utils/wrapper','mage/storage','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/totals','Magento_GiftCardAccount/js/model/payment/gift-card-messages'],function($,wrapper,storage,quote,urlBuilder,errorProcessor,fullScreenLoader,getPaymentInformationAction,totals,messageList){'use strict';return function(setGiftCardInformation){return wrapper.wrap(setGiftCardInformation,function(originalAction,giftCardCode){var message='Gift Card '+giftCardCode+' was added.',serviceUrl,payload;if(window.checkoutConfig.isNegotiableQuote){serviceUrl=urlBuilder.createUrl('/negotiable-carts/:cartId/giftCards',{cartId:quote.getQuoteId()});payload={cartId:quote.getQuoteId(),giftCardAccountData:{'gift_cards':giftCardCode}};messageList.clear();fullScreenLoader.startLoader();return storage.post(serviceUrl,JSON.stringify(payload)).done(function(response){var onGetPaymentInformationAction=function(){totals.isLoading(false);};if(response){totals.isLoading(true);$.when(getPaymentInformationAction()).done(onGetPaymentInformationAction);messageList.addSuccessMessage({'message':message});}}).fail(function(response){totals.isLoading(false);errorProcessor.process(response,messageList);}).always(fullScreenLoader.stopLoader);}
return originalAction(giftCardCode);});};});define('Magento_GiftCardAccount/js/view/payment/gift-card-account',['jquery','ko','uiComponent','Magento_GiftCardAccount/js/action/set-gift-card-information','Magento_GiftCardAccount/js/action/get-gift-card-information','Magento_Checkout/js/model/totals','Magento_GiftCardAccount/js/model/gift-card','Magento_Checkout/js/model/quote','Magento_Catalog/js/price-utils','mage/validation'],function($,ko,Component,setGiftCardAction,getGiftCardAction,totals,giftCardAccount,quote,priceUtils){'use strict';return Component.extend({defaults:{template:'Magento_GiftCardAccount/payment/gift-card-account',giftCartCode:'',giftCard:'',scratchCode:'',defaultScratchCode:'12345',scratchCodeSeparator:'|'},isLoading:getGiftCardAction.isLoading,giftCardAccount:giftCardAccount,giftCardWithoutScratch:function(){if(this.giftCard().length>12){this.giftCartCode(this.giftCard());}else if(this.giftCard().length===12){this.giftCartCode(this.giftCard()+this.scratchCodeSeparator+this.defaultScratchCode);}},giftCardWithScratch:function(){this.giftCartCode(this.giftCard()+this.scratchCodeSeparator+this.scratchCode());},giftCardDisplayCode:function(){if(this.scratchCode()===this.defaultScratchCode||!this.scratchCode().length){return this.giftCard();}
return this.giftCard()+this.scratchCodeSeparator+this.scratchCode();},updateHiddenInput:function(){if(this.scratchCode()===""){this.giftCardWithoutScratch();}else{this.giftCardWithScratch();}},initObservable:function(){var giftCardCode=this.giftCartCode;if(giftCardCode){giftCardCode=giftCardCode.split(this.scratchCodeSeparator);this.giftCard=giftCardCode[0];this.scratchCode=giftCardCode.length>0?giftCardCode[1]:'';}
this._super().observe('giftCartCode').observe('giftCard').observe('scratchCode');this.giftCard.subscribe(this.updateHiddenInput,this);this.scratchCode.subscribe(this.updateHiddenInput,this);this.displayCode=ko.computed(this.giftCardDisplayCode,this);return this;},setGiftCard:function(){if(this.validate()){setGiftCardAction([this.giftCartCode()],this.giftCardDisplayCode());}},checkBalance:function(){if(this.validate()){getGiftCardAction.check(this.giftCartCode());}},getAmount:function(price){return priceUtils.formatPrice(price,quote.getPriceFormat());},validate:function(){var form='#giftcard-form';return $(form).validation()&&$(form).validation('isValid');}});});define('Magento_GiftRegistry/js/model/shipping-save-processor/gift-registry',['Magento_Checkout/js/model/quote','Magento_Checkout/js/model/resource-url-manager','mage/storage','Magento_Checkout/js/model/payment-service','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/payment/method-converter','Magento_Checkout/js/model/full-screen-loader'],function(quote,resourceUrlManager,storage,paymentService,errorProcessor,methodConverter,fullScreenLoader){'use strict';return{saveShippingInformation:function(){var shippingAddress={},payload;shippingAddress['extension_attributes']={'gift_registry_id':quote.shippingAddress().giftRegistryId};payload={addressInformation:{'shipping_address':shippingAddress,'shipping_method_code':quote.shippingMethod()['method_code'],'shipping_carrier_code':quote.shippingMethod()['carrier_code']}};fullScreenLoader.startLoader();return storage.post(resourceUrlManager.getUrlForSetShippingInformation(quote),JSON.stringify(payload)).done(function(response){paymentService.setPaymentMethods(methodConverter(response['payment_methods']));quote.setTotals(response.totals);fullScreenLoader.stopLoader();}).fail(function(response){errorProcessor.process(response);fullScreenLoader.stopLoader();});}};});define('Magento_Checkout/js/view/payment',['jquery','underscore','uiComponent','ko','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/step-navigator','Magento_Checkout/js/model/payment-service','Magento_Checkout/js/model/payment/method-converter','Magento_Checkout/js/action/get-payment-information','Magento_Checkout/js/model/checkout-data-resolver','mage/translate'],function($,_,Component,ko,quote,stepNavigator,paymentService,methodConverter,getPaymentInformation,checkoutDataResolver,$t){'use strict';paymentService.setPaymentMethods(methodConverter(window.checkoutConfig.paymentMethods));return Component.extend({defaults:{template:'Magento_Checkout/payment',activeMethod:''},isVisible:ko.observable(quote.isVirtual()),quoteIsVirtual:quote.isVirtual(),isPaymentMethodsAvailable:ko.computed(function(){return paymentService.getAvailablePaymentMethods().length>0;}),initialize:function(){this._super();checkoutDataResolver.resolvePaymentMethod();stepNavigator.registerStep('payment',null,$t('Review & Payments'),this.isVisible,_.bind(this.navigate,this),this.sortOrder);return this;},navigate:function(){var self=this;if(!self.hasShippingMethod()){this.isVisible(false);stepNavigator.setHash('shipping');}else{getPaymentInformation().done(function(){self.isVisible(true);});}},hasShippingMethod:function(){return window.checkoutConfig.selectedShippingMethod!==null;},getFormKey:function(){return window.checkoutConfig.formKey;}});});define('Magento_Checkout/js/view/payment/list',['underscore','ko','mageUtils','uiComponent','Magento_Checkout/js/model/payment/method-list','Magento_Checkout/js/model/payment/renderer-list','uiLayout','Magento_Checkout/js/model/checkout-data-resolver','mage/translate','uiRegistry'],function(_,ko,utils,Component,paymentMethods,rendererList,layout,checkoutDataResolver,$t,registry){'use strict';return Component.extend({defaults:{template:'Magento_Checkout/payment-methods/list',visible:paymentMethods().length>0,configDefaultGroup:{name:'methodGroup',component:'Magento_Checkout/js/model/payment/method-group'},paymentGroupsList:[],defaultGroupTitle:$t('Select a new payment method')},initialize:function(){this._super().initDefaulGroup().initChildren();paymentMethods.subscribe(function(changes){checkoutDataResolver.resolvePaymentMethod();_.each(changes,function(change){if(change.status==='deleted'){this.removeRenderer(change.value.method);}},this);_.each(changes,function(change){if(change.status==='added'){this.createRenderer(change.value);}},this);},this,'arrayChange');return this;},initObservable:function(){this._super().observe(['paymentGroupsList']);return this;},initDefaulGroup:function(){layout([this.configDefaultGroup]);return this;},initChildren:function(){var self=this;_.each(paymentMethods(),function(paymentMethodData){self.createRenderer(paymentMethodData);});return this;},createComponent:function(payment){var rendererTemplate,rendererComponent,templateData;templateData={parentName:this.name,name:payment.name};rendererTemplate={parent:'${ $.$data.parentName }',name:'${ $.$data.name }',displayArea:payment.displayArea,component:payment.component};rendererComponent=utils.template(rendererTemplate,templateData);utils.extend(rendererComponent,{item:payment.item,config:payment.config});return rendererComponent;},createRenderer:function(paymentMethodData){var isRendererForMethod=false,currentGroup;registry.get(this.configDefaultGroup.name,function(defaultGroup){_.each(rendererList(),function(renderer){if(renderer.hasOwnProperty('typeComparatorCallback')&&typeof renderer.typeComparatorCallback=='function'){isRendererForMethod=renderer.typeComparatorCallback(renderer.type,paymentMethodData.method);}else{isRendererForMethod=renderer.type===paymentMethodData.method;}
if(isRendererForMethod){currentGroup=renderer.group?renderer.group:defaultGroup;this.collectPaymentGroups(currentGroup);layout([this.createComponent({config:renderer.config,component:renderer.component,name:renderer.type,method:paymentMethodData.method,item:paymentMethodData,displayArea:currentGroup.displayArea})]);}}.bind(this));}.bind(this));},collectPaymentGroups:function(group){var groupsList=this.paymentGroupsList(),isGroupExists=_.some(groupsList,function(existsGroup){return existsGroup.alias===group.alias;});if(!isGroupExists){groupsList.push(group);groupsList=_.sortBy(groupsList,function(existsGroup){return existsGroup.sortOrder;});this.paymentGroupsList(groupsList);}},getGroupTitle:function(group){var title=group().title;if(group().isDefault()&&this.paymentGroupsList().length>1){title=this.defaultGroupTitle;}
return title;},isPaymentMethodsAvailable:function(){return _.some(this.paymentGroupsList(),function(group){return this.getRegion(group.displayArea)().length;},this);},removeRenderer:function(paymentMethodCode){var items;_.each(this.paymentGroupsList(),function(group){items=this.getRegion(group.displayArea);_.find(items(),function(value){if(value.item.method.indexOf(paymentMethodCode)===0){value.disposeSubscriptions();value.destroy();}});},this);}});});define('Magento_GiftRegistry/js/model/shipping-rate-processor/gift-registry',['Magento_GiftRegistry/js/model/resource-url-manager','Magento_Checkout/js/model/quote','mage/storage','Magento_Checkout/js/model/shipping-service','Magento_Checkout/js/model/shipping-rate-registry','Magento_Checkout/js/model/error-processor'],function(resourceUrlManager,quote,storage,shippingService,rateRegistry,errorProcessor){'use strict';return{getRates:function(address){var cache;shippingService.isLoading(true);cache=rateRegistry.get(address.getKey());if(cache){shippingService.setShippingRates(cache);shippingService.isLoading(false);}else{storage.post(resourceUrlManager.getUrlForEstimationShippingMethodsForGiftRegistry(quote),JSON.stringify({registryId:address.giftRegistryId}),false).done(function(result){rateRegistry.set(address.getKey(),result);shippingService.setShippingRates(result);}).fail(function(response){shippingService.setShippingRates([]);errorProcessor.process(response);}).always(function(){shippingService.isLoading(false);});}}};});define('Magento_Checkout/js/model/shipping-rate-processor/customer-address',['Magento_Checkout/js/model/resource-url-manager','Magento_Checkout/js/model/quote','mage/storage','Magento_Checkout/js/model/shipping-service','Magento_Checkout/js/model/shipping-rate-registry','Magento_Checkout/js/model/error-processor'],function(resourceUrlManager,quote,storage,shippingService,rateRegistry,errorProcessor){'use strict';return{getRates:function(address){var cache;shippingService.isLoading(true);cache=rateRegistry.get(address.getKey());if(cache){shippingService.setShippingRates(cache);shippingService.isLoading(false);}else{storage.post(resourceUrlManager.getUrlForEstimationShippingMethodsByAddressId(),JSON.stringify({addressId:address.customerAddressId}),false).done(function(result){rateRegistry.set(address.getKey(),result);shippingService.setShippingRates(result);}).fail(function(response){shippingService.setShippingRates([]);errorProcessor.process(response);}).always(function(){shippingService.isLoading(false);});}}};});define('Magento_Checkout/js/model/shipping-rate-service',['Magento_Checkout/js/model/quote','Magento_Checkout/js/model/shipping-rate-processor/new-address','Magento_Checkout/js/model/shipping-rate-processor/customer-address'],function(quote,defaultProcessor,customerAddressProcessor){'use strict';var processors={};processors.default=defaultProcessor;processors['customer-address']=customerAddressProcessor;quote.shippingAddress.subscribe(function(){var type=quote.shippingAddress().getType();if(processors[type]){processors[type].getRates(quote.shippingAddress());}else{processors.default.getRates(quote.shippingAddress());}});return{registerProcessor:function(type,processor){processors[type]=processor;}};});define('Magento_Ui/js/form/adapter/buttons',function(){'use strict';return{'reset':'#reset','save':'#save','saveAndContinue':'#save_and_continue'};});define('Magento_Ui/js/form/adapter',['jquery','underscore','Magento_Ui/js/form/adapter/buttons'],function($,_,buttons){'use strict';var selectorPrefix='',eventPrefix;function initListener(callback,action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}
if(elem.onclick){elem.onclick=null;}
$(elem).on('click'+eventPrefix,callback);}
function destroyListener(action){var selector=selectorPrefix?selectorPrefix+' '+buttons[action]:buttons[action],elem=$(selector)[0];if(!elem){return;}
if(elem.onclick){elem.onclick=null;}
$(elem).off('click'+eventPrefix);}
return{on:function(handlers,selectorPref,eventPref){selectorPrefix=selectorPrefix||selectorPref;eventPrefix=eventPref;_.each(handlers,initListener);selectorPrefix='';},off:function(handlers,eventPref){eventPrefix=eventPref;_.each(handlers,destroyListener);}};});define('Magento_Ui/js/form/form',['underscore','Magento_Ui/js/lib/spinner','rjsResolver','./adapter','uiCollection','mageUtils','jquery','Magento_Ui/js/core/app','mage/validation'],function(_,loader,resolver,adapter,Collection,utils,$,app){'use strict';function prepareParams(params){var result='?';_.each(params,function(value,key){result+=key+'='+value+'&';});return result.slice(0,-1);}
function collectData(items){var result={},name;items=Array.prototype.slice.call(items);items.forEach(function(item){switch(item.type){case 'checkbox':result[item.name]=+!!item.checked;break;case 'radio':if(item.checked){result[item.name]=item.value;}
break;case 'select-multiple':name=item.name.substring(0,item.name.length-2);result[name]=_.pluck(item.selectedOptions,'value');break;default:result[item.name]=item.value;}});return result;}
function makeRequest(params,data,url){var save=$.Deferred();data=utils.serialize(data);data['form_key']=window.FORM_KEY;if(!url){save.resolve();}
$('body').trigger('processStart');$.ajax({url:url+prepareParams(params),data:data,dataType:'json',success:function(resp){if(resp.ajaxExpired){window.location.href=resp.ajaxRedirect;}
if(!resp.error){save.resolve(resp);return true;}
$('body').notification('clear');$.each(resp.messages,function(key,message){$('body').notification('add',{error:resp.error,message:message,insertMethod:function(msg){$('.page-main-actions').after(msg);}});});},complete:function(){$('body').trigger('processStop');}});return save.promise();}
function isValidFields(items){var result=true;_.each(items,function(item){if(!$.validator.validateSingleElement(item)){result=false;}});return result;}
return Collection.extend({defaults:{additionalFields:[],additionalInvalid:false,selectorPrefix:'.page-content',messagesClass:'messages',errorClass:'.admin__field._error',eventPrefix:'.${ $.index }',ajaxSave:false,ajaxSaveType:'default',imports:{reloadUrl:'${ $.provider}:reloadUrl'},listens:{selectorPrefix:'destroyAdapter initAdapter','${ $.name }.${ $.reloadItem }':'params.set reload'},exports:{selectorPrefix:'${ $.provider }:client.selectorPrefix',messagesClass:'${ $.provider }:client.messagesClass'}},initialize:function(){this._super().initAdapter();resolver(this.hideLoader,this);return this;},initObservable:function(){return this._super().observe(['responseData','responseStatus']);},initConfig:function(){this._super();this.selector='[data-form-part='+this.namespace+']';return this;},initAdapter:function(){adapter.on({'reset':this.reset.bind(this),'save':this.save.bind(this,true,{}),'saveAndContinue':this.save.bind(this,false,{})},this.selectorPrefix,this.eventPrefix);return this;},destroyAdapter:function(){adapter.off(['reset','save','saveAndContinue'],this.eventPrefix);return this;},hideLoader:function(){loader.get(this.name).hide();return this;},save:function(redirect,data){this.validate();if(!this.additionalInvalid&&!this.source.get('params.invalid')){this.setAdditionalData(data).submit(redirect);}else{this.focusInvalid();}},focusInvalid:function(){var invalidField=_.find(this.delegate('checkInvalid'));if(!_.isUndefined(invalidField)&&_.isFunction(invalidField.focused)){invalidField.focused(true);}
return this;},setAdditionalData:function(data){_.each(data,function(value,name){this.source.set('data.'+name,value);},this);return this;},submit:function(redirect){var additional=collectData(this.additionalFields),source=this.source;_.each(additional,function(value,name){source.set('data.'+name,value);});source.save({redirect:redirect,ajaxSave:this.ajaxSave,ajaxSaveType:this.ajaxSaveType,response:{data:this.responseData,status:this.responseStatus},attributes:{id:this.namespace}});},validate:function(){this.additionalFields=document.querySelectorAll(this.selector);this.source.set('params.invalid',false);this.source.trigger('data.validate');this.set('additionalInvalid',!isValidFields(this.additionalFields));},reset:function(){this.source.trigger('data.reset');$('[data-bind*=datepicker]').val('');},overload:function(){this.source.trigger('data.overload');},reload:function(){makeRequest(this.params,this.data,this.reloadUrl).then(function(data){app(data,true);});}});});define('Magento_Checkout/js/view/authentication',['jquery','Magento_Ui/js/form/form','Magento_Customer/js/action/login','Magento_Customer/js/model/customer','mage/validation','Magento_Checkout/js/model/authentication-messages','Magento_Checkout/js/model/full-screen-loader'],function($,Component,loginAction,customer,validation,messageContainer,fullScreenLoader){'use strict';var checkoutConfig=window.checkoutConfig;return Component.extend({isGuestCheckoutAllowed:checkoutConfig.isGuestCheckoutAllowed,isCustomerLoginRequired:checkoutConfig.isCustomerLoginRequired,registerUrl:checkoutConfig.registerUrl,forgotPasswordUrl:checkoutConfig.forgotPasswordUrl,autocomplete:checkoutConfig.autocomplete,defaults:{template:'Magento_Checkout/authentication'},isActive:function(){return!customer.isLoggedIn();},login:function(loginForm){var loginData={},formDataArray=$(loginForm).serializeArray();formDataArray.forEach(function(entry){loginData[entry.name]=entry.value;});if($(loginForm).validation()&&$(loginForm).validation('isValid')){fullScreenLoader.startLoader();loginAction(loginData,checkoutConfig.checkoutUrl,false,messageContainer).always(function(){fullScreenLoader.stopLoader();});}}});});define('Magento_Checkout/js/view/billing-address-mixin',['jquery','ko','underscore','Magento_Ui/js/form/form','Magento_Customer/js/model/customer','Magento_Customer/js/model/address-list','Magento_Checkout/js/model/quote','Magento_Checkout/js/checkout-data','Magento_Checkout/js/action/select-billing-address'],function($,ko,_,Component,customer,addressList,quote,checkoutData,selectBillingAddress){'use strict';var addressOptions=addressList().filter(function(address){return address.getType()==='customer-address';}),lastSelectedBillAddress=null,billingAddressMixin={defaults:{loginText:window.checkoutConfig.payment.jdgroup_revolve.guestMessage},initObservable:function(){this.tabIndicesGenerated=false;this.tabIndices={tabMapping:{'[name$=".street.0"]':15,'[name$=".custom_attributes.building_details"]':18,'[name$=".custom_attributes.suburb"]':22,'[name$=".city"]':20,'[name$=".region_id"]':16,'[name$=".postcode"]':23,'[name$=".firstname"]':17,'[name$=".lastname"]':19,'[name$=".telephone"]':21,'[name$=".vat_id"]':24,'[name$=".custom_attributes.nickname"]':25},container:'.billing-address-form'};this._super().observe({selectedAddress:null,isAddressDetailsVisible:quote.billingAddress()!=null,isAddressFormVisible:!customer.isLoggedIn()||!addressOptions.length,isAddressSameAsShipping:false,saveInAddressBook:1});quote.billingAddress.subscribe(function(newAddress){if(quote.isVirtual()){this.isAddressSameAsShipping(false);}else{this.isAddressSameAsShipping(newAddress!=null&&newAddress.getCacheKey()==quote.shippingAddress().getCacheKey());}
if(newAddress!=null&&newAddress.saveInAddressBook!==undefined){this.saveInAddressBook(newAddress.saveInAddressBook);}else{this.saveInAddressBook(1);}
if(customer.isLoggedIn()&&addressOptions.length&&(!this.isAddressSameAsShipping()||quote.isVirtual())){this.isAddressDetailsVisible(false);}else{this.isAddressDetailsVisible(true);}},this);return this;},setTabIndices:function(){var $billingForm=$(this.tabIndices.container),key,$element;for(key in this.tabIndices.tabMapping){if(this.tabIndices.tabMapping.hasOwnProperty(key)){$element=$billingForm.find(key+' input');$element=$element.length?$element:$billingForm.find(key+' select');$element.attr('tabindex',this.tabIndices.tabMapping[key]);}}},useShippingAddress:function(){if(this.isAddressSameAsShipping()){selectBillingAddress(quote.shippingAddress());this.updateAddresses();this.isAddressDetailsVisible(true);}else{lastSelectedBillAddress=quote.billingAddress();quote.billingAddress(null);this.isAddressDetailsVisible(false);if(!this.tabIndicesGenerated){this.tabIndicesGenerated=true;this.setTabIndices();}}
checkoutData.setSelectedBillingAddress(null);return true;},};return function(billingAddress){return billingAddress.extend(billingAddressMixin);};});define('Magento_Checkout/js/action/set-billing-address',['jquery','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','mage/storage','Magento_Checkout/js/model/error-processor','Magento_Customer/js/model/customer','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/get-payment-information'],function($,quote,urlBuilder,storage,errorProcessor,customer,fullScreenLoader,getPaymentInformationAction){'use strict';return function(messageContainer){var serviceUrl,payload;if(!customer.isLoggedIn()){serviceUrl=urlBuilder.createUrl('/guest-carts/:cartId/billing-address',{cartId:quote.getQuoteId()});payload={cartId:quote.getQuoteId(),address:quote.billingAddress()};}else{serviceUrl=urlBuilder.createUrl('/carts/mine/billing-address',{});payload={cartId:quote.getQuoteId(),address:quote.billingAddress()};}
fullScreenLoader.startLoader();return storage.post(serviceUrl,JSON.stringify(payload)).done(function(){var deferred=$.Deferred();getPaymentInformationAction(deferred);$.when(deferred).done(function(){fullScreenLoader.stopLoader();});}).fail(function(response){errorProcessor.process(response,messageContainer);fullScreenLoader.stopLoader();});};});(function(Math){var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,mathRandom=Math.random;function tinycolor(color,opts){color=(color)?color:'';opts=opts||{};if(color instanceof tinycolor){return color;}
if(!(this instanceof tinycolor)){return new tinycolor(color,opts);}
var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;if(this._r<1){this._r=mathRound(this._r);}
if(this._g<1){this._g=mathRound(this._g);}
if(this._b<1){this._b=mathRound(this._b);}
this._ok=rgb.ok;this._tc_id=tinyCounter++;}
tinycolor.prototype={isDark:function(){return this.getBrightness()<128;},isLight:function(){return!this.isDark();},isValid:function(){return this._ok;},getOriginalInput:function(){return this._originalInput;},getFormat:function(){return this._format;},getAlpha:function(){return this._a;},getBrightness:function(){var rgb=this.toRgb();return(rgb.r*299+rgb.g*587+rgb.b*114)/1000;},getLuminance:function(){var rgb=this.toRgb();var RsRGB,GsRGB,BsRGB,R,G,B;RsRGB=rgb.r/255;GsRGB=rgb.g/255;BsRGB=rgb.b/255;if(RsRGB<=0.03928){R=RsRGB/12.92;}else{R=Math.pow(((RsRGB+0.055)/1.055),2.4);}
if(GsRGB<=0.03928){G=GsRGB/12.92;}else{G=Math.pow(((GsRGB+0.055)/1.055),2.4);}
if(BsRGB<=0.03928){B=BsRGB/12.92;}else{B=Math.pow(((BsRGB+0.055)/1.055),2.4);}
return(0.2126*R)+(0.7152*G)+(0.0722*B);},setAlpha:function(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/100;return this;},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:this._a};},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(hsv.h*360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return(this._a==1)?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")";},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:this._a};},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return(this._a==1)?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")";},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char);},toHexString:function(allow3Char){return '#'+this.toHex(allow3Char);},toHex8:function(allow4Char){return rgbaToHex(this._r,this._g,this._b,this._a,allow4Char);},toHex8String:function(allow4Char){return '#'+this.toHex8(allow4Char);},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a};},toRgbString:function(){return(this._a==1)?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")";},toPercentageRgb:function(){return{r:mathRound(bound01(this._r,255)*100)+"%",g:mathRound(bound01(this._g,255)*100)+"%",b:mathRound(bound01(this._b,255)*100)+"%",a:this._a};},toPercentageRgbString:function(){return(this._a==1)?"rgb("+mathRound(bound01(this._r,255)*100)+"%, "+mathRound(bound01(this._g,255)*100)+"%, "+mathRound(bound01(this._b,255)*100)+"%)":"rgba("+mathRound(bound01(this._r,255)*100)+"%, "+mathRound(bound01(this._g,255)*100)+"%, "+mathRound(bound01(this._b,255)*100)+"%, "+this._roundA+")";},toName:function(){if(this._a===0){return "transparent";}
if(this._a<1){return false;}
return hexNames[rgbToHex(this._r,this._g,this._b,true)]||false;},toFilter:function(secondColor){var hex8String='#'+rgbaToArgbHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String='#'+rgbaToArgbHex(s._r,s._g,s._b,s._a);}
return "progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")";},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&(format==="hex"||format==="hex6"||format==="hex3"||format==="hex4"||format==="hex8"||format==="name");if(needsAlphaFormat){if(format==="name"&&this._a===0){return this.toName();}
return this.toRgbString();}
if(format==="rgb"){formattedString=this.toRgbString();}
if(format==="prgb"){formattedString=this.toPercentageRgbString();}
if(format==="hex"||format==="hex6"){formattedString=this.toHexString();}
if(format==="hex3"){formattedString=this.toHexString(true);}
if(format==="hex4"){formattedString=this.toHex8String(true);}
if(format==="hex8"){formattedString=this.toHex8String();}
if(format==="name"){formattedString=this.toName();}
if(format==="hsl"){formattedString=this.toHslString();}
if(format==="hsv"){formattedString=this.toHsvString();}
return formattedString||this.toHexString();},clone:function(){return tinycolor(this.toString());},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this;},lighten:function(){return this._applyModification(lighten,arguments);},brighten:function(){return this._applyModification(brighten,arguments);},darken:function(){return this._applyModification(darken,arguments);},desaturate:function(){return this._applyModification(desaturate,arguments);},saturate:function(){return this._applyModification(saturate,arguments);},greyscale:function(){return this._applyModification(greyscale,arguments);},spin:function(){return this._applyModification(spin,arguments);},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)));},analogous:function(){return this._applyCombination(analogous,arguments);},complement:function(){return this._applyCombination(complement,arguments);},monochromatic:function(){return this._applyCombination(monochromatic,arguments);},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments);},triad:function(){return this._applyCombination(triad,arguments);},tetrad:function(){return this._applyCombination(tetrad,arguments);}};tinycolor.fromRatio=function(color,opts){if(typeof color=="object"){var newColor={};for(var i in color){if(color.hasOwnProperty(i)){if(i==="a"){newColor[i]=color[i];}
else{newColor[i]=convertToPercentage(color[i]);}}}
color=newColor;}
return tinycolor(color,opts);};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var s=null;var v=null;var l=null;var ok=false;var format=false;if(typeof color=="string"){color=stringInputToObject(color);}
if(typeof color=="object"){if(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)==="%"?"prgb":"rgb";}
else if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)){s=convertToPercentage(color.s);v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,s,v);ok=true;format="hsv";}
else if(isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)){s=convertToPercentage(color.s);l=convertToPercentage(color.l);rgb=hslToRgb(color.h,s,l);ok=true;format="hsl";}
if(color.hasOwnProperty("a")){a=color.a;}}
a=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a};}
function rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255};}
function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min){h=s=0;}
else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h,s:s,l:l};}
function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}
if(s===0){r=g=b=l;}
else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}
return{r:r*255,g:g*255,b:b*255};}
function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d/max;if(max==min){h=0;}
else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h,s:s,v:v};}
function hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255};}
function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);}
return hex.join("");}
function rgbaToHex(r,g,b,a,allow4Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16)),pad2(convertDecimalToHex(a))];if(allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0);}
return hex.join("");}
function rgbaToArgbHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("");}
tinycolor.equals=function(color1,color2){if(!color1||!color2){return false;}
return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString();};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()});};function desaturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s-=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}
function saturate(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s+=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);}
function greyscale(color){return tinycolor(color).desaturate(100);}
function lighten(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l+=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}
function brighten(color,amount){amount=(amount===0)?0:(amount||10);var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount/100))));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount/100))));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount/100))));return tinycolor(rgb);}
function darken(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l-=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);}
function spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(hsl.h+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl);}
function complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl);}
function triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})];}
function tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})];}
function splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})];}
function analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=((hsl.h-(part*results>>1))+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl));}
return ret;}
function monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1;}
return ret;}
tinycolor.mix=function(color1,color2,amount){amount=(amount===0)?0:(amount||50);var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount/100;var rgba={r:((rgb2.r-rgb1.r)*p)+rgb1.r,g:((rgb2.g-rgb1.g)*p)+rgb1.g,b:((rgb2.b-rgb1.b)*p)+rgb1.b,a:((rgb2.a-rgb1.a)*p)+rgb1.a};return tinycolor(rgba);};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+0.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+0.05);};tinycolor.isReadable=function(color1,color2,wcag2){var readability=tinycolor.readability(color1,color2);var wcag2Parms,out;out=false;wcag2Parms=validateWCAG2Parms(wcag2);switch(wcag2Parms.level+wcag2Parms.size){case "AAsmall":case "AAAlarge":out=readability>=4.5;break;case "AAlarge":out=readability>=3;break;case "AAAsmall":out=readability>=7;break;}
return out;};tinycolor.mostReadable=function(baseColor,colorList,args){var bestColor=null;var bestScore=0;var readability;var includeFallbackColors,level,size;args=args||{};includeFallbackColors=args.includeFallbackColors;level=args.level;size=args.size;for(var i=0;i<colorList.length;i++){readability=tinycolor.readability(baseColor,colorList[i]);if(readability>bestScore){bestScore=readability;bestColor=tinycolor(colorList[i]);}}
if(tinycolor.isReadable(baseColor,bestColor,{"level":level,"size":size})||!includeFallbackColors){return bestColor;}
else{args.includeFallbackColors=false;return tinycolor.mostReadable(baseColor,["#fff","#000"],args);}};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o){if(o.hasOwnProperty(i)){flipped[o[i]]=i;}}
return flipped;}
function boundAlpha(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1;}
return a;}
function bound01(n,max){if(isOnePointZero(n)){n="100%";}
var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent){n=parseInt(n*max,10)/100;}
if((Math.abs(n-max)<0.000001)){return 1;}
return(n%max)/parseFloat(max);}
function clamp01(val){return mathMin(1,mathMax(0,val));}
function parseIntFromHex(val){return parseInt(val,16);}
function isOnePointZero(n){return typeof n=="string"&&n.indexOf('.')!=-1&&parseFloat(n)===1;}
function isPercentage(n){return typeof n==="string"&&n.indexOf('%')!=-1;}
function pad2(c){return c.length==1?'0'+c:''+c;}
function convertToPercentage(n){if(n<=1){n=(n*100)+"%";}
return n;}
function convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16);}
function convertHexToDecimal(h){return(parseIntFromHex(h)/255);}
var matchers=(function(){var CSS_INTEGER="[-\\+]?\\d+%?";var CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?";var CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")";var PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";var PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};})();function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color);}
function stringInputToObject(color){color=color.replace(trimLeft,'').replace(trimRight,'').toLowerCase();var named=false;if(names[color]){color=names[color];named=true;}
else if(color=='transparent'){return{r:0,g:0,b:0,a:0,format:"name"};}
var match;if((match=matchers.rgb.exec(color))){return{r:match[1],g:match[2],b:match[3]};}
if((match=matchers.rgba.exec(color))){return{r:match[1],g:match[2],b:match[3],a:match[4]};}
if((match=matchers.hsl.exec(color))){return{h:match[1],s:match[2],l:match[3]};}
if((match=matchers.hsla.exec(color))){return{h:match[1],s:match[2],l:match[3],a:match[4]};}
if((match=matchers.hsv.exec(color))){return{h:match[1],s:match[2],v:match[3]};}
if((match=matchers.hsva.exec(color))){return{h:match[1],s:match[2],v:match[3],a:match[4]};}
if((match=matchers.hex8.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"};}
if((match=matchers.hex6.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};}
if((match=matchers.hex4.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),a:convertHexToDecimal(match[4]+''+match[4]),format:named?"name":"hex8"};}
if((match=matchers.hex3.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),format:named?"name":"hex"};}
return false;}
function validateWCAG2Parms(parms){var level,size;parms=parms||{"level":"AA","size":"small"};level=(parms.level||"AA").toUpperCase();size=(parms.size||"small").toLowerCase();if(level!=="AA"&&level!=="AAA"){level="AA";}
if(size!=="small"&&size!=="large"){size="small";}
return{"level":level,"size":size};}
if(typeof module!=="undefined"&&module.exports){module.exports=tinycolor;}
else if(typeof define==='function'&&define.amd){define('tinycolor',function(){return tinycolor;});}
else{window.tinycolor=tinycolor;}})(Math);define('Magento_NegotiableQuote/js/action/set-billing-address-mixin',['jquery','mage/utils/wrapper','mage/storage','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/url-builder','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/get-totals','Magento_Checkout/js/action/get-payment-information'],function($,wrapper,storage,quote,urlBuilder,errorProcessor,fullScreenLoader,getTotalsAction,getPaymentInformationAction){'use strict';return function(setBillingAddress){return wrapper.wrap(setBillingAddress,function(originalAction,messageContainer){var serviceUrl,payload;if(window.checkoutConfig.isNegotiableQuote){serviceUrl=urlBuilder.createUrl('/negotiable-carts/:cartId/billing-address',{cartId:quote.getQuoteId()});payload={cartId:quote.getQuoteId(),address:quote.billingAddress()};fullScreenLoader.startLoader();return storage.post(serviceUrl,JSON.stringify(payload)).done(function(){if(!quote.isVirtual()){getTotalsAction([]);fullScreenLoader.stopLoader();}else{$.when(getPaymentInformationAction()).done(fullScreenLoader.stopLoader);}}).fail(function(response){errorProcessor.process(response,messageContainer);fullScreenLoader.stopLoader();});}
return originalAction(messageContainer);});};});define('Magento_Checkout/js/model/shipping-save-processor/payload-extender',[],function(){'use strict';return function(payload){payload.addressInformation['extension_attributes']={};return payload;};});define('Vaimo_ClickAndCollect/js/model/add-store-to-shipping-address',['mage/utils/wrapper','Vaimo_ClickAndCollect/js/model/checkout-data-glue'],function(wrapper,cncData){'use strict';return function(payloadExtender){return wrapper.wrap(payloadExtender,function(parentFunction,payload){var extensionAttributes,selectedStore=cncData.selectedStore(),isCncOrder=cncData.isCncOrder();payload=parentFunction(payload);if(isCncOrder&&selectedStore){extensionAttributes=payload.addressInformation['shipping_address']['extension_attributes']||{};extensionAttributes['storelocator_store']=selectedStore.entityId||selectedStore['entity_id'];payload.addressInformation['shipping_address']['extension_attributes']=extensionAttributes;}
return payload;});};});define('Magento_Checkout/js/model/shipping-save-processor/default',['ko','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/resource-url-manager','mage/storage','Magento_Checkout/js/model/payment-service','Magento_Checkout/js/model/payment/method-converter','Magento_Checkout/js/model/error-processor','Magento_Checkout/js/model/full-screen-loader','Magento_Checkout/js/action/select-billing-address','Magento_Checkout/js/model/shipping-save-processor/payload-extender'],function(ko,quote,resourceUrlManager,storage,paymentService,methodConverter,errorProcessor,fullScreenLoader,selectBillingAddressAction,payloadExtender){'use strict';return{saveShippingInformation:function(){var payload;if(!quote.billingAddress()&&quote.shippingAddress().canUseForBilling()){selectBillingAddressAction(quote.shippingAddress());}
payload={addressInformation:{'shipping_address':quote.shippingAddress(),'billing_address':quote.billingAddress(),'shipping_method_code':quote.shippingMethod()['method_code'],'shipping_carrier_code':quote.shippingMethod()['carrier_code']}};payloadExtender(payload);fullScreenLoader.startLoader();return storage.post(resourceUrlManager.getUrlForSetShippingInformation(quote),JSON.stringify(payload)).done(function(response){quote.setTotals(response.totals);paymentService.setPaymentMethods(methodConverter(response['payment_methods']));fullScreenLoader.stopLoader();}).fail(function(response){errorProcessor.process(response);fullScreenLoader.stopLoader();});}};});define('Magento_Checkout/js/model/shipping-save-processor',['Magento_Checkout/js/model/shipping-save-processor/default'],function(defaultProcessor){'use strict';var processors={};processors['default']=defaultProcessor;return{registerProcessor:function(type,processor){processors[type]=processor;},saveShippingInformation:function(type){var rates=[];if(processors[type]){rates=processors[type].saveShippingInformation();}else{rates=processors['default'].saveShippingInformation();}
return rates;}};});define('Magento_GiftRegistry/js/view/shipping-address/gift-registry',['uiComponent','Magento_GiftRegistry/js/model/recipient-address','Magento_Customer/js/model/address-list','Magento_Checkout/js/model/shipping-rate-service','Magento_GiftRegistry/js/model/shipping-rate-processor/gift-registry','Magento_Checkout/js/model/shipping-save-processor','Magento_GiftRegistry/js/model/shipping-save-processor/gift-registry'],function(Component,RecipientAddress,addressList,shippingRateService,shippingRateProcessor,shippingSaveProcessor,giftRegistryShippingSaveProcessor){'use strict';if(window.checkoutConfig.giftRegistry.available&&window.checkoutConfig.giftRegistry.id){addressList.push(new RecipientAddress(window.checkoutConfig.giftRegistry.id));}
shippingRateService.registerProcessor('gift-registry',shippingRateProcessor);shippingSaveProcessor.registerProcessor('gift-registry',giftRegistryShippingSaveProcessor);return Component.extend({});});define('Magento_Checkout/js/action/set-shipping-information',['../model/quote','Magento_Checkout/js/model/shipping-save-processor'],function(quote,shippingSaveProcessor){'use strict';return function(){return shippingSaveProcessor.saveShippingInformation(quote.shippingAddress().getType());};});define('Magento_Ui/js/lib/validation/utils',function(){'use strict';var utils={isEmpty:function(value){return value===''||value==null||value.length===0||/^\s+$/.test(value);},isEmptyNoTrim:function(value){return value===''||value==null||value.length===0;},isBetween:function(value,from,to){return(from===null||from===''||value>=utils.parseNumber(from))&&(to===null||to===''||value<=utils.parseNumber(to));},parseNumber:function(value){var isDot,isComa;if(typeof value!=='string'){return parseFloat(value);}
isDot=value.indexOf('.');isComa=value.indexOf(',');if(isDot!==-1&&isComa!==-1){if(isComa>isDot){value=value.replace('.','').replace(',','.');}else{value=value.replace(',','');}}else if(isComa!==-1){value=value.replace(',','.');}
return parseFloat(value);},stripHtml:function(value){return value.replace(/<.[^<>]*?>/g,' ').replace(/&nbsp;|&#160;/gi,' ').replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,'');}};return utils;});define('Magento_Ui/js/lib/validation/rules',['jquery','underscore','./utils','moment','tinycolor','jquery/validate','mage/translate'],function($,_,utils,moment,tinycolor){'use strict';function validateCreditCard(s){var v='0123456789',w='',i,j,k,m,c,a,x;for(i=0;i<s.length;i++){x=s.charAt(i);if(v.indexOf(x,0)!==-1){w+=x;}}
j=w.length/2;k=Math.floor(j);m=Math.ceil(j)-k;c=0;for(i=0;i<k;i++){a=w.charAt(i*2+m)*2;c+=a>9?Math.floor(a/10+a%10):a;}
for(i=0;i<k+m;i++){c+=w.charAt(i*2+1-m)*1;}
return c%10===0;}
return _.mapObject({'min_text_length':[function(value,params){return _.isUndefined(value)||value.length===0||value.length>=+params;},$.mage.__('Please enter more or equal than {0} symbols.')],'max_text_length':[function(value,params){return!_.isUndefined(value)&&value.length<=+params;},$.mage.__('Please enter less or equal than {0} symbols.')],'max-words':[function(value,params){return utils.isEmpty(value)||utils.stripHtml(value).match(/\b\w+\b/g).length<params;},$.mage.__('Please enter {0} words or less.')],'min-words':[function(value,params){return utils.isEmpty(value)||utils.stripHtml(value).match(/\b\w+\b/g).length>=params;},$.mage.__('Please enter at least {0} words.')],'range-words':[function(value,params){var match=utils.stripHtml(value).match(/\b\w+\b/g)||[];return utils.isEmpty(value)||match.length>=params[0]&&match.length<=params[1];},$.mage.__('Please enter between {0} and {1} words.')],'letters-with-basic-punc':[function(value){return utils.isEmpty(value)||/^[a-z\-.,()\u0027\u0022\s]+$/i.test(value);},$.mage.__('Letters or punctuation only please')],'alphanumeric':[function(value){return utils.isEmpty(value)||/^\w+$/i.test(value);},$.mage.__('Letters, numbers, spaces or underscores only please')],'letters-only':[function(value){return utils.isEmpty(value)||/^[a-z]+$/i.test(value);},$.mage.__('Letters only please')],'no-whitespace':[function(value){return utils.isEmpty(value)||/^\S+$/i.test(value);},$.mage.__('No white space please')],'no-marginal-whitespace':[function(value){return!/^\s+|\s+$/i.test(value);},$.mage.__('No marginal white space please')],'zip-range':[function(value){return utils.isEmpty(value)||/^90[2-5]-\d{2}-\d{4}$/.test(value);},$.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')],'integer':[function(value){return utils.isEmpty(value)||/^-?\d+$/.test(value);},$.mage.__('A positive or negative non-decimal number please')],'vinUS':[function(value){if(utils.isEmpty(value)){return true;}
if(value.length!==17){return false;}
var i,n,d,f,cd,cdv,LL=['A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z'],VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],rs=0;for(i=0;i<17;i++){f=FL[i];d=value.slice(i,i+1);if(i===8){cdv=d;}
if(!isNaN(d)){d*=f;}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n===8){cdv=LL[n];}
break;}}}
rs+=d;}
cd=rs%11;if(cd===10){cd='X';}
if(cd===cdv){return true;}
return false;},$.mage.__('The specified vehicle identification number (VIN) is invalid.')],'dateITA':[function(value){var check=false,re=/^\d{1,2}\/\d{1,2}\/\d{4}$/,adata,gg,mm,aaaa,xdata;if(re.test(value)){adata=value.split('/');gg=parseInt(adata[0],10);mm=parseInt(adata[1],10);aaaa=parseInt(adata[2],10);xdata=new Date(aaaa,mm-1,gg);if(xdata.getFullYear()===aaaa&&xdata.getMonth()===mm-1&&xdata.getDate()===gg){check=true;}else{check=false;}}else{check=false;}
return check;},$.mage.__('Please enter a correct date')],'dateNL':[function(value){return /^\d\d?[\.\/-]\d\d?[\.\/-]\d\d\d?\d?$/.test(value);},$.mage.__('Vul hier een geldige datum in.')],'time':[function(value){return utils.isEmpty(value)||/^([01]\d|2[0-3])(:[0-5]\d){0,2}$/.test(value);},$.mage.__('Please enter a valid time, between 00:00 and 23:59')],'time12h':[function(value){return utils.isEmpty(value)||/^((0?[1-9]|1[012])(:[0-5]\d){0,2}(\s[AP]M))$/i.test(value);},$.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')],'phoneUS':[function(value){value=value.replace(/\s+/g,'');return utils.isEmpty(value)||value.length>9&&value.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/);},$.mage.__('Please specify a valid phone number')],'phoneUK':[function(value){return utils.isEmpty(value)||value.length>9&&value.match(/^(\(?(0|\+44)[1-9]{1}\d{1,4}?\)?\s?\d{3,4}\s?\d{3,4})$/);},$.mage.__('Please specify a valid phone number')],'mobileUK':[function(value){return utils.isEmpty(value)||value.length>9&&value.match(/^((0|\+44)7\d{3}\s?\d{6})$/);},$.mage.__('Please specify a valid mobile number')],'stripped-min-length':[function(value,param){return _.isUndefined(value)||value.length===0||utils.stripHtml(value).length>=param;},$.mage.__('Please enter at least {0} characters')],'email2':[function(value){return utils.isEmpty(value)||/^((([a-z]|\d|[!#\$%&\u0027\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&\u0027\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\u0022)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\u0022)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);},$.validator.messages.email],'url2':[function(value){return utils.isEmpty(value)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\u0027\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\u0027\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\u0027\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\u0027\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&\u0027\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},$.validator.messages.url],'credit-card-types':[function(value,param){var validTypes;if(utils.isEmpty(value)){return true;}
if(/[^0-9-]+/.test(value)){return false;}
value=value.replace(/\D/g,'');validTypes=0x0000;if(param.mastercard){validTypes|=0x0001;}
if(param.visa){validTypes|=0x0002;}
if(param.amex){validTypes|=0x0004;}
if(param.dinersclub){validTypes|=0x0008;}
if(param.enroute){validTypes|=0x0010;}
if(param.discover){validTypes|=0x0020;}
if(param.jcb){validTypes|=0x0040;}
if(param.unknown){validTypes|=0x0080;}
if(param.all){validTypes=0x0001|0x0002|0x0004|0x0008|0x0010|0x0020|0x0040|0x0080;}
if(validTypes&0x0001&&/^(51|52|53|54|55)/.test(value)){return value.length===16;}
if(validTypes&0x0002&&/^(4)/.test(value)){return value.length===16;}
if(validTypes&0x0004&&/^(34|37)/.test(value)){return value.length===15;}
if(validTypes&0x0008&&/^(300|301|302|303|304|305|36|38)/.test(value)){return value.length===14;}
if(validTypes&0x0010&&/^(2014|2149)/.test(value)){return value.length===15;}
if(validTypes&0x0020&&/^(6011)/.test(value)){return value.length===16;}
if(validTypes&0x0040&&/^(3)/.test(value)){return value.length===16;}
if(validTypes&0x0040&&/^(2131|1800)/.test(value)){return value.length===15;}
if(validTypes&0x0080){return true;}
return false;},$.mage.__('Please enter a valid credit card number.')],'ipv4':[function(value){return utils.isEmpty(value)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);},$.mage.__('Please enter a valid IP v4 address.')],'ipv6':[function(value){return utils.isEmpty(value)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);},$.mage.__('Please enter a valid IP v6 address.')],'pattern':[function(value,param){return utils.isEmpty(value)||new RegExp(param).test(value);},$.mage.__('Invalid format.')],'validate-no-html-tags':[function(value){return!/<(\/)?\w+/.test(value);},$.mage.__('HTML tags are not allowed.')],'validate-select':[function(value){return value!=='none'&&value!=null&&value.length!==0;},$.mage.__('Please select an option.')],'validate-no-empty':[function(value){return!utils.isEmpty(value);},$.mage.__('Empty Value.')],'validate-alphanum-with-spaces':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z0-9 ]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')],'validate-data':[function(value){return utils.isEmptyNoTrim(value)||/^[A-Za-z]+[A-Za-z0-9_]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-street':[function(value){return utils.isEmptyNoTrim(value)||/^[ \w]{3,}([A-Za-z]\.)?([ \w]*\#\d+)?(\r\n| )[ \w]{3,}/.test(value);},$.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and "#" in this field.')],'validate-phoneStrict':[function(value){return utils.isEmptyNoTrim(value)||/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/.test(value);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-phoneLax':[function(value){return utils.isEmptyNoTrim(value)||/^((\d[\-. ]?)?((\(\d{3}\))|\d{3}))?[\-. ]?\d{3}[\-. ]?\d{4}$/.test(value);},$.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')],'validate-fax':[function(value){return utils.isEmptyNoTrim(value)||/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/.test(value);},$.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')],'validate-email':[function(value){return utils.isEmptyNoTrim(value)||/^([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i.test(value);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-emailSender':[function(value){return utils.isEmptyNoTrim(value)||/^[\S ]+$/.test(value);},$.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')],'validate-password':[function(value){var pass;if(value==null){return false;}
pass=$.trim(value);if(!pass.length){return true;}
return!(pass.length>0&&pass.length<6);},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-admin-password':[function(value){var pass;if(value==null){return false;}
pass=$.trim(value);if(pass.length===0){return true;}
if(!/[a-z]/i.test(value)||!/[0-9]/.test(value)){return false;}
if(pass.length<7){return false;}
return true;},$.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')],'validate-customer-password':[function(v,elm){var validator=this,counter=0,passwordMinLength=$(elm).data('password-min-length'),passwordMinCharacterSets=$(elm).data('password-min-character-sets'),pass=$.trim(v),result=pass.length>=passwordMinLength;if(result===false){validator.passwordErrorMessage=$.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1',passwordMinLength);return result;}
if(pass.match(/\d+/)){counter++;}
if(pass.match(/[a-z]+/)){counter++;}
if(pass.match(/[A-Z]+/)){counter++;}
if(pass.match(/[^a-zA-Z0-9]+/)){counter++;}
if(counter<passwordMinCharacterSets){result=false;validator.passwordErrorMessage=$.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1',passwordMinCharacterSets);}
return result;},function(){return this.passwordErrorMessage;}],'validate-url':[function(value){if(utils.isEmptyNoTrim(value)){return true;}
value=(value||'').replace(/^\s+/,'').replace(/\s+$/,'');return(/^(http|https|ftp):\/\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\d+))?(\/[A-Z0-9~](([A-Z0-9_~-]|\.)*[A-Z0-9~]|))*\/?(.*)?$/i).test(value);},$.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')],'validate-clean-url':[function(value){return utils.isEmptyNoTrim(value)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i.test(value)||/^(www)((\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i.test(value);},$.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')],'validate-xml-identifier':[function(value){return utils.isEmptyNoTrim(value)||/^[A-Z][A-Z0-9_\/-]*$/i.test(value);},$.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')],'validate-ssn':[function(value){return utils.isEmptyNoTrim(value)||/^\d{3}-?\d{2}-?\d{4}$/.test(value);},$.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')],'validate-zip-us':[function(value){return utils.isEmptyNoTrim(value)||/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(value);},$.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')],'validate-date-au':[function(value){var regex=/^(\d{2})\/(\d{2})\/(\d{4})$/,d;if(utils.isEmptyNoTrim(value)){return true;}
if(utils.isEmpty(value)||!regex.test(value)){return false;}
d=new Date(value.replace(regex,'$2/$1/$3'));return parseInt(RegExp.$2,10)===1+d.getMonth()&&parseInt(RegExp.$1,10)===d.getDate()&&parseInt(RegExp.$3,10)===d.getFullYear();},$.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')],'validate-currency-dollar':[function(value){return utils.isEmptyNoTrim(value)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(value);},$.mage.__('Please enter a valid $ amount. For example $100.00.')],'validate-not-negative-number':[function(value){if(utils.isEmptyNoTrim(value)){return true;}
value=utils.parseNumber(value);return!isNaN(value)&&value>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-zero-or-greater':[function(value){if(utils.isEmptyNoTrim(value)){return true;}
value=utils.parseNumber(value);return!isNaN(value)&&value>=0;},$.mage.__('Please enter a number 0 or greater in this field.')],'validate-greater-than-zero':[function(value){if(utils.isEmptyNoTrim(value)){return true;}
value=utils.parseNumber(value);return!isNaN(value)&&value>0;},$.mage.__('Please enter a number greater than 0 in this field.')],'validate-css-length':[function(value){if(value!==''){return(/^[0-9]*\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(value);}
return true;},$.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')],'validate-number':[function(value){return utils.isEmptyNoTrim(value)||!isNaN(utils.parseNumber(value))&&/^\s*-?\d*(?:[.,|'|\s]\d+)*(?:[.,|'|\s]\d{2})?-?\s*$/.test(value);},$.mage.__('Please enter a valid number in this field.')],'validate-integer':[function(value){return utils.isEmptyNoTrim(value)||!isNaN(utils.parseNumber(value))&&/^\s*-?\d*\s*$/.test(value);},$.mage.__('Please enter a valid integer in this field.')],'validate-number-range':[function(value,param){var numValue,dataAttrRange,result,range,m;if(utils.isEmptyNoTrim(value)){return true;}
numValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}
dataAttrRange=/^(-?[\d.,]+)?-(-?[\d.,]+)?$/;result=true;range=param;if(range){m=dataAttrRange.exec(range);if(m){result=result&&utils.isBetween(numValue,m[1],m[2]);}}
return result;},$.mage.__('The value is not within the specified range.')],'validate-positive-percent-decimal':[function(value){var numValue;if(utils.isEmptyNoTrim(value)||!/^\s*-?\d*(\.\d*)?\s*$/.test(value)){return false;}
numValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}
return utils.isBetween(numValue,0.01,100);},$.mage.__('Please enter a valid percentage discount value greater than 0.')],'validate-digits':[function(value){return utils.isEmptyNoTrim(value)||!/[^\d]/.test(value);},$.mage.__('Please enter a valid number in this field.')],'validate-digits-range':[function(value,param){var numValue,dataAttrRange,result,range,m;if(utils.isEmptyNoTrim(value)){return true;}
numValue=utils.parseNumber(value);if(isNaN(numValue)){return false;}
dataAttrRange=/^(-?\d+)?-(-?\d+)?$/;result=true;range=param;if(range){m=dataAttrRange.exec(range);if(m){result=result&&utils.isBetween(numValue,m[1],m[2]);}}
return result;},$.mage.__('The value is not within the specified range.')],'validate-range':[function(value){var minValue,maxValue,ranges;if(utils.isEmptyNoTrim(value)){return true;}else if($.validator.methods['validate-digits']&&$.validator.methods['validate-digits'](value)){minValue=maxValue=utils.parseNumber(value);}else{ranges=/^(-?\d+)?-(-?\d+)?$/.exec(value);if(ranges){minValue=utils.parseNumber(ranges[1]);maxValue=utils.parseNumber(ranges[2]);if(minValue>maxValue){return false;}}else{return false;}}},$.mage.__('The value is not within the specified range.')],'validate-alpha':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z]+$/.test(value);},$.mage.__('Please use letters only (a-z or A-Z) in this field.')],'validate-code':[function(value){return utils.isEmptyNoTrim(value)||/^[a-z]+[a-z0-9_]+$/.test(value);},$.mage.__('Please use only lowercase letters (a-z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.')],'validate-alphanum':[function(value){return utils.isEmptyNoTrim(value)||/^[a-zA-Z0-9]+$/.test(value);},$.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.')],'validate-not-number-first':[function(value){return utils.isEmptyNoTrim(value)||/^[^0-9-\.].*$/.test(value.trim());},$.mage.__('First character must be letter.')],'validate-date':[function(value,params,additionalParams){var test=moment(value,additionalParams.dateFormat);return utils.isEmptyNoTrim(value)||test.isValid();},$.mage.__('Please enter a valid date.')],'validate-date-range':[function(value,params){var fromDate=$('input[name*="'+params+'"]').val();return moment.utc(value).unix()>=moment.utc(fromDate).unix()||isNaN(moment.utc(value).unix());},$.mage.__('Make sure the To Date is later than or the same as the From Date.')],'validate-identifier':[function(value){return utils.isEmptyNoTrim(value)||/^[a-z0-9][a-z0-9_\/-]+(\.[a-z0-9_-]+)?$/.test(value);},$.mage.__('Please enter a valid URL Key (Ex: "example-page", "example-page.html" or "anotherlevel/example-page").')],'validate-zip-international':[function(){return true;},$.mage.__('Please enter a valid zip code.')],'validate-state':[function(value){return value!==0||value==='';},$.mage.__('Please select State/Province.')],'less-than-equals-to':[function(value,params){if($.isNumeric(params)&&$.isNumeric(value)){return parseFloat(value)<=parseFloat(params);}
return true;},$.mage.__('Please enter a value less than or equal to {0}.')],'greater-than-equals-to':[function(value,params){if($.isNumeric(params)&&$.isNumeric(value)){return parseFloat(value)>=parseFloat(params);}
return true;},$.mage.__('Please enter a value greater than or equal to {0}.')],'validate-emails':[function(value){var validRegexp,emails,i;if(utils.isEmpty(value)){return true;}
validRegexp=/^[a-z0-9\._-]{1,30}@([a-z0-9_-]{1,30}\.){1,5}[a-z]{2,4}$/i;emails=value.split(/[\s\n\,]+/g);for(i=0;i<emails.length;i++){if(!validRegexp.test(emails[i].strip())){return false;}}
return true;},$.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')],'validate-cc-number':[function(value){if(value){return validateCreditCard(value);}
return true;},$.mage.__('Please enter a valid credit card number.')],'validate-cc-ukss':[function(value){return value;},$.mage.__('Please enter issue number or start date for switch/solo card type.')],'required-entry':[function(value){return!utils.isEmpty(value);},$.mage.__('This is a required field.')],'checked':[function(value){return value;},$.mage.__('This is a required field.')],'not-negative-amount':[function(value){if(value.length){return(/^\s*\d+([,.]\d+)*\s*%?\s*$/).test(value);}
return true;},$.mage.__('Please enter positive number in this field.')],'validate-per-page-value-list':[function(value){var isValid=true,values=value.split(','),i;if(utils.isEmpty(value)){return isValid;}
for(i=0;i<values.length;i++){if(!/^[0-9]+$/.test(values[i])){isValid=false;}}
return isValid;},$.mage.__('Please enter a valid value, ex: 10,20,30')],'validate-new-password':[function(value){if($.validator.methods['validate-password']&&!$.validator.methods['validate-password'](value)){return false;}
if(utils.isEmpty(value)&&value!==''){return false;}
return true;},$.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')],'validate-item-quantity':[function(value,params){var validator=this,result=false,qty=utils.parseNumber(value),isMinAllowedValid=typeof params.minAllowed==='undefined'||qty>=utils.parseNumber(params.minAllowed),isMaxAllowedValid=typeof params.maxAllowed==='undefined'||qty<=utils.parseNumber(params.maxAllowed),isQtyIncrementsValid=typeof params.qtyIncrements==='undefined'||qty%utils.parseNumber(params.qtyIncrements)===0;result=qty>0;if(result===false){validator.itemQtyErrorMessage=$.mage.__('Please enter a quantity greater than 0.');return result;}
result=isMinAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The fewest you may purchase is %1.').replace('%1',params.minAllowed);return result;}
result=isMaxAllowedValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('The maximum you may purchase is %1.').replace('%1',params.maxAllowed);return result;}
result=isQtyIncrementsValid;if(result===false){validator.itemQtyErrorMessage=$.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1',params.qtyIncrements);return result;}
return result;},function(){return this.itemQtyErrorMessage;}],'equalTo':[function(value,param){return value===$(param).val();},$.validator.messages.equalTo],'validate-file-type':[function(name,types){var extension=name.split('.').pop().toLowerCase();if(types&&typeof types==='string'){types=types.split(' ');}
return!types||!types.length||~types.indexOf(extension);},$.mage.__('We don\'t recognize or support this file extension type.')],'validate-max-size':[function(size,maxSize){return maxSize===false||size<maxSize;},$.mage.__('File you are trying to upload exceeds maximum file size limit.')],'validate-if-tag-script-exist':[function(value){return!value||(/<script\b[^>]*>([\s\S]*?)<\/script>$/ig).test(value);},$.mage.__('Please use tag SCRIPT with SRC attribute or with proper content to include JavaScript to the document.')],'date_range_min':[function(value,minValue,params){return moment.utc(value,params.dateFormat).unix()>=minValue;},$.mage.__('The date is not within the specified range.')],'date_range_max':[function(value,maxValue,params){return moment.utc(value,params.dateFormat).unix()<=maxValue;},$.mage.__('The date is not within the specified range.')],'validate-color':[function(value){if(value===''){return true;}
return tinycolor(value).isValid();},$.mage.__('Wrong color format. Please specify color in HEX, RGBa, HSVa, HSLa or use color name.')],'blacklist-url':[function(value,param){return new RegExp(param).test(value);},$.mage.__('This link is not allowed.')],'validate-dob':[function(value){if(value===''){return true;}
return moment(value).isBefore(moment());},$.mage.__('The Date of Birth should not be greater than today.')]},function(data){return{handler:data[0],message:data[1]};});});define('Magento_Ui/js/lib/validation/validator',['underscore','./rules'],function(_,rulesList){'use strict';function validate(id,value,params,additionalParams){var rule,message,valid,result={rule:id,passed:true,message:''};if(_.isObject(params)){message=params.message||'';}
if(!rulesList[id]){return result;}
rule=rulesList[id];message=message||rule.message;valid=rule.handler(value,params,additionalParams);if(!valid){params=Array.isArray(params)?params:[params];if(typeof message==='function'){message=message.call(rule);}
message=params.reduce(function(msg,param,idx){return msg.replace(new RegExp('\\{'+idx+'\\}','g'),param);},message);result.passed=false;result.message=message;}
return result;}
function validator(rules,value,additionalParams){var result;if(typeof rules==='object'){result={passed:true};_.every(rules,function(ruleParams,id){if(ruleParams.validate||ruleParams!==false||additionalParams){result=validate(id,value,ruleParams,additionalParams);return result.passed;}
return true;});return result;}
return validate.apply(null,arguments);}
validator.addRule=function(id,handler,message){rulesList[id]={handler:handler,message:message};};validator.getRule=function(id){return rulesList[id];};return validator;});define('Magento_Ui/js/form/element/abstract',['underscore','mageUtils','uiLayout','uiElement','Magento_Ui/js/lib/validation/validator'],function(_,utils,layout,Element,validator){'use strict';return Element.extend({defaults:{visible:true,preview:'',focused:false,required:false,disabled:false,valueChangedByUser:false,elementTmpl:'ui/form/element/input',tooltipTpl:'ui/form/element/helper/tooltip',fallbackResetTpl:'ui/form/element/helper/fallback-reset','input_type':'input',placeholder:false,description:'',labelVisible:true,label:'',error:'',warn:'',notice:'',customScope:'',default:'',isDifferedFromDefault:false,showFallbackReset:false,additionalClasses:{},isUseDefault:'',serviceDisabled:false,valueUpdate:false,switcherConfig:{component:'Magento_Ui/js/form/switcher',name:'${ $.name }_switcher',target:'${ $.name }',property:'value'},listens:{visible:'setPreview',value:'setDifferedFromDefault','${ $.provider }:data.reset':'reset','${ $.provider }:data.overload':'overload','${ $.provider }:${ $.customScope ? $.customScope + "." : ""}data.validate':'validate','isUseDefault':'toggleUseDefault'},ignoreTmpls:{value:true},links:{value:'${ $.provider }:${ $.dataScope }'}},initialize:function(){_.bindAll(this,'reset');this._super().setInitialValue()._setClasses().initSwitcher();return this;},checkInvalid:function(){return this.error()&&this.error().length?this:null;},initObservable:function(){var rules=this.validation=this.validation||{};this._super();this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault').observe('isUseDefault serviceDisabled').observe({'required':!!rules['required-entry']});return this;},initConfig:function(){var uid=utils.uniqueid(),name,valueUpdate,scope;this._super();scope=this.dataScope.split('.');name=scope.length>1?scope.slice(1):scope;valueUpdate=this.showFallbackReset?'afterkeydown':this.valueUpdate;_.extend(this,{uid:uid,noticeId:'notice-'+uid,errorId:'error-'+uid,inputName:utils.serializeName(name.join('.')),valueUpdate:valueUpdate});return this;},initSwitcher:function(){if(this.switcherConfig.enabled){layout([this.switcherConfig]);}
return this;},setInitialValue:function(){this.initialValue=this.getInitialValue();if(this.value.peek()!==this.initialValue){this.value(this.initialValue);}
this.on('value',this.onUpdate.bind(this));this.isUseDefault(this.disabled());return this;},_setClasses:function(){var additional=this.additionalClasses;if(_.isString(additional)){this.additionalClasses={};if(additional.trim().length){additional=additional.trim().split(' ');additional.forEach(function(name){if(name.length){this.additionalClasses[name]=true;}},this);}}
_.extend(this.additionalClasses,{_required:this.required,_error:this.error,_warn:this.warn,_disabled:this.disabled});return this;},getInitialValue:function(){var values=[this.value(),this.default],value;values.some(function(v){if(v!==null&&v!==undefined){value=v;return true;}
return false;});return this.normalizeData(value);},setVisible:function(isVisible){this.visible(isVisible);return this;},show:function(){this.visible(true);return this;},hide:function(){this.visible(false);return this;},disable:function(){this.disabled(true);return this;},enable:function(){this.disabled(false);return this;},setValidation:function(rule,options){var rules=utils.copy(this.validation),changed;if(_.isObject(rule)){_.extend(this.validation,rule);}else{this.validation[rule]=options;}
changed=!utils.compare(rules,this.validation).equal;if(changed){this.required(!!rules['required-entry']);this.validate();}
return this;},getPreview:function(){return this.value();},hasAddons:function(){return this.addbefore||this.addafter;},hasService:function(){return this.service&&this.service.template;},hasChanged:function(){var notEqual=this.value()!==this.initialValue;return!this.visible()?false:notEqual;},hasData:function(){return!utils.isEmpty(this.value());},reset:function(){this.value(this.initialValue);this.error(false);return this;},overload:function(){this.setInitialValue();this.bubble('update',this.hasChanged());},clear:function(){this.value('');return this;},normalizeData:function(value){return utils.isEmpty(value)?'':value;},validate:function(){var value=this.value(),result=validator(this.validation,value,this.validationParams),message=!this.disabled()&&this.visible()?result.message:'',isValid=this.disabled()||!this.visible()||result.passed;this.error(message);this.error.valueHasMutated();this.bubble('error',message);if(this.source&&!isValid){this.source.set('params.invalid',true);}
return{valid:isValid,target:this};},onUpdate:function(){this.bubble('update',this.hasChanged());this.validate();},restoreToDefault:function(){this.value(this.default);this.focused(true);},setDifferedFromDefault:function(){var value=typeof this.value()!='undefined'&&this.value()!==null?this.value():'',defaultValue=typeof this.default!='undefined'&&this.default!==null?this.default:'';this.isDifferedFromDefault(value!==defaultValue);},toggleUseDefault:function(state){this.disabled(state);if(this.source&&this.hasService()){this.source.set('data.use_default.'+this.index,Number(state));}},userChanges:function(){this.valueChangedByUser=true;},getDescriptionId:function(){var id=false;if(this.error()){id=this.errorId;}else if(this.notice()){id=this.noticeId;}
return id;}});});define('Magento_Ui/js/form/element/post-code',['underscore','uiRegistry','./abstract'],function(_,registry,Abstract){'use strict';return Abstract.extend({defaults:{imports:{update:'${ $.parentName }.country_id:value'}},initObservable:function(){this._super();this.value.equalityComparer=function(oldValue,newValue){return!oldValue&&!newValue||oldValue===newValue;};return this;},update:function(value){var country=registry.get(this.parentName+'.'+'country_id'),options=country.indexedOptions,option=null;if(!value){return;}
option=options[value];if(!option){return;}
if(option['is_zipcode_optional']){this.error(false);this.validation=_.omit(this.validation,'required-entry');}else{this.validation['required-entry']=true;}
this.required(!option['is_zipcode_optional']);}});});define('Magento_Ui/js/form/element/select',['underscore','mageUtils','uiRegistry','./abstract','uiLayout'],function(_,utils,registry,Abstract,layout){'use strict';var inputNode={parent:'${ $.$data.parentName }',component:'Magento_Ui/js/form/element/abstract',template:'${ $.$data.template }',provider:'${ $.$data.provider }',name:'${ $.$data.index }_input',dataScope:'${ $.$data.customEntry }',customScope:'${ $.$data.customScope }',sortOrder:{after:'${ $.$data.name }'},displayArea:'body',label:'${ $.$data.label }'};function parseOptions(nodes,captionValue){var caption,value;nodes=_.map(nodes,function(node){value=node.value;if(value===null||value===captionValue){if(_.isUndefined(caption)){caption=node.label;}}else{return node;}});return{options:_.compact(nodes),caption:_.isString(caption)?caption:false};}
function findFirst(data){var value;data.some(function(node){value=node.value;if(Array.isArray(value)){value=findFirst(value);}
return!_.isUndefined(value);});return value;}
function indexOptions(data,result){var value;result=result||{};data.forEach(function(item){value=item.value;if(Array.isArray(value)){indexOptions(value,result);}else{result[value]=item;}});return result;}
return Abstract.extend({defaults:{customName:'${ $.parentName }.${ $.index }_input',elementTmpl:'ui/form/element/select',caption:'',options:[]},initialize:function(){this._super();if(this.customEntry){registry.get(this.name,this.initInput.bind(this));}
if(this.filterBy){this.initFilter();}
return this;},initObservable:function(){this._super();this.initialOptions=this.options;this.observe('options caption').setOptions(this.options());return this;},initFilter:function(){var filter=this.filterBy;this.filter(this.default,filter.field);this.setLinks({filter:filter.target},'imports');return this;},initInput:function(){layout([utils.template(inputNode,this)]);return this;},normalizeData:function(){var value=this._super(),option;if(value!==''){option=this.getOption(value);return option&&option.value;}
if(!this.caption()){return findFirst(this.options);}},filter:function(value,field){var source=this.initialOptions,result;field=field||this.filterBy.field;result=_.filter(source,function(item){return item[field]===value||item.value==='';});this.setOptions(result);},toggleInput:function(isVisible){registry.get(this.customName,function(input){input.setVisible(isVisible);});},setOptions:function(data){var captionValue=this.captionValue||'',result=parseOptions(data,captionValue),isVisible;this.indexedOptions=indexOptions(result.options);this.options(result.options);if(!this.caption()){this.caption(result.caption);}
if(this.customEntry){isVisible=!!result.options.length;this.setVisible(isVisible);this.toggleInput(!isVisible);}
return this;},getPreview:function(){var value=this.value(),option=this.indexedOptions[value],preview=option?option.label:'';this.preview(preview);return preview;},getOption:function(value){return this.indexedOptions[value];},clear:function(){var value=this.caption()?'':findFirst(this.options);this.value(value);return this;},setInitialValue:function(){if(_.isUndefined(this.value())&&!this.default){this.clear();}
return this._super();}});});define('Magento_Ui/js/form/element/region',['underscore','uiRegistry','./select','Magento_Checkout/js/model/default-post-code-resolver'],function(_,registry,Select,defaultPostCodeResolver){'use strict';return Select.extend({defaults:{skipValidation:false,imports:{update:'${ $.parentName }.country_id:value'}},update:function(value){var country=registry.get(this.parentName+'.'+'country_id'),options=country.indexedOptions,isRegionRequired,option;if(!value){return;}
option=options[value];if(typeof option==='undefined'){return;}
defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);if(this.skipValidation){this.validation['required-entry']=false;this.required(false);}else{if(option&&!option['is_region_required']){this.error(false);this.validation=_.omit(this.validation,'required-entry');registry.get(this.customName,function(input){input.validation['required-entry']=false;input.required(false);});}else{this.validation['required-entry']=true;}
if(option&&!this.options().length){registry.get(this.customName,function(input){isRegionRequired=!!option['is_region_required'];input.validation['required-entry']=isRegionRequired;input.validation['validate-not-number-first']=true;input.required(isRegionRequired);});}
this.required(!!option['is_region_required']);}},filter:function(value,field){var superFn=this._super;registry.get(this.parentName+'.'+'country_id',function(country){var option=country.indexedOptions[value];superFn.call(this,value,field);if(option&&option['is_region_visible']===false){this.setVisible(false);if(this.customEntry){this.toggleInput(false);}}}.bind(this));}});});define('Magento_Checkout/js/model/default-validation-rules',[],function(){'use strict';return{getRules:function(){return{'country_id':{'required':true}};}};});define('Magento_Checkout/js/model/default-validator',['jquery','mageUtils','./default-validation-rules','mage/translate'],function($,utils,validationRules,$t){'use strict';return{validationErrors:[],validate:function(address){var self=this;this.validationErrors=[];$.each(validationRules.getRules(),function(field,rule){var message;if(rule.required&&utils.isEmpty(address[field])){message=$t('Field ')+field+$t(' is required.');self.validationErrors.push(message);}});return!this.validationErrors.length;}};});define('Magento_Checkout/js/model/shipping-rates-validator',['jquery','ko','./shipping-rates-validation-rules','../model/address-converter','../action/select-shipping-address','./postcode-validator','./default-validator','mage/translate','uiRegistry','Magento_Checkout/js/model/shipping-address/form-popup-state','Magento_Checkout/js/model/quote'],function($,ko,shippingRatesValidationRules,addressConverter,selectShippingAddress,postcodeValidator,defaultValidator,$t,uiRegistry,formPopUpState){'use strict';var checkoutConfig=window.checkoutConfig,validators=[],observedElements=[],postcodeElements=[],postcodeElementName='postcode';validators.push(defaultValidator);return{validateAddressTimeout:0,validateZipCodeTimeout:0,validateDelay:2000,registerValidator:function(carrier,validator){if(checkoutConfig.activeCarriers.indexOf(carrier)!==-1){validators.push(validator);}},validateAddressData:function(address){return validators.some(function(validator){return validator.validate(address);});},initFields:function(formPath){var self=this,elements=shippingRatesValidationRules.getObservableFields();if($.inArray(postcodeElementName,elements)===-1){elements.push(postcodeElementName);}
$.each(elements,function(index,field){uiRegistry.async(formPath+'.'+field)(self.doElementBinding.bind(self));});},doElementBinding:function(element,force,delay){var observableFields=shippingRatesValidationRules.getObservableFields();if(element&&(observableFields.indexOf(element.index)!==-1||force)){if(element.index!==postcodeElementName){this.bindHandler(element,delay);}}
if(element.index===postcodeElementName){this.bindHandler(element,delay);postcodeElements.push(element);}},bindChangeHandlers:function(elements,force,delay){var self=this;$.each(elements,function(index,elem){self.doElementBinding(elem,force,delay);});},bindHandler:function(element,delay){var self=this;delay=typeof delay==='undefined'?self.validateDelay:delay;if(element.component.indexOf('/group')!==-1){$.each(element.elems(),function(index,elem){self.bindHandler(elem);});}else{element.on('value',function(){clearTimeout(self.validateZipCodeTimeout);self.validateZipCodeTimeout=setTimeout(function(){if(element.index===postcodeElementName){self.postcodeValidation(element);}else{$.each(postcodeElements,function(index,elem){self.postcodeValidation(elem);});}},delay);if(!formPopUpState.isVisible()){clearTimeout(self.validateAddressTimeout);self.validateAddressTimeout=setTimeout(function(){self.validateFields();},delay);}});observedElements.push(element);}},postcodeValidation:function(postcodeElement){var countryId=$('select[name="country_id"]:visible').val(),validationResult,warnMessage;if(postcodeElement==null||postcodeElement.value()==null){return true;}
postcodeElement.warn(null);validationResult=postcodeValidator.validate(postcodeElement.value(),countryId);if(!validationResult){warnMessage=$t('Provided Zip/Postal Code seems to be invalid.');if(postcodeValidator.validatedPostCodeExample.length){warnMessage+=$t(' Example: ')+postcodeValidator.validatedPostCodeExample.join('; ')+'. ';}
warnMessage+=$t('If you believe it is the right one you can ignore this notice.');postcodeElement.warn(warnMessage);}
return validationResult;},validateFields:function(){var addressFlat=addressConverter.formDataProviderToFlatData(this.collectObservedData(),'shippingAddress'),address;if(this.validateAddressData(addressFlat)){addressFlat=uiRegistry.get('checkoutProvider').shippingAddress;address=addressConverter.formAddressDataToQuoteAddress(addressFlat);selectShippingAddress(address);}},collectObservedData:function(){var observedValues={};$.each(observedElements,function(index,field){observedValues[field.dataScope]=field.value();});return observedValues;}};});define('Magento_OfflineShipping/js/view/shipping-rates-validation/flatrate',['uiComponent','Magento_Checkout/js/model/shipping-rates-validator','Magento_Checkout/js/model/shipping-rates-validation-rules','../../model/shipping-rates-validator/flatrate','../../model/shipping-rates-validation-rules/flatrate'],function(Component,defaultShippingRatesValidator,defaultShippingRatesValidationRules,flatrateShippingRatesValidator,flatrateShippingRatesValidationRules){'use strict';defaultShippingRatesValidator.registerValidator('flatrate',flatrateShippingRatesValidator);defaultShippingRatesValidationRules.registerRules('flatrate',flatrateShippingRatesValidationRules);return Component;});define('Magento_OfflineShipping/js/view/shipping-rates-validation/freeshipping',['uiComponent','Magento_Checkout/js/model/shipping-rates-validator','Magento_Checkout/js/model/shipping-rates-validation-rules','../../model/shipping-rates-validator/freeshipping','../../model/shipping-rates-validation-rules/freeshipping'],function(Component,defaultShippingRatesValidator,defaultShippingRatesValidationRules,freeshippingShippingRatesValidator,freeshippingShippingRatesValidationRules){'use strict';defaultShippingRatesValidator.registerValidator('freeshipping',freeshippingShippingRatesValidator);defaultShippingRatesValidationRules.registerRules('freeshipping',freeshippingShippingRatesValidationRules);return Component;});;define('Vaimo_MatrixRates/js/view/shipping-rates-validation/matrixrate',['uiComponent','Magento_Checkout/js/model/shipping-rates-validator','Magento_Checkout/js/model/shipping-rates-validation-rules','vaimoMatrixRates/model/shipping-rates-validator/matrixrate','vaimoMatrixRates/model/shipping-rates-validation-rules/matrixrate'],function(Component,defaultValidator,defaultValidationRules,validator,validationRules){'use strict';defaultValidator.registerValidator('matrixrate',validator);defaultValidationRules.registerRules('matrixrate',validationRules);return Component;});define('Amazon_Payment/js/view/shipping',['jquery','Magento_Checkout/js/view/shipping','Magento_Customer/js/model/customer','Amazon_Payment/js/model/storage'],function($,Component,customer,amazonStorage){'use strict';return Component.extend({initialize:function(){this._super();this.isNewAddressAdded(amazonStorage.isAmazonAccountLoggedIn());amazonStorage.isAmazonAccountLoggedIn.subscribe(function(value){this.isNewAddressAdded(value);},this);return this;},validateGuestEmail:function(){var loginFormSelector='form[data-role=email-with-possible-login]';$(loginFormSelector).validation();return $(loginFormSelector+' input[type=email]').valid();},validateShippingInformation:function(){if(!amazonStorage.isAmazonAccountLoggedIn()){return this._super();}
if(!customer.isLoggedIn()){return this.validateGuestEmail();}
return true;}});});define('text!Magento_Ui/template/messages.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div data-role="checkout-messages" class="messages" data-bind="visible: isVisible(), click: removeAll">\n    <!-- ko foreach: messageContainer.getErrorMessages() -->\n    <div role="alert" class="message message-error error">\n        <div data-ui-id="checkout-cart-validationmessages-message-error" data-bind="text: $data"></div>\n    </div>\n    <!--/ko-->\n    <!-- ko foreach: messageContainer.getSuccessMessages() -->\n    <div role="alert" class="message message-success success">\n        <div data-ui-id="checkout-cart-validationmessages-message-success" data-bind="text: $data"></div>\n    </div>\n    <!--/ko-->\n</div>\n';});define('text!Magento_Checkout/template/summary/need-help.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<div class="cart-need-help checkout"\n     if="checkoutConfig.cmsBlocks && checkoutConfig.cmsBlocks[\'CheckoutNeedHelpCms\']"\n     data-bind="html: checkoutConfig.cmsBlocks[\'CheckoutNeedHelpCms\']"/>\n';});define('Magento_Checkout/js/model/proceed-button',['jquery','ko','uiRegistry','Magento_Checkout/js/model/quote','Magento_Checkout/js/model/step-navigator','Magento_Checkout/js/model/checkout-agreements','Magento_Checkout/js/action/set-shipping-information','Vaimo_ClickAndCollect/js/model/checkout-data-glue','Magento_Checkout/js/model/proceed-button','mage/translate'],function($,ko,uiRegistry,quote,stepNavigator,checkoutAgreements,setShippingAddress,cncData){'use strict';var buttonLabelMap,addressValid=true,shippingLabel,paymentLabel;function getButtonState(){if(stepNavigator.isProcessed('shipping')){return quote.paymentMethod()&&checkoutAgreements.allAgreementsAgreedTo();}
return quote.shippingMethod();}
function getButtonLabel(){var label=shippingLabel;if(stepNavigator.isProcessed('shipping')){label=paymentLabel;if(typeof buttonLabelMap!=='undefined'&&quote.paymentMethod()&&quote.paymentMethod().method in buttonLabelMap){label=buttonLabelMap[quote.paymentMethod().method];}
if(quote.paymentMethod()&&quote.paymentMethod().method==='jdgroup_revolve'&&!window.checkoutConfig.isCustomerLoggedIn){$('.action.primary.checkout.proceed-button').attr('disabled',true);}else{$('.action.primary.checkout.proceed-button').attr('disabled',false);}}
return label;}
return{enabled:ko.computed(getButtonState),label:ko.computed(getButtonLabel),setPaymentMethodMapping:function(labelMap){buttonLabelMap=labelMap;},setDefaultProceedLabels:function(shippingText,paymentText){shippingLabel=shippingText;paymentLabel=paymentText;},proceed:function(){if(stepNavigator.isProcessed('shipping')){uiRegistry.get(['checkout.steps.billing-step.payment.payments-list.'+quote.paymentMethod().method,'checkout.steps.billing-step.payment.payments-list.'+quote.paymentMethod().method+'-form'],function(item,form){if(!form.isAddressDetailsVisible()&&form.isAddressFormVisible()){form.updateAddress(true);if(form.source.get('params.invalid')){addressValid=false;}else{addressValid=true;}}else{addressValid=true;}});if(!addressValid){return;}
if(cncData.isCncOrder()){uiRegistry.get('checkout.steps.billing-step.payment.payments-list.'+quote.paymentMethod().method+'-form',function(billingAddress){billingAddress.updateAddress();quote.shippingAddress(quote.billingAddress());billingAddress.isAddressDetailsVisible(false);billingAddress.isAddressSameAsShipping(false);setShippingAddress().done(function(){uiRegistry.get('checkout.steps.billing-step.payment.payments-list.'+quote.paymentMethod().method,function(paymentMethod){if(paymentMethod.index==='peachpayments_hosted_card'){paymentMethod.peachPlaceOrder();}else if(paymentMethod.index==='mobicred'){paymentMethod.displayOtpRequestModal();}else if(paymentMethod.index==='jdgroup_revolve'){paymentMethod.validateRevolveCustomerAccount();}else{paymentMethod.placeOrder();}});});});}else{uiRegistry.get('checkout.steps.billing-step.payment.payments-list.'+quote.paymentMethod().method,function(item){if(item.index==='peachpayments_hosted_card'){item.peachPlaceOrder();}else if(item.index==='mobicred'){item.displayOtpRequestModal();}else if(item.index==='jdgroup_revolve'){item.validateRevolveCustomerAccount();}else{item.placeOrder();}});}}else{uiRegistry.get('checkout.steps.shipping-step.shippingAddress',function(item){item.setShippingInformation();});}}};});define('Magento_Checkout/js/view/proceed-button',['jquery','underscore','ko','uiComponent','Magento_Checkout/js/model/proceed-button','Magento_Checkout/js/model/step-navigator','mage/translate'],function($,_,ko,Component,proceedButton,stepNavigator){'use strict';return Component.extend({defaults:{links:{showProceed:'checkout.sabcPopup:canProceed'},template:'Magento_Checkout/proceed-button',showProceed:ko.observable(true),paymentMethodButtonMapping:{paygate:$.mage.__('Pay Now'),payumea_creditcard:$.mage.__('Pay Using Card'),peachpayments_hosted_card:$.mage.__('Pay Using Card'),zapperpay:$.mage.__('Pay Now')},shippingLabel:$.mage.__('Continue to payment'),paymentLabel:$.mage.__('Place Order')},initialize:function(){this._super();proceedButton.setPaymentMethodMapping(this.paymentMethodButtonMapping);proceedButton.setDefaultProceedLabels(this.shippingLabel,this.paymentLabel);this.mergePaymentLabels();},enabled:function(){return 0;},label:function(){return '';},showAgreements:function(){return stepNavigator.isProcessed('shipping');},mergePaymentLabels:function(){if(checkoutConfig.paymentButtonLabels){this.paymentMethodButtonMapping=$.extend(this.paymentMethodButtonMapping,checkoutConfig.paymentButtonLabels);}},initObservable:function(){this._super();this.enabled=ko.computed(function(){return proceedButton.enabled();});this.label=ko.computed(function(){if(typeof proceedButton.label()==='undefined'){return $.mage.__('Continue to payment');}
return proceedButton.label();});return this;},handleProceed:proceedButton.proceed});});define('text!Magento_Checkout/template/sidebar.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n\n<div id="opc-sidebar"\n     data-bind="afterRender:setModalElement, mageInit: {\n    \'Magento_Ui/js/modal/modal\':{\n        \'type\': \'custom\',\n        \'modalClass\': \'opc-sidebar opc-summary-wrapper\',\n        \'wrapperClass\': \'checkout-container\',\n        \'parentModalClass\': \'_has-modal-custom\',\n        \'responsive\': true,\n        \'responsiveClass\': \'custom-slide\',\n        \'overlayClass\': \'modal-custom-overlay\',\n        \'buttons\': []\n    }}">\n\n    <!-- ko foreach: getRegion(\'summary\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!--/ko-->\n\n    <div class="opc-block-shipping-information">\n        <!-- ko foreach: getRegion(\'shipping-information\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n        <!--/ko-->\n    </div>\n</div>\n';});define('text!Vaimo_Sabcapi/template/checkout-popup.html',function(){return '<!--\n Copyright (c) Vaimo Group. All rights reserved.\n See LICENSE_VAIMO.txt for license details.\n-->\n\n<!-- ko if: show -->\n<div class="sabc-popup">\n    <div class="popup-content"\n         data-bind="\n            css: {\n                \'loading-active\': popupContent() == 0,\n                \'validate-active\': popupContent() == 1,\n                \'proceed-active\': popupContent() == 2\n            }\n         ">\n        <div class="sbp-header">\n            <h2>TV Licence Validation</h2>\n        </div>\n        <div class="sbp-content-wrap loading">\n            <div class="sbp-content">\n                <div class="loader">\n                    <div class="preloader-wrapper big active">\n                        <div class="spinner-layer">\n                            <div class="circle-clipper left">\n                                <div class="circle"></div>\n                            </div>\n                            <div class="gap-patch">\n                                <div class="circle"></div>\n                            </div>\n                            <div class="circle-clipper right">\n                                <div class="circle"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="sbp-content-wrap validate">\n            <div class="sbp-content">\n                <div class="description-block" ifnot="cmsPopupContent">\n                    <p>\n                        Your cart contains one or more TV products.<br>\n                        In order to proceed with checkout process, we require to validate your TV licence.\n                    </p>\n                    <p>\n                        Enter your preferred identification number and click validate.<br>\n                        Or return to your cart and remove all TV products in order to proceed without validation.\n                    </p>\n                </div>\n                <div class="description-block" if="cmsPopupContent" data-bind="html: cmsPopupContent"></div>\n                <div class="identifier-type">\n                    <div class="identity-radio-field field">\n                        <div class="control">\n                            <input type="radio"\n                                   name="sbp_identifier_type"\n                                   id="sbp-identity-num-radio"\n                                   value="id"\n                                   data-bind="\n                                        checked: getSelected\n                                   " />\n                            <label for="sbp-identity-num-radio" data-bind="\n                                text: idTypes.id.label\n                            "></label>\n                        </div>\n                    </div>\n                    <div class="passport-field field">\n                        <div class="control">\n                            <input type="radio"\n                                   name="sbp_identifier_type"\n                                   id="sbp-passport-num-radio"\n                                   value="pa"\n                                   data-bind="\n                                        checked: getSelected\n                                   " />\n                            <label for="sbp-passport-num-radio" data-bind="\n                                text: idTypes.pa.label\n                            "></label>\n                        </div>\n                    </div>\n                </div>\n                <div class="sbp-fake-input-wrap" data-bind="\n                    css: {\n                        \'error\': !!errorMessage().length\n                    }\n                ">\n                    <input type="text"\n                           class="sbp-real-input id-num"\n                           data-bind="\n                                disable: disabledId,\n                                hasFocus: idTypes.id.focus,\n                                textInput: idTypes.id.softValue,\n                                event: {\n                                    select: preventSelect\n                                }\n                           " />\n                    <input type="text"\n                           class="sbp-real-input passport-num"\n                           data-bind="\n                                disable: disabledPassport,\n                                hasFocus: idTypes.pa.focus,\n                                textInput: idTypes.pa.softValue,\n                                event: {\n                                    select: preventSelect\n                                }\n                           " />\n                    <div class="sbp-fake-input" data-bind="\n                        css: {\n                            \'id-num-active\': idTypes.id.selected(),\n                            \'passport-num-active\': idTypes.pa.selected(),\n                            \'focused\': getSelectedFocused(),\n                            \'has-value\': hasValue(),\n                            \'error\': !!errorMessage().length\n                        },\n                        click: fakeInputClicked\n                    ">\n                        <div class="id-num fake-input-placeholder">Identity number</div>\n                        <div class="passport-num fake-input-placeholder">Passport number</div>\n                        <div style="width: 100%;" class="id-num fake-input-content" contenteditable="true" data-bind="text: prefillId, css: {disabled: disabledId}"></div>\n                        <div style="width: 100%;" class="passport-num fake-input-content" contenteditable="true" data-bind="text: prefillPass, css: {disabled: disabledPassport}"></div>\n                    </div>\n                    <!-- ko if: errorMessage().length -->\n                    <div class="error-message" data-bind="text: errorMessage"></div>\n                    <!-- /ko -->\n                </div>\n                <div class="actions">\n                    <button class="action"\n                            id="sbp-return-to-cart"\n                            translate="\'Return to cart\'"\n                            data-bind="\n                                click: cancel\n                            "></button>\n                    <button class="action primary"\n                            id="sbp-validate"\n                            translate="\'Validate\'"\n                            data-bind="\n                                click: validate,\n                                css: {\n                                    \'disabled\': !allowValidate()\n                                }\n                            "></button>\n                </div>\n                <div class="sbp-products" data-bind="\n                    click: productListToggle,\n                    css: {\n                        \'active\': productListOpen\n                    }\n                    ">\n                    <div class="title">\n                        TV products in cart\n                        (<span data-bind="text: tvProducts.length"></span>\n                        <if args="tvProducts.length > 1"><span translate="\'items\'"></span>)</if>\n                        <ifnot args="tvProducts.length > 1"><span translate="\'item\'"></span>)</ifnot>\n                    </div>\n                    <div class="product-list-wrap"\n                         id="sbp_product_list"\n                         afterRender="initProdListDrop()">\n                        <div class="product-list" each="tvProducts">\n                            <div data-bind="text: name"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="sbp-content-wrap proceed">\n            <div class="sbp-content">\n                <div class="description-block">\n                    <!-- ko if: proceedState() -->\n                    <div class="messages">\n                        <div class="message-error error message"\n                             data-bind="attr: {\n                                class: \'message-\' + proceedContent().state + \' \' +\n                                    proceedContent().state + \' message\'\n                             }">\n                            <div data-bind="html: proceedContent().message"></div>\n                        </div>\n                    </div>\n                    <!-- /ko -->\n                </div>\n                <div class="actions">\n                    <button class="action"\n                            id="sbp-return-to-cart"\n                            translate="\'Return to validation\'"\n                            data-bind="\n                                click: returnAction\n                            "></button>\n                    <button class="action primary"\n                            id="sbp-validate"\n                            translate="\'Proceed\'"\n                            data-bind="\n                                css: {\n                                    \'disabled\': preventProceed\n                                },\n                                click: proceed\n                            "></button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- /ko -->\n';});define('Magento_Checkout/js/model/payment/method-group',['uiElement','mage/translate'],function(Element,$t){'use strict';var DEFAULT_GROUP_ALIAS='default';return Element.extend({defaults:{alias:DEFAULT_GROUP_ALIAS,title:$t('Payment Method'),sortOrder:100,displayArea:'payment-methods-items-${ $.alias }'},isDefault:function(){return this.alias===DEFAULT_GROUP_ALIAS;}});});define('text!Magento_Checkout/template/authentication.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div class="authentication-wrapper" data-block="authentication" data-bind="visible: isActive()">\n    <button\n        type="button"\n        class="action action-auth-toggle"\n        data-trigger="authentication">\n        <span data-bind="i18n: \'Sign In\'"></span>\n    </button>\n    <div class="block-authentication"\n         style="display: none"\n         data-bind="mageInit: {\n            \'Magento_Ui/js/modal/modal\':{\n                \'type\': \'popup\',\n                \'modalClass\': \'authentication-dropdown\',\n                \'trigger\': \'[data-trigger=authentication]\',\n                \'parentModalClass\': \'_has-modal-custom _has-auth-shown\',\n                \'responsive\': true,\n                \'responsiveClass\': \'_inner-scroll\',\n                \'overlayClass\': \'dropdown-overlay modals-overlay\',\n                \'focus\': false,\n                \'buttons\': []\n            }}">\n        <!-- ko foreach: getRegion(\'before\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n        <!-- /ko -->\n        <div class="block block-customer-login"\n             data-bind="attr: {\'data-label\': $t(\'or\')}">\n            <div class="block-title">\n                <div id="block-customer-login-heading"\n                    role="heading"\n                    aria-level="2"\n                    data-bind="i18n: \'Sign In\'"></div>\n            </div>\n            <!-- ko foreach: getRegion(\'messages\') -->\n            <!-- ko template: getTemplate() --><!-- /ko -->\n            <!--/ko-->\n            <div class="block-content" aria-labelledby="block-customer-login-heading">\n                <form data-role="login"\n                      data-bind="submit:login"\n                      method="post">\n                    <div class="fieldset"\n                              data-bind="attr: {\'data-hasrequired\': $t(\'* Required Fields\')}">\n                        <div class="field field-email required force-not-empty">\n                            <label class="label" for="login-email">\n                                <span data-bind="i18n: \'Email Address\'">\n\n                                </span></label>\n                            <div class="control">\n                                <input type="email"\n                                       class="input-text"\n                                       id="login-email"\n                                       name="username"\n                                       data-bind="attr: {\n                                            autocomplete: autocomplete\n                                       }"\n                                       data-validate="{required:true, \'validate-email\':true}" />\n                            </div>\n                        </div>\n                        <div class="field field-password required force-not-empty">\n                            <a class="action action-remind" data-bind="attr: { href: forgotPasswordUrl }">\n                                <span data-bind="i18n: \'Forgot Password?\'"></span>\n                            </a>\n                            <label for="login-password" class="label"><span data-bind="i18n: \'Password\'"></span></label>\n                            <div class="control">\n                                <input type="password"\n                                       class="input-text"\n                                       id="login-password"\n                                       name="password"\n                                       data-bind="attr: {\n                                            autocomplete: autocomplete\n                                       }"\n                                       data-validate="{required:true}"\n                                       autocomplete="off"/>\n                            </div>\n                        </div>\n                        <!-- ko foreach: getRegion(\'additional-login-form-fields\') -->\n                        <!-- ko template: getTemplate() --><!-- /ko -->\n                        <!-- /ko -->\n                    </div>\n                    <div class="actions-toolbar">\n                        <input name="context" type="hidden" value="checkout" />\n                        <div class="primary">\n                            <button type="submit" class="action action-login secondary">\n                                <span data-bind="i18n: \'Sign In\'"></span>\n                            </button>\n                        </div>\n                        <div class="login-action-divider">\n                            <span data-bind="i18n: \'or\'"></span>\n                        </div>\n                        <div class="primary">\n                            <button type="button" class="action action-continue primary" data-role="closeBtn">\n                                <span data-bind="i18n: \'Continue as a Guest\'"></span>\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n';});define('text!Magento_Checkout/template/payment.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<li id="payment" role="presentation" class="checkout-payment-method" data-bind="fadeVisible: isVisible">\n    <div id="checkout-step-payment"\n         class="step-content"\n         data-role="content"\n         role="tabpanel"\n         aria-hidden="false">\n        <form id="co-payment-form" class="form payments" novalidate="novalidate">\n            <input data-bind=\'attr: {value: getFormKey()}\' type="hidden" name="form_key"/>\n            <fieldset class="fieldset">\n                <legend class="legend">\n                    <span data-bind="i18n: \'Payment Information\'"></span>\n                </legend>\n                <!-- ko foreach: getRegion(\'beforeMethods\') -->\n                    <!-- ko template: getTemplate() --><!-- /ko -->\n                <!-- /ko -->\n                <div id="checkout-payment-method-load"\n                     class="opc-payment"\n                     data-bind="visible: isPaymentMethodsAvailable">\n                    <!-- ko foreach: getRegion(\'payment-methods-list\') -->\n                        <!-- ko template: getTemplate() --><!-- /ko -->\n                    <!-- /ko -->\n                </div>\n                <div class="no-quotes-block" data-bind="visible: isPaymentMethodsAvailable() == false">\n                    <!-- ko i18n: \'No Payment method available.\'--><!-- /ko -->\n                </div>\n                <!-- ko foreach: getRegion(\'afterMethods\') -->\n                    <!-- ko template: getTemplate() --><!-- /ko -->\n                <!-- /ko -->\n            </fieldset>\n        </form>\n    </div>\n</li>\n';});define('text!Magento_Checkout/template/shipping.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<!--Shipping method template-->\n<li id="opc-shipping_method"\n    class="checkout-shipping-method"\n    data-bind="fadeVisible: visible(), blockLoader: isLoading"\n    role="presentation">\n\n    <div class="checkout-shipping-method">\n        <div class="step-title"\n             translate="\'How would you like to receive your order?\'"\n             data-role="title" />\n\n        <each args="getRegion(\'before-shipping-method-form\')" render="" />\n\n        <div id="checkout-step-shipping_method"\n             class="step-content"\n             data-role="content"\n             role="tabpanel"\n             aria-hidden="false">\n            <form id="co-shipping-method-form"\n                  class="form methods-shipping"\n                  if="rates().length"\n                  submit="setShippingInformation"\n                  novalidate="novalidate">\n\n                <render args="shippingMethodListTemplate"/>\n\n                <div id="onepage-checkout-shipping-method-additional-load">\n                    <each args="getRegion(\'shippingAdditional\')" render="" />\n                </div>\n                <div role="alert"\n                     if="errorValidationMessage().length"\n                     class="message notice">\n                    <span text="errorValidationMessage()" />\n                </div>\n                <div class="actions-toolbar" id="shipping-method-buttons-container">\n                    <div class="primary">\n                        <button data-role="opc-continue" type="submit" class="button action continue primary">\n                            <span translate="\'Next\'" />\n                        </button>\n                    </div>\n                </div>\n            </form>\n            <div class="no-quotes-block"\n                 ifnot="rates().length > 0"\n                 translate="\'Sorry, no quotes are available for this order at this time\'" />\n        </div>\n    </div>\n</li>\n\n<li id="shipping" data-bind="fadeVisible: visible()">\n    <!-- Element step with \'shipping\' id is needed. -->\n    <!-- Otherwise going step back from payment method will not hide previous step -->\n\n    <each args="getRegion(\'after-shipping-methods\')" render="" />\n</li>\n';});define('text!Magento_Checkout/template/proceed-button.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<!-- ko if: showProceed() -->\n<div class="proceed-button-wrapper">\n    <!-- ko foreach: getRegion(\'before-place-order\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!--/ko-->\n\n    <button type="button" data-bind="enable: enabled(), click: handleProceed" class="action primary checkout proceed-button">\n        <span data-bind="text: label()">Continue</span>\n    </button>\n</div>\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/summary.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="opc-block-summary" data-bind="blockLoader: isLoading">\n    <span data-bind="i18n: \'Order Summary\'" class="title"></span>\n    <!-- ko foreach: elems() -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!-- /ko -->\n</div>\n';});define('Magento_Checkout/js/view/shipping-information/address-renderer/default',['uiComponent','underscore','Magento_Customer/js/customer-data'],function(Component,_,customerData){'use strict';var countryData=customerData.get('directory-data');return Component.extend({defaults:{template:'Magento_Checkout/shipping-information/address-renderer/default'},getCountryName:function(countryId){return countryData()[countryId]!=undefined?countryData()[countryId].name:'';},getCustomAttributeLabel:function(attribute){var resultAttribute;if(typeof attribute==='string'){return attribute;}
if(attribute.label){return attribute.label;}
if(typeof this.source.get('customAttributes')!=='undefined'){resultAttribute=_.findWhere(this.source.get('customAttributes')[attribute['attribute_code']],{value:attribute.value});}
return resultAttribute&&resultAttribute.label||attribute.value;}});});define('text!Magento_Checkout/template/back-link.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<a href="#" title="<%= backLabel %>" class="go-back">\n    <span class="icon__left"></span>\n    <span><%= backLabel %></span>\n</a>\n';});define('Magento_Checkout/js/view/progress-bar',['jquery','underscore','ko','uiComponent','Magento_Checkout/js/model/step-navigator','mage/url','mage/template','text!Magento_Checkout/template/back-link.html','mage/translate'],function($,_,ko,Component,stepNavigator,urlBuilder,templateEngine,backLinkTpl){'use strict';var steps=stepNavigator.steps;return Component.extend({defaults:{template:'Magento_Checkout/progress-bar',visible:true},steps:steps,initialize:function(){var stepsValue;this._super();window.addEventListener('hashchange',_.bind(stepNavigator.handleHash,stepNavigator));if(!window.location.hash){stepsValue=stepNavigator.steps();if(stepsValue.length){stepNavigator.setHash(stepsValue.sort(stepNavigator.sortItems)[0].code);}}
stepNavigator.handleHash();this.addHeaderBackLink();},addHeaderBackLink:function(){var $backLink=$(templateEngine(backLinkTpl,{backLabel:$.mage.__('Back')}));$('.header.content').prepend($backLink);$backLink.on('click.checkoutNavigateBack',this.navigateBack.bind(this));},navigateBack:function(e){e.preventDefault();_.each(this.steps(),function(step,index){if(step.isVisible()&&index===0){this.goToCart();}else if(step.isVisible()){this.navigateTo(this.steps()[index-1]);}}.bind(this));},goToCart:function(){window.location.href=window.checkoutConfig.cartUrl||urlBuilder.build(this.formAction);},sortItems:function(itemOne,itemTwo){return stepNavigator.sortItems(itemOne,itemTwo);},navigateTo:function(step){stepNavigator.navigateTo(step.code);},isProcessed:function(item){return stepNavigator.isProcessed(item.code);}});});define('Magento_Checkout/js/view/shipping-address/list',['underscore','ko','mageUtils','uiComponent','uiLayout','Magento_Customer/js/model/address-list'],function(_,ko,utils,Component,layout,addressList){'use strict';var defaultRendererTemplate={parent:'${ $.$data.parentName }',name:'${ $.$data.name }',component:'Magento_Checkout/js/view/shipping-address/address-renderer/default',provider:'checkoutProvider'};return Component.extend({defaults:{template:'Magento_Checkout/shipping-address/list',visible:addressList().length>0,rendererTemplates:[]},initialize:function(){this._super().initChildren();addressList.subscribe(function(changes){var self=this;changes.forEach(function(change){if(change.status==='added'){self.createRendererComponent(change.value,change.index);}});},this,'arrayChange');return this;},initConfig:function(){this._super();this.rendererComponents=[];return this;},initChildren:function(){_.each(addressList(),this.createRendererComponent,this);return this;},createRendererComponent:function(address,index){var rendererTemplate,templateData,rendererComponent;if(index in this.rendererComponents){this.rendererComponents[index].address(address);}else{rendererTemplate=address.getType()!=undefined&&this.rendererTemplates[address.getType()]!=undefined?utils.extend({},defaultRendererTemplate,this.rendererTemplates[address.getType()]):defaultRendererTemplate;templateData={parentName:this.name,name:index};rendererComponent=utils.template(rendererTemplate,templateData);utils.extend(rendererComponent,{address:ko.observable(address)});layout([rendererComponent]);this.rendererComponents[index]=rendererComponent;}}});});define('Amazon_Payment/js/view/shipping-address/list',['Magento_Checkout/js/view/shipping-address/list','Magento_Customer/js/model/address-list','Amazon_Payment/js/model/storage','ko'],function(Component,addressList,amazonStorage,ko){'use strict';return Component.extend({initObservable:function(){this._super();this.visible=ko.computed(function(){return addressList().length>0&&!amazonStorage.isAmazonAccountLoggedIn();});return this;}});});define('text!Magento_Captcha/template/checkout/captcha.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<input name="captcha_form_id" type="hidden" data-bind="value: formId,  attr: {\'data-scope\': dataScope}" />\n<!-- ko if: (isRequired() && getIsVisible())-->\n<div class="field captcha required" data-bind="blockLoader: getIsLoading()">\n    <label data-bind="attr: {for: \'captcha_\' + formId}" class="label"><span data-bind="i18n: \'Please type the letters and numbers below\'"></span></label>\n    <div class="control captcha">\n        <input name="captcha_string" type="text" class="input-text required-entry" data-bind="value: captchaValue(), attr: {id: \'captcha_\' + formId, \'data-scope\': dataScope}" autocomplete="off"/>\n        <div class="nested">\n            <div class="field captcha no-label">\n                <div class="control captcha-image">\n                    <img data-bind="attr: {\n                                        alt: $t(\'Please type the letters and numbers below\'),\n                                        title: $t(\'Please type the letters and numbers below\'),\n                                        height: imageHeight(),\n                                        src: getImageSource(),\n                                        }"\n                         class="captcha-img"/>\n                    <button type="button" class="action reload captcha-reload" data-bind="attr: {title: $t(\'Reload captcha\')}, click: refresh">\n                        <span data-bind="i18n: \'Reload captcha\'"></span>\n                    </button>\n                </div>\n            </div>\n            <!-- ko if: isCaseSensitive()-->\n            <div class="captcha-note note" data-bind="i18n: \'Attention: Captcha is case sensitive.\'"></div>\n            <!-- /ko -->\n        </div>\n    </div>\n</div>\n<!-- /ko -->\n';});define('text!Vaimo_Sabcapi/template/checkout.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<div class="sabc-id-upload-block" if="hasTvProduct() && !hasValidIdBook()">\n    <h3>\n        <translate args="\'Before you proceed\'" />\n    </h3>\n    <!-- ko foreach: getRegion(\'idBook\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!--/ko-->\n</div>\n';});define('text!Magento_Checkout/template/payment-methods/list.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n -->\n<div if="isPaymentMethodsAvailable()"\n     class="items payment-methods">\n    <div repeat="foreach: paymentGroupsList, item: \'$group\'"\n         class="payment-group">\n        <div if="getRegion($group().displayArea)().length"\n             translate="getGroupTitle($group)"\n             class="step-title"\n             data-role="title">\n        </div>\n        <each args="data: getRegion($group().displayArea), as: \'method\'" render=""/>\n    </div>\n</div>\n<div ifnot="isPaymentMethodsAvailable()"\n     class="no-payments-block"\n     translate="\'No Payment Methods\'">\n</div>\n';});define('text!Magento_Shipping/template/checkout/shipping/shipping-policy.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="shipping-policy-block field-tooltip"\n     data-bind="visible: config.isEnabled">\n    <span class="field-tooltip-action"\n          tabindex="0"\n          data-toggle="dropdown"\n          data-bind="mageInit: {\'dropdown\':{\'activeClass\': \'_active\'}}">\n        <!-- ko i18n: \'See our Shipping Policy\' --><!-- /ko -->\n    </span>\n    <div class="field-tooltip-content"\n         data-target="dropdown">\n        <span data-bind="html: config.shippingPolicyContent"></span>\n    </div>\n</div>\n';});define('text!Magento_Checkout/template/summary/cart-items.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div class="block items-in-cart" data-bind="mageInit: {\'collapsible\':{\'openedState\': \'active\', \'active\': isItemsBlockExpanded()}}">\n    <div class="title" data-role="title">\n        <strong role="heading" aria-level="1">\n            <translate args="maxCartItemsToDisplay" if="maxCartItemsToDisplay < getCartLineItemsCount()"/>\n            <translate args="\'of\'" if="maxCartItemsToDisplay < getCartLineItemsCount()"/>\n            <span data-bind="text: getCartSummaryItemsCount()"></span>\n            <translate args="\'Items in Cart\'" if="getCartLineItemsCount() === 1"/>\n            <translate args="\'Items in Cart\'" if="getCartLineItemsCount() > 1"/>\n        </strong>\n    </div>\n    <div class="content minicart-items" data-role="content">\n        <div class="minicart-items-wrapper overflowed">\n            <ol class="minicart-items">\n                <each args="items()">\n                    <li class="product-item">\n                        <div class="product">\n                            <each args="$parent.elems()" render=""/>\n                        </div>\n                    </li>\n                </each>\n            </ol>\n        </div>\n    </div>\n    <div class="actions-toolbar" if="maxCartItemsToDisplay < getCartLineItemsCount()">\n        <div class="secondary">\n            <a class="action viewcart" data-bind="attr: {href: cartUrl}">\n                <span data-bind="i18n: \'View and Edit Cart\'"></span>\n            </a>\n        </div>\n    </div>\n</div>\n';});define('text!Magento_Checkout/template/summary/totals.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isDisplayed() -->\n<table class="data table table-totals">\n    <caption class="table-caption" data-bind="i18n: \'Order Summary\'"></caption>\n    <tbody>\n    <!-- ko foreach: elems() -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n    <!-- /ko -->\n    </tbody>\n</table>\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/shipping-information.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<!-- ko if: (isVisible()) -->\n<div class="shipping-information">\n    <div class="ship-to">\n        <div class="shipping-information-title" data-bind="mageInit: {\'collapsible\':{\'openedState\': \'_active\'}}">\n            <span data-bind="i18n: isCncOrder() ? \'Collect From:\' : \'Deliver To:\'"></span>\n            <button class="action action-edit" data-bind="click: back">\n                <span data-bind="i18n: \'edit\'"></span>\n            </button>\n        </div>\n        <div class="shipping-information-content" if="!isCncOrder()">\n            <!-- ko foreach: getRegion(\'ship-to\') -->\n                <!-- ko template: getTemplate() --><!-- /ko -->\n            <!--/ko-->\n        </div>\n        <div class="shipping-information-content" if="isCncOrder()">\n            <strong data-bind="text: collectionPoint().storeName"></strong><br/>\n            <text args="collectionPoint().address"/>\n        </div>\n    </div>\n    <div class="ship-via">\n        <div class="shipping-information-title" data-bind="mageInit: {\'collapsible\':{\'openedState\': \'_active\'}}">\n            <span data-bind="i18n: \'Delivery Method:\'"></span>\n            <button class="action action-edit" data-bind="click: backToShippingMethod">\n                <span data-bind="i18n: \'edit\'"></span>\n            </button>\n        </div>\n        <div class="shipping-information-content">\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </div>\n    </div>\n</div>\n<!--/ko-->\n';});define('text!Magento_Checkout/template/estimation.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div class="opc-estimated-wrapper" data-bind="blockLoader: isLoading, afterRender: toTop">\n    <div class="estimated-block">\n        <span class="estimated-label" data-bind="i18n: \'Estimated Total\'"></span>\n        <span class="estimated-price" data-bind="text: getValue()"></span>\n    </div>\n    <div class="minicart-wrapper">\n        <button type="button" class="action showcart" data-bind="click: showSidebar" data-toggle="opc-summary">\n            <span class="counter qty">\n                <span class="counter-number" data-bind="text: getQuantity()"></span>\n            </span>\n        </button>\n    </div>\n</div>\n';});define('text!Vaimo_Sabcapi/template/customer/idBook.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<div class="id-book-upload">\n    <!-- ko if: idBookValidated() -->\n    <div class="message success">\n        <translate args="\'Your identification details have been validated.\'" />\n    </div>\n    <!-- /ko -->\n\n    <!-- ko ifnot: idBookValidated() -->\n    <div class="message info" ifnot="uploading()">\n        <translate if="isCheckout" args="\'Your cart contains a TV Product, please upload a copy of your ID here for SABC Validation.\'" />\n        <translate ifnot="isCheckout" args="\'Resubmit a valid proof of ID here, if requested to by admin or via email.\'" />\n    </div>\n    <div class="message info" if="uploading()">\n        <translate args="\'Uploading proof of ID, please wait...\'" />\n    </div>\n    <form class="form" method="post" enctype="multipart/form-data" data-bind="submit: submit, visible: !uploading()">\n        <input type="hidden" name="form_key" data-bind="value: formKey" />\n        <div class="fieldset">\n            <div class="field choice field-file-upload"\n                 data-bind="mageInit: {\n                     \'vFileUpload\':{\n                         \'imagePreview\': true,\n                         \'updateLabel\': false\n                     }\n                 }">\n                <div class="control">\n                    <input id="id-book-upload"\n                           name="idbook"\n                           type="file"\n                           accept="image/jpg, image/jpeg, image/png, image/pdf"\n                           capture="environment"\n                           class="file"\n                           data-bind="value: fileValue" />\n                    <label class="label" for="id-book-upload">\n                        <translate args="\'Select proof of ID\'" />\n                    </label>\n                </div>\n                <div class="preview"></div>\n            </div>\n        </div>\n        <div class="actions-toolbar">\n            <div class="primary">\n                <button class="action primary"\n                        type="submit"\n                        disabled\n                        data-bind="enable: enableButton()">\n                    <translate args="\'Submit your ID\'" />\n                </button>\n            </div>\n        </div>\n    </form>\n    <!-- /ko -->\n</div>\n';});define('text!Magento_Checkout/template/progress-bar.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<ul class="opc-progress-bar">\n    <li class="opc-progress-bar-item _complete" data-bind="click: goToCart">\n        <span class="circle icon__checkmark"></span>\n        <span class="title" data-bind="i18n: \'Cart\'"></span>\n    </li>\n\n    <!-- ko foreach: { data: steps().sort(sortItems), as: \'item\' } -->\n        <li class="opc-progress-bar-item" data-bind="css: item.isVisible() ? \'_active\' : ($parent.isProcessed(item) ? \'_complete\' : \'\'), click: $parent.navigateTo">\n            <!-- ko if: $parent.isProcessed(item) -->\n                <span class="circle icon__checkmark"></span>\n            <!-- /ko -->\n\n            <!-- ko ifnot: $parent.isProcessed(item) -->\n                <span class="circle counter"></span>\n            <!-- /ko -->\n\n            <span class="title" data-bind="i18n: item.title"></span>\n        </li>\n    <!-- /ko -->\n</ul>\n';});define('text!Magento_SalesRule/template/summary/discount.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isDisplayed() -->\n<tr class="totals discount">\n    <th class="mark" scope="row">\n        <span class="title" data-bind="text: getTitle()"></span>\n        <span class="discount coupon" data-bind="text: getCouponCode()"></span>\n    </th>\n    <td class="amount">\n        <span class="price" data-bind="text: getValue(), attr: {\'data-th\': name}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!Magento_GiftCardAccount/template/summary/gift-card-account.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<!-- ko if: isAvailable() -->\n    <!-- ko foreach: getAppliedGiftCards() -->\n    <tr class="totals giftcard">\n        <th class="mark" scope="row">\n            <a href="#" class="giftcard-remove" data-bind="\n                click: function(data, event) {\n                    $parent.removeGiftCard(c, event);\n                }"></a>\n            <!-- ko text: $parent.title --><!-- /ko -->\n            <div class="giftcard-code-display">\n                <span>\n                    <!-- ko text: \' (\' + c + \')\' --><!-- /ko -->\n                </span>\n            </div>\n        </th>\n        <td class="amount">\n                <span class="discount">\n                    <span class="price" data-bind="\n                        text: \'-\' + $parent.getAmount(a),\n                        attr: {\n                            \'data-th\':  $parent.title + \' (\' + c + \')\'\n                        }">\n                    </span>\n                </span>\n        </td>\n    </tr>\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/summary/item/details.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<!-- ko foreach: getRegion(\'before_details\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!-- /ko -->\n<div class="product-item-details">\n    <div class="product-item-inner">\n        <div class="product-item-name-block">\n            <strong class="product-item-name" data-bind="html: $parent.name"></strong>\n            <!-- ko if: (JSON.parse($parent.options).length > 0)-->\n            <ul class="item-options">\n                <!--ko foreach: JSON.parse($parent.options)-->\n                <li class="item-option">\n                    <div class="label" data-bind="text: label"></div>\n                    <!-- ko if: ($data.full_view)-->\n                    <div class="values" data-bind="html: full_view"></div>\n                    <!-- /ko -->\n                    <!-- ko ifnot: ($data.full_view)-->\n                    <div class="values" data-bind="html: value"></div>\n                    <!-- /ko -->\n                </li>\n                <!-- /ko -->\n            </ul>\n            <!-- /ko -->\n            <div class="details-qty">\n                <span class="label"><!-- ko i18n: \'Qty:\' --><!-- /ko --></span>\n                <span class="value" data-bind="text: $parent.qty"></span>\n            </div>\n        </div>\n        <!-- ko foreach: getRegion(\'after_details\') -->\n        <!-- ko template: getTemplate() --><!-- /ko -->\n        <!-- /ko -->\n    </div>\n</div>\n<!-- ko foreach: getRegion(\'item_message\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/summary/shipping.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: quoteIsVirtual == 0 -->\n    <!-- ko if: isBothPricesDisplayed() -->\n    <tr class="totals shipping excl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="text: title+ \' \' + excludingTaxMessage"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getExcludingValue(), attr: {\'data-th\': excludingTaxMessage}"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getExcludingValue(), attr: {\'data-th\': excludingTaxMessage}"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n    <tr class="totals shipping incl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="text: title + \' \' + includingTaxMessage"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title + \' \' + excludingTaxMessage}"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title + \' \' + excludingTaxMessage}"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n    <!-- /ko -->\n    <!-- ko if: isIncludingDisplayed() -->\n    <tr class="totals shipping incl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="i18n: title"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getIncludingValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n    <!-- /ko -->\n    <!-- ko if: isExcludingDisplayed() -->\n    <tr class="totals shipping excl">\n        <th class="mark" scope="row">\n            <span class="label" data-bind="i18n: title"></span>\n            <!-- ko if: haveToShowCoupon() -->\n                <span class="label description" data-bind="text: getCouponDescription()"></span>\n            <!-- /ko -->\n            <span class="value" data-bind="text: getShippingMethodTitle()"></span>\n        </th>\n        <td class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getValue(), attr: {\'data-th\': title}"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/summary/tax.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: ifShowValue() && !ifShowDetails() -->\n<tr class="totals-tax">\n    <th data-bind="text: title" class="mark" scope="row"></th>\n    <td data-bind="attr: {\'data-th\': title}" class="amount">\n        <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getValue()"></span>\n        <!-- /ko -->\n        <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getValue()"></span>\n        <!-- /ko -->\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: ifShowValue() && ifShowDetails() -->\n    <tr class="totals-tax-summary"\n        data-bind="mageInit: {\'toggleAdvanced\':{\'selectorsToggleClass\': \'shown\', \'baseToggleClass\': \'expanded\', \'toggleContainers\': \'.totals-tax-details\'}}">\n        <th data-bind="text: title" class="mark" scope="row"></th>\n        <td data-bind="attr: {\'data-th\': title }" class="amount">\n            <!-- ko if: isCalculated() -->\n            <span class="price"\n                  data-bind="text: getValue()"></span>\n            <!-- /ko -->\n            <!-- ko ifnot: isCalculated() -->\n            <span class="not-calculated"\n                  data-bind="text: getValue()"></span>\n            <!-- /ko -->\n        </td>\n    </tr>\n    <!-- ko foreach: getDetails() -->\n        <!-- ko foreach: rates -->\n        <tr class="totals-tax-details">\n            <!-- ko if: percent -->\n                <th class="mark" scope="row" data-bind="text: title + \' (\' + percent + \'%)\'"></th>\n            <!-- /ko -->\n            <!-- ko if: !percent -->\n                <th class="mark" scope="row" data-bind="text: title"></th>\n            <!-- /ko -->\n            <td class="amount">\n                <!-- ko if: $parents[1].isCalculated() -->\n                <span class="price"\n                      data-bind="text: $parents[1].getTaxAmount($parents[0], percent), attr: {\'data-th\': title, \'rowspan\': $parents[0].rates.length }"></span>\n                <!-- /ko -->\n                <!-- ko ifnot: $parents[1].isCalculated() -->\n                <span class="not-calculated"\n                      data-bind="text: $parents[1].getTaxAmount($parents[0], percent), attr: {\'data-th\': title, \'rowspan\': $parents[0].rates.length }"></span>\n                <!-- /ko -->\n            </td>\n        </tr>\n        <!-- /ko -->\n    <!-- /ko -->\n<!-- /ko -->\n';});define('text!Magento_CompanyCredit/template/checkout/summary/grand-total.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isPaymentGrandTotalDisplayNeeded() && isDisplayed() -->\n<tr class="totals charge">\n    <th class="mark" data-bind="i18n: basicCurrencyMessage" scope="row"></th>\n    <td class="amount">\n        <span class="price" data-bind="text: getBaseValue(), attr: {\'data-th\': basicCurrencyMessage}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('text!Magento_Tax/template/checkout/summary/grand-total.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if: isTaxDisplayedInGrandTotal && isDisplayed() -->\n<tr class="grand totals incl">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: inclTaxLabel"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': inclTaxLabel}" class="amount">\n        <strong><span class="price" data-bind="text: getValue()"></span></strong>\n    </td>\n</tr>\n<tr class="grand totals excl">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: exclTaxLabel"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': exclTaxLabel}" class="amount">\n        <strong><span class="price" data-bind="text: getGrandTotalExclTax()"></span></strong>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: !isTaxDisplayedInGrandTotal && isDisplayed() -->\n<tr class="grand totals">\n    <th class="mark" scope="row">\n        <strong data-bind="i18n: title"></strong>\n    </th>\n    <td data-bind="attr: {\'data-th\': title}" class="amount">\n        <strong><span class="price" data-bind="text: getValue()"></span></strong>\n    </td>\n</tr>\n<!-- /ko -->\n<!-- ko if: isBaseGrandTotalDisplayNeeded() && isDisplayed() -->\n<tr class="totals charge">\n    <th class="mark" data-bind="i18n: basicCurrencyMessage" scope="row"></th>\n    <td class="amount">\n        <span class="price" data-bind="text: getBaseValue(), attr: {\'data-th\': basicCurrencyMessage}"></span>\n    </td>\n</tr>\n<!-- /ko -->\n';});define('mage/dropdowns',['jquery'],function($){'use strict';$.fn.dropdown=function(options){var defaults={parent:null,autoclose:true,btnArrow:'.arrow',menu:'[data-target="dropdown"]',activeClass:'active'},actionElem=$(this),self=this;options=$.extend(defaults,options);actionElem=$(this);self=this;this.openDropdown=function(elem){elem.addClass(options.activeClass).attr('aria-expanded',true).parent().addClass(options.activeClass);elem.parent().find(options.menu).attr('aria-hidden',false);$(options.btnArrow,elem).text('-');};this.closeDropdown=function(elem){elem.removeClass(options.activeClass).attr('aria-expanded',false).parent().removeClass(options.activeClass);elem.parent().find(options.menu).attr('aria-hidden',true);$(options.btnArrow,elem).text('+');};this.reset=function(param){var params=param||{},dropdowns=params.elems||actionElem;dropdowns.each(function(index,elem){self.closeDropdown($(elem));});};if(options.autoclose===true){$(document).on('click.hideDropdown',this.reset);$(document).on('keyup.hideDropdown',function(e){var ESC_CODE='27';if(e.keyCode==ESC_CODE){self.reset();}});}
if(options.events){$.each(options.events,function(index,event){$(document).on(event.name,event.selector,event.action);});}
return this.each(function(){var elem=$(this),parent=$(options.parent).length>0?$(options.parent):elem.parent(),menu=$(options.menu,parent)||$('.dropdown-menu',parent);if(menu.length){elem.attr('aria-haspopup',true);}
if(!elem.hasClass(options.activeClass)){elem.attr('aria-expanded',false);menu.attr('aria-hidden',true);}else{elem.attr('aria-expanded',true);menu.attr('aria-hidden',false);}
if(!elem.is('a, button')){elem.attr('role','button');elem.attr('tabindex',0);}
if(elem.attr('data-trigger-keypress-button')){elem.on('keypress',function(e){var keyCode=e.keyCode||e.which,ENTER_CODE=13;if(keyCode===ENTER_CODE){e.preventDefault();elem.trigger('click.toggleDropdown');}});}
elem.on('click.toggleDropdown',function(){var el=actionElem;if(options.autoclose===true){actionElem=$();$(document).trigger('click.hideDropdown');actionElem=el;}
self[el.hasClass(options.activeClass)?'closeDropdown':'openDropdown'](elem);return false;});});};return function(data,el){$(el).dropdown(data);};});define('text!Magento_Checkout/template/summary/item/details/subtotal.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<span class="subtotal" data-bind="text: getValue($parents[1])"></span>\n';});define('text!Magento_Checkout/template/summary/item/details/thumbnail.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<span class="product-image-container"\n      data-bind="attr: {\'style\': \'height: \' + getHeight($parents[1]) + \'px; width: \' + getWidth($parents[1]) + \'px;\' }">\n    <span class="product-image-wrapper">\n        <img\n            data-bind="attr: {\'src\': getSrc($parents[1]), \'width\': getWidth($parents[1]), \'height\': getHeight($parents[1]), \'alt\': getAlt($parents[1]), \'title\': getAlt($parents[1]) }"/>\n    </span>\n</span>\n';});define('text!Magento_Checkout/template/summary/item/details/message.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="cart item message notice" if="getMessage($parents[1])">\n    <div data-bind="text: getMessage($parents[1])"></div>\n</div>\n';});define('text!vForm/template/form/component/file/file-upload-preview.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div class="message image-preview <%= state %>">\n    <span><%= text %></span>\n    <% if (imageSrc) { %>\n        <img alt="<%= fileName %>" src="<%= imageSrc %>" />\n    <% } else { %>\n        <div class="file-name"><%= fileName %></div>\n    <% } %>\n</div>\n';});define('vForm/js/file-upload',['jquery','underscore','mage/template','text!vForm/template/form/component/file/file-upload-preview.html','jquery-ui-modules/widget','mage/translate'],function($,_,templateEngine,previewTemplate){'use strict';$.widget('vaimo.fileUpload',{options:{imagePreview:false,updateLabel:true,inputSelector:'input[type="file"]',labelSelector:'label.label span',previewSelector:'.preview',previewTemplate:previewTemplate,defaultPreviewText:$.mage.__('No file selected'),allowedTypes:['image/apng','image/bmp','image/gif','image/jpeg','image/pjpeg','image/png','image/svg+xml','image/tiff','image/webp','image/x-icon','application/pdf']},states:{info:'info',error:'error',warning:'warning',success:'success'},elements:{input:null,label:null,preview:null},initialLabelText:'',_sanitizeData:function(data){var defaultData={state:this.states.info,text:this.options.defaultPreviewText,imageSrc:null,fileName:null};return _.extend({},defaultData,data);},_fileTypeAllowed:function(file){return this.options.allowedTypes.indexOf(file.type)>-1;},returnFileSize:function(number){if(number<1024){return number+'bytes';}else if(number>=1024&&number<1048576){return(number/1024).toFixed(1)+'KB';}else if(number>=1048576){return(number/1048576).toFixed(1)+'MB';}},updatePreview:function(data){if(this.options.imagePreview&&this.elements.preview.length>0){this.elements.preview.empty();this.elements.preview.append($(templateEngine(this.options.previewTemplate,this._sanitizeData(data))));}},handleFileChange:function(){var files=this.elements.input.prop('files'),file;this.elements.input.data('valid',false);if(files.length>1){this.updatePreview({text:$.mage.__('Only one file allowed'),state:this.states.error});this.elements.label.text(this.initialLabelText);}else if(files.length===1){file=files[0];if(this._fileTypeAllowed(file)&&file.type==="application/pdf"){this.updatePreview({text:$.mage.__('Ready to upload (%1)').replace('%1',this.returnFileSize(file.size)),imageSrc:"",fileName:file.name,state:this.states.success});this.elements.input.data('valid',true);}else if(this._fileTypeAllowed(file)){this.updatePreview({text:$.mage.__('Ready to upload (%1)').replace('%1',this.returnFileSize(file.size)),imageSrc:URL.createObjectURL(file),fileName:file.name,state:this.states.success});this.elements.input.data('valid',true);}else{this.updatePreview({text:$.mage.__('File type "%1" not allowed').replace('%1',file.type),state:this.states.error});}
if(this.options.updateLabel){this.elements.label.text(file.name);}}else{this.updatePreview();this.elements.label.text(this.initialLabelText);}},cacheElements:function(){this.elements.input=this.element.find(this.options.inputSelector);this.elements.label=this.element.find(this.options.labelSelector);this.elements.preview=this.element.find(this.options.previewSelector);this.initialLabelText=this.elements.label.text();},bind:function(){this.elements.input.on('change',this.handleFileChange.bind(this));},_create:function(){this.cacheElements();this.updatePreview();this.bind();}});return $.vaimo.fileUpload;});define('text!Magento_Checkout/template/shipping-address/shipping-method-list.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<div id="checkout-shipping-method-load">\n    <table class="table-checkout-shipping-method" data-bind="css: {_multiple: (rates().length > 1)}">\n        <thead>\n            <tr class="row">\n                <th class="col col-method" translate="\'Select Method\'"></th>\n                <th class="col col-price" translate="\'Price\'"></th>\n                <th class="col col-method" translate="\'Method Title\'"></th>\n                <th class="col col-carrier" translate="\'Carrier Title\'"></th>\n            </tr>\n        </thead>\n        <tbody>\n            <!-- ko foreach: { data: rates(), as: \'method\'} -->\n                <!--ko template: { name: method.method_code == \'clickandcollect\' ? element.collectionMethodItemTemplate : element.shippingMethodItemTemplate } --><!-- /ko -->\n            <!-- /ko -->\n        </tbody>\n    </table>\n</div>\n';});define('text!Magento_Checkout/template/shipping-address/shipping-method-item.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<tr click="element.selectShippingMethod"\n    attr="\'class\': element.isSelected() === method.carrier_code + \'_\' + method.method_code ?\n        \'row method-block active\': \'row method-block\'">\n    <td class="col col-method">\n        <input type="radio"\n               class="radio"\n               ifnot="method.error_message"\n               ko-checked="element.isSelected"\n               ko-value="method.carrier_code + \'_\' + method.method_code"\n               attr="\'aria-labelledby\': \'label_method_\' + method.method_code + \'_\' + method.carrier_code + \' \' + \'label_carrier_\' + method.method_code + \'_\' + method.carrier_code,\n                    \'checked\': element.rates().length == 1 || element.isSelected" />\n        <label attr="\'for\': \'shipping_method_radio_\' + method.carrier_code + \'_\' + method.method_code">\n            <span text="method.method_title" />\n        </label>\n    </td>\n    <td class="col col-price">\n        <each args="element.getRegion(\'price\')" render="" />\n    </td>\n\n    <td class="col col-method-title"\n        attr="\'id\': \'label_method_\' + method.method_code + \'_\' + method.carrier_code"\n        text="method.method_title" />\n\n    <td class="col col-description">\n        <div attr="\'id\': \'label_method_\' + method.method_code + \'_\' + method.carrier_code" text="method.method_title"/>\n        <div if="checkoutConfig.shippingDescriptions &&\n                checkoutConfig.shippingDescriptions[method.method_code + \'_\' + method.carrier_code]"\n             text="checkoutConfig.shippingDescriptions[method.method_code + \'_\' + method.carrier_code]"/>\n    </td>\n</tr>\n<tr class="row checkout-shipping-address"\n    if="element.isSelected() === method.carrier_code + \'_\' + method.method_code">\n    <td class="col col-shipping" colspan="4">\n        <scope args="element.name">\n            <h3 if="isFormInline"\n                class="form-checkout-title"\n                data-bind="i18n: \'Enter your delivery address & contact details:\'"/>\n            <render args="shippingAddressTemplate" />\n        </scope>\n    </td>\n</tr>\n<tr class="row row-error"\n    if="method.error_message">\n    <td class="col col-error" colspan="4">\n        <div role="alert" class="message error">\n            <div text="method.error_message"></div>\n        </div>\n        <span class="no-display">\n            <input type="radio"\n                   attr="\'value\' : method.method_code, \'id\': \'s_method_\' + method.method_code" />\n        </span>\n    </td>\n</tr>\n';});define('text!Magento_Tax/template/checkout/shipping_method/price.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<!-- ko if:  isDisplayShippingPriceExclTax -->\n<span class="price"><span class="price" data-bind="text: getFormattedPrice(method.price_excl_tax)"></span></span>\n<!-- /ko -->\n<!-- ko ifnot: isDisplayShippingPriceExclTax -->\n<!-- ko if:  (isDisplayShippingBothPrices && (method.price_excl_tax != method.price_incl_tax))-->\n<span class="price-including-tax" data-bind = "attr: {\'data-label\': $t(\'Incl. Tax\')}">\n    <span class="price"><span class="price" data-bind="text: getFormattedPrice(method.price_incl_tax)"></span></span>\n</span>\n<!-- /ko -->\n\n<!-- ko ifnot:  (isDisplayShippingBothPrices && (method.price_excl_tax != method.price_incl_tax))-->\n    <span class="price"><span class="price" data-bind="text: getFormattedPrice(method.price_incl_tax)"></span></span>\n<!-- /ko -->\n\n<!-- /ko -->\n<!-- ko if:  (isDisplayShippingBothPrices && (method.price_excl_tax != method.price_incl_tax))-->\n<span class="price-excluding-tax" data-bind = "attr: {\'data-label\': $t(\'Excl. Tax\')}">\n    <span class="price"><span class="price" data-bind="text: getFormattedPrice(method.price_excl_tax)"></span></span>\n</span>\n<!-- /ko -->\n';});define('text!Magento_Checkout/template/shipping-address/shipping-address.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<each if="!quoteIsVirtual" args="getRegion(\'customer-email\')" render="" />\n<each args="getRegion(\'address-list\')" render="" />\n<each args="getRegion(\'address-list-additional-addresses\')" render="" />\n\n<!-- Address form pop up -->\n<if args="!isFormInline">\n    <div class="new-address-popup">\n        <button type="button"\n                class="action action-show-popup"\n                click="showFormPopUp"\n                visible="!isNewAddressAdded()">\n            <span translate="\'Add Address\'" />\n        </button>\n    </div>\n    <div class="popup-content-shipping-wrapper" style="display: none">\n        <div id="opc-new-shipping-address"\n             visible="isFormPopUpVisible()"\n             render="shippingFormTemplate" />\n    </div>\n</if>\n\n<each args="getRegion(\'before-form\')" render="" />\n\n<!-- Inline address form -->\n<render if="isFormInline" args="shippingFormTemplate" />\n';});define('text!Magento_Checkout/template/shipping-address/list.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n\n<!-- ko if: (visible)-->\n    <div class="control">\n        <!-- ko ifnot: (containers.length && containers[0].isNewAddressAdded()) -->\n        <h3 class="form-checkout-title existing" data-bind="i18n: \'Choose your address or add a new one:\'"/>\n        <!-- /ko -->\n\n        <!-- ko if: (containers.length && containers[0].isNewAddressAdded()) -->\n        <h3 class="form-checkout-title" data-bind="i18n: \'Select a saved address:\'"/>\n        <!-- /ko -->\n\n        <!-- ko if: window.isCustomerLoggedIn -->\n        <div class="loggedin-user-info">\n            <div class="customer-container">\n                <span class="info-text" data-bind="i18n: \'Your order confirmation will be sent to \'"></span>\n                <span class="info-login" data-bind="text: window.customerData.email"></span>\n            </div>\n        </div>\n        <!-- /ko -->\n\n        <div class="shipping-address-items">\n            <!-- ko foreach: { data: elems, as: \'element\' } -->\n            <!-- ko template: element.getTemplate() --><!-- /ko -->\n            <!-- /ko -->\n        </div>\n    </div>\n</div>\n<!-- /ko -->\n';});define('text!Amazon_Payment/template/form/element/email.html',function(){return '<!--\n/**\n * Copyright 2016 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the "License").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the "license" file accompanying this file. This file is distributed\n * on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\n-->\n<!-- ko foreach: getRegion(\'amazon-button-region\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!-- /ko -->\n\n<!-- ko ifnot: isCustomerLoggedIn() -->\n\n<!-- ko foreach: getRegion(\'before-login-form\') -->\n<!-- ko template: getTemplate() --><!-- /ko -->\n<!-- /ko -->\n<form class="form form-login" data-role="email-with-possible-login"\n      data-bind="submit:login"\n      method="post">\n    <fieldset id="customer-email-fieldset" class="fieldset" data-bind="blockLoader: isLoading">\n        <div class="field required">\n            <label class="label" for="customer-email">\n                <span data-bind="i18n: \'Email Address\'"></span>\n            </label>\n            <div class="control _with-tooltip">\n                <input class="input-text"\n                       type="email"\n                       data-bind="textInput: email,\n                            hasFocus: emailFocused"\n                       name="username"\n                       data-validate="{required:true, \'validate-email\':true}"\n                       id="customer-email" />\n                <!-- ko template: \'ui/form/element/helper/tooltip\' --><!-- /ko -->\n                <span class="note" data-bind="fadeVisible: isPasswordVisible() == false"><!-- ko i18n: \'You can create an account after checkout.\'--><!-- /ko --></span>\n            </div>\n        </div>\n\n        <!--Hidden fields -->\n        <fieldset class="fieldset hidden-fields" data-bind="fadeVisible: isPasswordVisible">\n            <div class="field">\n                <label class="label" for="customer-password">\n                    <span data-bind="i18n: \'Password\'"></span>\n                </label>\n                <div class="control">\n\n                    <input class="input-text"\n                           type="password"\n                           name="password"\n                           id="customer-password"\n                           data-validate="{required:true}" autocomplete="off"/>\n                    <span class="note" data-bind="i18n: \'You already have an account with us. Sign in or continue as guest.\'"></span>\n                </div>\n\n            </div>\n            <!-- ko foreach: getRegion(\'additional-login-form-fields\') -->\n            <!-- ko template: getTemplate() --><!-- /ko -->\n            <!-- /ko -->\n            <div class="actions-toolbar">\n                <input name="context" type="hidden" value="checkout" />\n                <div class="primary">\n                    <button type="submit" class="action login primary" data-action="checkout-method-login"><span data-bind="i18n: \'Login\'"></span></button>\n                </div>\n                <div class="secondary">\n                    <a class="action remind" data-bind="attr: { href: forgotPasswordUrl }">\n                        <span data-bind="i18n: \'Forgot Your Password?\'"></span>\n                    </a>\n                </div>\n            </div>\n        </fieldset>\n        <!--Hidden fields -->\n    </fieldset>\n</form>\n<!-- /ko -->\n';});define('text!ui/template/form/field.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="field" data-bind="visible: visible,\nattr: {\'name\': element.dataScope,\n\'data-tmpltype\': element.elementTmpl === \'ui/form/element/select\' ? \'select-field\' : \'\'},\n css: additionalClasses">\n\n    <label class="label" data-bind="attr: { for: element.uid }">\n        <!-- ko if: element.label -->\n        <span translate="element.label"></span>\n        <!-- /ko -->\n    </label>\n\n    <div class="control" data-bind="css: {\'_with-tooltip\': element.tooltip}">\n        <!-- ko ifnot: element.hasAddons() -->\n            <!-- ko template: element.elementTmpl --><!-- /ko -->\n        <!-- /ko -->\n\n        <!-- ko if: element.hasAddons() -->\n            <div class="control-addon">\n                <!-- ko template: element.elementTmpl --><!-- /ko -->\n\n                <!-- ko if: element.addbefore -->\n                    <label class="addon-prefix" data-bind="attr: { for: element.uid }"><span data-bind="text: element.addbefore"></span></label>\n                <!-- /ko -->\n\n                <!-- ko if: element.addafter -->\n                    <label class="addon-suffix" data-bind="attr: { for: element.uid }"><span data-bind="text: element.addafter"></span></label>\n                <!-- /ko -->\n            </div>\n        <!-- /ko -->\n\n        <!-- ko if: element.tooltip -->\n            <!-- ko template: element.tooltipTpl --><!-- /ko -->\n        <!-- /ko -->\n\n        <!-- ko if: element.notice -->\n            <div class="field-note" data-bind="attr: { id: element.noticeId }">\n                <span data-bind="text: element.notice"/>\n            </div>\n        <!-- /ko -->\n\n        <!-- ko if: element.error() -->\n            <div class="field-error" data-bind="attr: { id: element.errorId }" generated="true">\n                <span data-bind="text: element.error"/>\n            </div>\n        <!-- /ko -->\n\n        <!-- ko if: element.warn() -->\n            <div role="alert" class="message warning" data-bind="attr: { id: element.warningId }" generated="true">\n                <span data-bind="text: element.warn"/>\n            </div>\n        <!-- /ko -->\n    </div>\n</div>\n<!-- /ko -->\n';});define('text!ui/template/group/group.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<fieldset class="field" data-bind="css: additionalClasses">\n    <legend class="label">\n        <span translate="element.label"></span>\n    </legend>\n    <div class="control">\n        <!-- ko foreach: { data: elems, as: \'element\' } -->\n\n            <!-- ko if: element.visible() -->\n\n                <!-- ko ifnot: (element.input_type == \'checkbox\' || element.input_type == \'radio\') -->\n                    <!-- ko template: $parent.fieldTemplate --><!-- /ko -->\n                <!-- /ko -->\n\n                <!-- ko if: (element.input_type == \'checkbox\' || element.input_type == \'radio\') -->\n                    <!-- ko template: element.elementTmpl --><!-- /ko -->\n                <!-- /ko -->\n\n            <!-- /ko -->\n\n        <!-- /ko -->\n\n        <!-- ko if: validateWholeGroup -->\n        <!-- ko  foreach: { data: elems, as: \'element\' } -->\n            <!-- ko if: element.error() && element.visible() -->\n                <label class="error" data-bind="attr: { for: uid }, text: element.error"></label>\n            <!-- /ko -->\n        <!-- /ko -->\n        <!-- /ko -->\n    </div>\n</fieldset>\n';});define('text!Amazon_Payment/template/shipping-address/inline-form.html',function(){return '<div data-bind="afterRender: manipulateInlineForm"></div>\n';});define('text!ui/template/form/element/helper/tooltip.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n <div class="field-tooltip toggle">\n\n    <!-- ko if: (tooltip.link)-->\n    <a class="field-tooltip-action action-help"\n       target="_blank"\n       data-toggle="dropdown"\n       data-bind="attr: {href: tooltip.link}, mageInit: {\'dropdown\':{\'activeClass\': \'_active\'}}"></a>\n     <!-- /ko -->\n\n     <span id="tooltip-label" class="label"><!-- ko i18n: \'Tooltip\' --><!-- /ko --></span>\n     <!-- ko if: (!tooltip.link)-->\n         <span\n             id="tooltip"\n             class="field-tooltip-action action-help"\n             tabindex="0"\n             data-toggle="dropdown"\n             data-bind="mageInit: {\'dropdown\':{\'activeClass\': \'_active\', \'parent\': \'.field-tooltip.toggle\'}}"\n             aria-labelledby="tooltip-label"\n         >\n         </span>\n     <!-- /ko -->\n\n     <div class="field-tooltip-content"\n         data-target="dropdown" translate="tooltip.description">\n    </div>\n</div>\n';});define('text!Vaimo_SocialLogin/template/checkout/buttons.html',function(){return '<!--\n Copyright (c) Vaimo Group. All rights reserved.\n See LICENSE_VAIMO.txt for license details.\n-->\n<!-- ko if: isEnabled() && showAfter() || isEnabled() && showBefore()-->\n<div id="social-login-checkout-buttons">\n    <!-- ko if: showAfter() -->\n    <div data-bind="html: getConfig(\'splitLine\')"></div>\n    <!-- /ko -->\n    <!-- ko if: showBefore() -->\n    <div class="social-login-spacer-clean"></div>\n    <!-- /ko -->\n    <div class="social-login-checkout-container" data-bind="foreach: getConfig(\'providers\')">\n        <span data-bind="html: button"></span>\n    </div>\n    <!-- ko if: showAfter() -->\n    <div class="social-login-spacer-clean"></div>\n    <!-- /ko -->\n    <!-- ko if: showBefore() -->\n    <div data-bind="html: getConfig(\'splitLine\')"></div>\n    <!-- /ko -->\n</div>\n<!-- /ko -->\n';});define('text!ui/template/form/element/checkbox.html',function(){return '<!--\n/**\n * Copyright \xA9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n-->\n<div class="choice field">\n    <input type="checkbox"\n           class="checkbox"\n           data-bind="\n           checked: value,\n           attr: {\n                id: uid,\n                disabled: disabled,\n                name: inputName,\n                \'aria-describedby\': getDescriptionId(),\n                \'aria-required\': required,\n                \'aria-invalid\': error() ? true : \'false\'\n                },\n           hasFocus: focused">\n\n    <label class="label" data-bind="checked: value, attr: { for: uid }">\n        <span data-bind="text: description || label"></span>\n    </label>\n\n    <!-- ko if: notice -->\n        <div class="field-note" data-bind="attr: {id: noticeId}"><span data-bind="text: notice"></span></div>\n    <!-- /ko -->\n</div>\n';});define('text!ui/template/form/element/input.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<input class="input-text" type="text" data-bind="\n    value: value,\n    valueUpdate: \'keyup\',\n    hasFocus: focused,\n    attr: {\n        name: inputName,\n        placeholder: placeholder,\n        autocomplete: $data.autocomplete ? autocomplete : \'\',\n        \'aria-describedby\': getDescriptionId(),\n        \'aria-required\': required,\n        \'aria-invalid\': error() ? true : \'false\',\n        id: uid,\n        disabled: disabled\n    }" />\n';});define('text!ui/template/form/element/select.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<select class="select" data-bind="\n    attr: {\n        name: inputName,\n        autocomplete: $data.autocomplete ? autocomplete : \'\',\n        id: uid,\n        disabled: disabled,\n        \'aria-describedby\': getDescriptionId(),\n        \'aria-required\': required,\n        \'aria-invalid\': error() ? true : \'false\',\n        placeholder: placeholder\n    },\n    hasFocus: focused,\n    optgroup: options,\n    value: value,\n    optionsCaption: caption,\n    optionsValue: \'value\',\n    optionsText: \'label\',\n    optionsAfterRender: function(option, item) {\n        if (item && item.disabled) {\n            ko.applyBindingsToNode(option, {attr: {disabled: true}}, item);\n        }\n    }"\n/>\n';});define('text!ui/template/form/element/telephone.html',function(){return '<!--\n/**\n * Copyright \xA9 Vaimo Group. All rights reserved.\n * See LICENSE_VAIMO.txt for license details.\n */\n-->\n<input class="input-text" type="number"\n   data-validate="{\'validate-phoneLax\':true}"\n   data-bind="\n    value: value,\n    valueUpdate: \'keyup\',\n    hasFocus: focused,\n    attr: {\n        name: inputName,\n        placeholder: placeholder,\n        autocomplete: $data.autocomplete ? autocomplete : \'\',\n        \'aria-describedby\': getDescriptionId(),\n        \'aria-required\': required,\n        \'aria-invalid\': error() ? true : \'false\',\n        id: uid,\n        disabled: disabled\n    }" />\n';});